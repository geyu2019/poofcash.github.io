{"version":3,"sources":["utils/number.ts","config.ts","theme/index.ts","i18n/config.ts","components/BackButton.tsx","components/BottomDrawer.tsx","components/ActionDrawer.tsx","components/LabelWithBalance.tsx","components/Divider.tsx","components/TableDivider.tsx","components/SummaryTable.tsx","hooks/useAsyncState.ts","state/user/index.ts","hooks/useWeb3.ts","hooks/useWallet.ts","hooks/useRelayer.ts","pages/WithdrawPage/state.ts","hooks/useBreakpoint.ts","utils/account.ts","hooks/poofAccount.tsx","hooks/usePoofKit.ts","utils/getPoofEvents.ts","hooks/actions/useWithdraw.ts","components/Backdrop.tsx","components/Modal.tsx","utils/helpers.ts","components/Loaders/ProcessingSpinner.tsx","components/Loaders/ProofGenLoading.tsx","pages/WithdrawPage/MobileWithdrawPage/ConfirmWithdraw.tsx","components/Links/index.tsx","pages/WithdrawPage/MobileWithdrawPage/WithdrawReceipt.tsx","components/CloseOnClickaway.tsx","components/StyledSelect.tsx","hooks/useDebounce.ts","utils/url.utils.ts","hooks/useHiddenBalances.ts","utils/nom.ts","hooks/useNom.ts","assets/icons/logo.jsx","assets/icons/withdrawal.jsx","assets/icons/deposit.jsx","assets/icons/repay.jsx","assets/icons/request.jsx","assets/icons/loans.jsx","assets/icons/cog.jsx","assets/icons/x.jsx","assets/icons/export.jsx","assets/icons/index.jsx","pages/WithdrawPage/MobileWithdrawPage/PickWithdraw.tsx","components/GrayBox.tsx","assets/DepositIllustration.tsx","pages/WithdrawPage/DesktopWithdrawPage/DoWithdraw.tsx","pages/WithdrawPage/MobileWithdrawPage/index.tsx","pages/WithdrawPage/DesktopWithdrawPage/WithdrawReceipt.tsx","pages/WithdrawPage/DesktopWithdrawPage/index.tsx","pages/WithdrawPage/index.tsx","pages/RequestPage/state.ts","pages/RequestPage/MobileRequestPage/ConfirmRequest.tsx","pages/RequestPage/MobileRequestPage/RequestReceipt.tsx","state/global/index.ts","pages/RequestPage/MobileRequestPage/PickRequest.tsx","hooks/actions/useRequest.ts","pages/RequestPage/DesktopRequestPage/DoRequest.tsx","pages/RequestPage/MobileRequestPage/index.tsx","pages/RequestPage/DesktopRequestPage/RequestReceipt.tsx","pages/RequestPage/DesktopRequestPage/index.tsx","pages/RequestPage/index.tsx","pages/SendAndRequestPage/index.tsx","utils/toastTx.tsx","hooks/useRequestParams.ts","hooks/useQuery.ts","pages/CompleteRequestPage/state.ts","hooks/useTokenBalance.ts","pages/CompleteRequestPage/MobileCompleteRequestPage/PickCompleteRequest.tsx","hooks/actions/useCompleteRequestApprove.ts","hooks/actions/useCompleteRequest.ts","pages/CompleteRequestPage/MobileCompleteRequestPage/ConfirmCompleteRequest.tsx","pages/CompleteRequestPage/MobileCompleteRequestPage/CompleteRequestReceipt.tsx","pages/CompleteRequestPage/MobileCompleteRequestPage/index.tsx","pages/CompleteRequestPage/DesktopCompleteRequestPage/DoCompleteRequest.tsx","pages/CompleteRequestPage/DesktopCompleteRequestPage/CompleteRequestReceipt.tsx","pages/CompleteRequestPage/DesktopCompleteRequestPage/index.tsx","pages/CompleteRequestPage/index.tsx","components/InfoDrawer.tsx","components/Network/NetworkDetails.tsx","components/Network/NetworkDrawer.tsx","components/PoofAccount/PoofAccountDetails.tsx","components/PoofAccount/PoofAccountDrawer.tsx","components/Network/NetworkCard.tsx","components/Header/MobileHeader.tsx","icons/LogoIcon.tsx","components/Logo.tsx","components/StyledLink.tsx","components/AccountProfile.tsx","components/Header/DesktopHeader.tsx","components/Header/index.tsx","components/FullLogo.tsx","components/DividerWithText.tsx","pages/SetupAccount/PickLogin.tsx","pages/SetupAccount/Login/MobileLogin.tsx","pages/SetupAccount/Login/DesktopLogin.tsx","pages/SetupAccount/Login/index.tsx","icons/ClipboardIcon.tsx","components/PoofPrivateKey.tsx","utils/file.ts","pages/SetupAccount/CreateAccount.tsx","assets/LoginIllustration.tsx","pages/SetupAccount/index.tsx","components/PrivateRoute.tsx","components/Loaders/PoofKitLoading.tsx","components/PrivateRouteWithDep.tsx","contexts/pools.ts","contexts/currencies.jsx","contexts/apr.tsx","pages/BorrowPage/state.ts","hooks/actions/useBorrow.ts","pages/BorrowPage/MobileBorrowPage/ConfirmBorrow.tsx","pages/BorrowPage/MobileBorrowPage/BorrowReceipt.tsx","pages/BorrowPage/MobileBorrowPage/PickBorrow.tsx","assets/LoansIllustration.tsx","pages/BorrowPage/DesktopBorrowPage/DoBorrow.tsx","pages/BorrowPage/MobileBorrowPage/index.tsx","pages/BorrowPage/DesktopBorrowPage/BorrowReceipt.tsx","pages/BorrowPage/DesktopBorrowPage/index.tsx","pages/BorrowPage/index.tsx","pages/RepayPage/state.ts","pages/RepayPage/MobileRepayPage/ConfirmRepay.tsx","pages/RepayPage/MobileRepayPage/RepayReceipt.tsx","pages/RepayPage/MobileRepayPage/PickRepay.tsx","hooks/actions/useRepay.ts","pages/RepayPage/DesktopRepayPage/DoRepay.tsx","pages/RepayPage/MobileRepayPage/index.tsx","pages/RepayPage/DesktopRepayPage/RepayReceipt.tsx","pages/RepayPage/DesktopRepayPage/index.tsx","pages/RepayPage/index.tsx","components/HomeButton/Desktop.tsx","components/HomeButton/index.tsx","components/WalletSummary/Desktop.tsx","components/ProgressBar.tsx","pages/LoansPage/CreditSummary/index.tsx","pages/LoansPage/SingleCreditSumarry/index.tsx","components/Loaders/TimedSpinner.tsx","pages/LoansPage/LoansSummary.tsx","pages/LoansPage/index.tsx","hooks/useAssets.tsx","pages/DepositPage/state.ts","pages/DepositPage/MobileDepositPage/ConfirmDeposit.tsx","pages/DepositPage/MobileDepositPage/DepositReceipt.tsx","hooks/actions/useDepositApprove.ts","pages/DepositPage/MobileDepositPage/PickDeposit.tsx","hooks/actions/useDeposit.ts","pages/DepositPage/DesktopDepositPage/DoDeposit.tsx","pages/DepositPage/MobileDepositPage/index.tsx","pages/DepositPage/DesktopDepositPage/DepositReceipt.tsx","pages/DepositPage/DesktopDepositPage/index.tsx","pages/DepositPage/index.tsx","components/WalletSummary/index.tsx","components/APRLabel.tsx","components/Assets/Desktop.tsx","components/Assets/Mobile.tsx","components/Assets/index.tsx","components/TransactionsHistory/Desktop.tsx","utils/date.ts","hooks/useTransactions.ts","components/TransactionsHistory/index.tsx","hooks/tvl/useAvalancheTVL.tsx","hooks/tvl/useTVL.tsx","hooks/tvl/useCeloTVL.tsx","hooks/tvl/useFantomTVL.tsx","hooks/tvl/usePolygonTVL.tsx","hooks/tvl/useEthereumTVL.tsx","pages/HomePage/index.tsx","App.tsx","state/index.ts","serviceWorkerRegistration.js","reportWebVitals.ts","index.tsx","utils/eth.ts"],"names":["humanFriendlyNumber","v","num","Number","smallest","Math","pow","DECIMAL_PRECISION","toFixed","formatted","toLocaleString","undefined","minimumFractionDigits","decimalIdx","indexOf","slice","toBN","BN","parseNumber","value","parseFloat","getPercentage","max","floor","ChainId","SUPPORTED_NETWORKS","chainId","name","rpc","explorer","gasCurrency","process","REACT_APP_ETHEREUM_RPC","RELAYERS","localForageVersion","DEFAULT_GAS_PRICE","toWei","NOM","NETWORK_COST","preset","breakpoints","colors","purple25","purple50","purple100","purple300","purple400","black800","black900","black700","black600","black200","regularText","secondaryText","tertiaryText","primaryText","secondaryBackground","primary","black","primaryMoneyText","secondaryMoneyText","text","primaryButtonText","primaryButtonHover","secondaryButtonText","accent","background","secondary","muted","gray","mediumGray","lightGray","darkgray","highlight","box","disabled","elementBackground","cardBackgroundHover","iconBackground","iconBackgroundHover","selectActive","tertiaryBg","tertiaryBgHover","tertiaryBtnLabel","minimalBtnBg","minimalBtnLabel","minimalBtnBorder","cardBackground","cardBorder","switcherBorder","switcherBg","switcherBgActive","generationModalBg","generationModalHeader","generationModalText","generationModalCancel","generationModalBorderBg","modes","dark","fonts","heading","regular","bold","demiBold","medium","fontSizes","lineHeights","body","space","letterSpacings","small","sizes","avatar","shadows","card","default","color","fontFamily","fontWeight","fontSize","lineHeight","pageHeader1","variant","title","logo","letterSpacing","wallet","account","regularGray","form","fontStyle","subtitle","tableHeader","summaryTitle","largeNumber","reallyBigNumber","variants","width","height","borderRadius","nav","display","p","textDecoration","select","borderColor","borderWidth","input","backgroundColor","padding","outline","iconContainer","justifyContent","alignItems","transition","label","marginBottom","responsiveLabel","paddingBottom","buttons","cursor","bg","px","py","submit","marginTop","border","link","tertiary","minimal","borderStyle","ghost","done","switcher","borderBottom","mr","switcherSelected","badges","interestUp","interestDown","styles","root","countdown","a","h1","flex","centered","cards","home","bordered","compact","warning","resources","en","translation","i18n","use","initReactI18next","init","lng","BackButton","onClick","sx","mb","ml","BottomDrawer","children","position","bottom","left","ActionDrawer","borderTop","LabelWithBalance","amount","currency","amountLabel","Divider","styled","ThemeDivider","TableDivider","columns","gridColumnStart","gridColumnEnd","SummaryTable","lineItems","totalItem","map","idx","Fragment","textAlign","useAsyncState","initialState","asyncGetter","state","setState","useState","dirty","setDirty","useEffect","then","catch","console","warn","network","setAccount","createAction","setNetwork","createReducer","builder","addCase","action","poofAccount","payload","useWeb3","useSelector","user","dispatch","useDispatch","React","useCallback","setNetworkAction","web3","useMemo","Web3","WalletGlobal","createContainer","contractKit","useContractKit","address","setAddress","gasPrice","setGasPrice","setGasCurrency","isCelo","includes","isPolygon","eth","getGasPrice","connect","async","web3Modal","Web3Modal","providerOptions","walletconnect","package","WalletConnectProvider","options","infuraId","clearCachedProvider","provider","setProvider","accounts","getAccounts","getConnectedWeb3","getConnectedKit","kit","selectedRelayerState","atom","key","relayerOptionsState","customRelayerState","usingCustomState","useRelayer","selectedRelayer","setSelectedRelayer","useRecoilState","relayerOptions","setRelayerOptions","customRelayer","setCustomRelayer","usingCustomRelayer","setUsingCustomRelayer","useContainer","start","Date","now","statusPromises","relayerUrl","axios","get","timeout","res","latency","e","message","statuses","statusPromise","push","filter","result","Error","sort","b","status","url","config","split","relayerFee","data","poofServiceFee","miningServiceFee","gasPrices","celoPrices","length","fn","relayer","call","poofKit","PoofKit","poolMatch","fromWei","calculateFee","symbol","toLowerCase","mul","div","toString","withdrawAmount","withdrawCurrency","withdrawRecipient","withdrawResolvedRecipient","withdrawLoading","withdrawTxHash","Breakpoint","useBreakpoint","theme","useThemeUI","breakpoint","setBreakpoint","MOBILE","desktopBreakpoint","parseInt","useLayoutEffect","listener","window","innerWidth","DESKTOP","addEventListener","removeEventListener","shortenAccount","truncation","enforceHex","startsWith","PoofAccountGlobal","privateKey","setPrivateKey","promptPassword","passwordModal","isOpen","setIsOpen","passwordInput","useRef","setAction","cancelAction","setCancelAction","setSubtitle","reset","modalStyle","content","top","onRequestClose","style","pt","onSubmit","password","current","preventDefault","type","ref","autoFocus","autoComplete","usePasswordPrompt","unlockPoofAccount","decrypt","error","actWithPoofAccount","alert","savePoofAccount","onSave","encrypt","disconnectPoofAccount","PoofKitGlobal","progress","snarkJs","worker","Worker","wrap","getDepLambda","cacheKey","remoteUrl","cached","localForage","getItem","dep","getProofDeps","setItem","initialize","initializeDeposit","initializeWithdraw","initializeInputRoot","initializeOutputRoot","tryInit","getNewAccountEvents","poolAddress","creationBlock","EVENTS_KEY","LAST_BLOCK_KEY","cachedEvents","lastBlock","poof","Contract","PoofAbi","latestBlock","getBlockNumber","events","getPastEvents","useWithdraw","recipient","setLoading","accountEvents","withdraw","Backdrop","zIndex","StyledModal","Box","show","boxSizing","boxShadow","transform","Modal","modalClosed","defaultProps","NOOP","rotate","keyframes","ProcessingSpinner","mt","animation","margin","ProofGenLoading","showModal","flexDirection","ConfirmWithdraw","onBackClick","onConfirmClick","txHash","loading","finalWithdrawAmount","response","debug","BlockscoutTxLink","tx","target","rel","href","WithdrawReceipt","onDoneClick","moment","format","CloseOnClickaway","onClickaway","node","handleClick","contains","document","SelectWrapper","Flex","OptionsContainer","SelectedOptionCheck","Check","StyledSelect","onSelect","expand","setExpand","opt","hidden","option","borderTopStyle","borderTopWidth","borderTopColor","handleSelect","marginRight","useDebounce","callback","delay","timeoutFn","setTimeoutFn","args","clearTimeout","setTimeout","isValidHttpUrl","testUrl","URL","_","protocol","useHiddenBalances","pools","deployments","pool","pSymbol","Promise","all","getLatestAccount","unitPerUnderlyings","unitPerUnderlying","acc","i","debt","isNom","s","endsWith","useNom","NomArtifact","abi","Logo","size","viewBox","fill","xmlns","x","y","rx","d","Withdrawal","widt","stroke","Deposit","Repay","Request","Loans","Cog","X","Export","ls","Map","Tokens","forEach","l","set","logoURI","src","alt","PickWithdraw","onWithdrawClick","settingsOpened","setSettingsOpened","setAmount","setCurrency","find","setRecipient","resolvedRecipient","setResolvedRecipient","setTxHash","hiddenBalances","customRelayerError","setCustomRelayerError","nom","methods","resolve","ethers","utils","formatBytes32String","replace","r","isAddress","customRelayerUrl","setCustomRelayerUrl","onCustomRelayerUrlChange","err","maxWithdraw","sub","withdrawButton","isNaN","currencyOptions","entry","relayerSelectOptions","o","relayerOption","onChange","event","placeholder","whiteSpace","maxWidth","GrayBox","minHeight","my","DepositIllustration","strokeWidth","strokeLinecap","id","filterUnits","colorInterpolationFilters","floodOpacity","mode","in","in2","stdDeviation","DoWithdraw","t","useTranslation","boxContent","gridTemplateColumns","gridGap","alignContent","WithdrawStep","MobileWithdrawPage","withdrawStep","setWithdrawStep","PICKER","RECEIPT","CONFIRM","DesktopWithdrawPage","completeRequestStep","DO","WithdrawPage","requestAmount","requestCurrency","requestLoading","requestTxHash","ConfirmRequest","totalCost","button","RequestReceipt","Page","currentPage","REQUEST","setCurrentPage","nextPage","PickRequest","setLink","request","deposit","queryString","qs","stringify","encodeABI","COMPLETE_REQUEST","useRequest","DoRequest","onRequestClick","RequestStep","MobileRequestPage","requestStep","setRequestStep","DesktopRequestPage","RequestPage","SwitchButtons","active","SendAndRequestPage","setCurrent","SEND","location","useLocation","pathname","to","className","toastTx","toast","useRequestParams","query","URLSearchParams","search","completeRequestLoading","completeRequestTxHash","initial","allowance","ownerBalance","pBalance","useTokenBalance","owner","balanceCall","ownerFmt","balance","PickCompleteRequest","onCompleteRequestClick","amountWei","n","connected","setConnected","approve","txo","sendTransaction","from","tokenAddress","transactionHash","useCompleteRequestApprove","completeRequest","params","gas","estimateGas","useCompleteRequest","as","approved","gt","ConfirmCompleteRequest","CompleteRequestReceipt","CompleteRequestStep","MobileCompleteRequestPage","setCompleteRequestStep","DoCompleteRequest","DesktopCompleteRequestPage","CompleteRequestPage","InfoDrawer","colorMode","useColorMode","NetworkDetails","onClose","networkDrawerOpen","NetworkDrawer","PoofAccountDetails","setColorMode","history","useHistory","onCopy","SETUP","poofAccountDrawerOpen","PoofAccountDrawer","NetworkCard","setAccountDrawerIsOpen","networkDrawerIsOpen","setNetworkDrawerIsOpen","HeaderButton","page","MobileHeader","accountDrawerIsOpen","overflow","HOME","LogoIcon","StyledLink","Link","HoverDetails","right","AccountProfile","accountDetailsOpen","setAccountDetailsOpen","networkDetailsOpen","setNetworkDetailsOpen","accountCard","networkCard","pl","pr","HeaderLink","pages","selected","mx","pb","DesktopHeader","LOANS","Header","FullLogo","DividerWithText","PickLogin","privateKeyInput","isPrivateKey","SETUP_CREATE","MobileLogin","DesktopLogin","Login","ClipboardIcon","strokeLinejoin","PoofPrivateKey","readOnly","filename","file","Blob","createElement","createObjectURL","download","appendChild","click","removeChild","revokeObjectURL","downloadFile","CreateAccount","create","confirmed","setConfirmed","checked","LoginIllustration","cx","cy","SetupAccount","exact","path","PrivateRoute","rest","render","PoofKitLoading","min","PrivateRouteWithDep","Pools","getEthBasedConversionRate","rpcAddress","contractAddress","oracle","AggregatorAbi","latestRoundData","answer","getCeloKitBasedConversionRate","tokenName","convRate","newKitFromWeb3","exchange","contracts","getExchange","StableToken","cUSD","gs","quoteGoldSell","toUpperCase","getConversionRate","CACHE_KEY","cl","REACT_APP_POLYGON_RPC","cEUR","getConversionRateChainlink","CurrenciesContext","createContext","currencies","setCurrencies","val","convert","toUSD","CurrenciesProvider","rate","c","log","Provider","getAaveApr","lendingPoolAddress","reserveAddress","lendingPool","LendingPoolAbi","currentLiquidityRate","getReserveData","APR","aprs","setAprs","getAPR","k","dataProvider","DataProvider","reserveData","liquidityRate","getMoolaAPR","borrowAmount","borrowCurrency","borrowRecipient","borrowResolvedRecipient","borrowLoading","borrowTxHash","useBorrow","ConfirmBorrow","borrow","finalBorrowAmount","BorrowReceipt","PickBorrow","onBorrowClick","maxBorrow","borrowButton","currencyFromUrl","foundCurrency","gap","paddingLeft","LoansIllustration","DoBorrow","BorrowStep","MobileBorrowPage","borrowStep","setBorrowStep","DesktopBorrowPage","BorrowPage","repayAmount","repayCurrency","RepayStage","repayStage","START","repayTxHash","ConfirmRepay","stage","RepayReceipt","PickRepay","onRepayClick","setStage","maxRepay","repay","PROVING","SIGNING","hash","TXN_SENDING","useRepay","DoRepay","RepayStep","MobileRepayPage","repayStep","setRepayStep","DesktopRepayPage","RepayPage","HomeCard","Card","Icon","NoStyleLink","Desktop","description","icon","HomeButton","Item","Money","RichLink","pointerEvents","walletBalance","debtTotal","creditAvailable","tvl","tvlShare","canRepay","borderBottomWidth","borderBottomStyle","borderBottomColor","borderRightWidth","borderRightColor","borderRightStyle","DEPOSIT","justifyItems","borderRight","REPAY","BORROW","ProgressContainer","ProgressBar","showPercentage","CreditSummary","summary","hasBorrowed","totalLoansInUsd","canBorrow","availableAssetsInUsd","paddingTop","totalBalanceInUsd","SingleCreditSummary","asset","amount_debt","credit_available","flexGrow","amount_formatted","TimedSpinner","estimatedTimeInSeconds","timeRemaining","setTimeRemaining","interval","setInterval","clearInterval","duration","humanize","LoansSummary","assetsWithSummary","assets","LoansPage","useContext","currencyData","transformedAssets","setTransformedAssets","total_usd","asset_pcnt","credit","credit_usd","humanFriendlyWei","amount_usd","amount_debt_usd","Object","entries","reduce","val1","val2","useAssets","component","depositAmount","depositCurrency","DepositStage","depositStage","depositTxHash","ConfirmDeposit","DepositReceipt","PickDeposit","onDepositClick","refetchBalance","maxDeposit","useDeposit","depositApprove","useDepositApprove","DoDeposit","DepositStep","MobileDepositPage","depositStep","setDepositStep","DesktopDepositPage","DepositPage","WalletSummary","setBalance","setDebtTotal","setCreditAvailable","totalTvl","setTotalTvl","setTvlShare","tvlF","APRLabel","apr","setAPR","Row","Grid","Mobile","Assets","setData","ExportButton","CSVLink","txns","date","TransactionsHistory","setTxns","resp","PoofArtifact","fromBlock","toBlock","Account","unpackEncryptedMessage","returnValues","encryptedAccount","blockHash","blockNumber","timestamp","block","getBlock","lastBalance","result2","newAmount","txns2","useTransactions","useTVL","celoTVL","wmcUSD","WrappedAbi","add","underlyingBalanceOf","wmCELO","exchangeUsd","celoPriceUsd","wmcEUR","exchangeEur","eurPriceUsd","useCeloTVL","fantomTVL","ftmWeb3","wgFTM","ftmBalance","ftmUsdOracle","ftmPriceUsd","useFantomTVL","avalancheTVL","wavaWAVAX","avaxBalance","avaxUsdOracle","avaxPriceUsd","useAvalancheTVL","polygonTVL","wamMATIC","maticBalance","maticUsdOracle","maticPriceUsd","usePolygonTVL","ethereumTVL","waWETH","ethBalance","ethUsdOracle","ethPriceUsd","useEthereumTVL","HomePage","App","setAppElement","hb","maxHeight","toastClassName","bodyClassName","PERSISTED_KEYS","store","configureStore","reducer","global","middleware","getDefaultMiddleware","thunk","save","states","preloadedState","load","Boolean","hostname","match","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","dapp","getElementById","navigator","serviceWorker","ready","registration","unregister","with0x","Wallet","fromPrivateKey","Buffer","hexToBytes","wei"],"mappings":"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","file":"static/js/main.ffa42428.chunk.js","sourcesContent":["import { DECIMAL_PRECISION } from \"config\";\nimport BN from \"bn.js\";\n\nexport const humanFriendlyNumber = (v: number | string) => {\n  const num = Number(v);\n  if (num === 0) {\n    return \"0\";\n  }\n  const smallest = Math.pow(10, -DECIMAL_PRECISION);\n  if (num < smallest) {\n    return `<${smallest.toFixed(DECIMAL_PRECISION)}`;\n  }\n\n  const formatted = num.toLocaleString(undefined, {\n    minimumFractionDigits: 20,\n  });\n  const decimalIdx = formatted.indexOf(\".\");\n  if (decimalIdx === -1) {\n    return formatted;\n  }\n  return formatted.slice(0, decimalIdx + 1 + DECIMAL_PRECISION);\n};\n\nexport const toBN = (v: number | string) => {\n  return new BN(v);\n};\n\nexport const parseNumber = (value: string): number => {\n  if (value === undefined) {\n    return 0;\n  } else {\n    return parseFloat(value);\n  }\n};\n\nexport const getPercentage = (value: number | string, max: number | string) => {\n  if (value === 0 || max === 0 || value === \"0\" || max === \"0\") return \"0%\";\n  else {\n    return `${Math.floor((Number(value) / Number(max)) * 100)}%`;\n  }\n};\n","import { toWei } from \"web3-utils\";\n\nexport enum ChainId {\n  Mainnet = 42220,\n  Alfajores = 44787,\n  Baklava = 62320,\n}\n\nexport type Network = {\n  chainId: number;\n  name: string;\n  rpc: string;\n  explorer: string;\n  gasCurrency: string;\n};\n\nexport const SUPPORTED_NETWORKS: Array<Network> = [\n  {\n    chainId: 42220,\n    name: \"CELO\",\n    rpc: \"https://forno.celo.org\",\n    explorer: \"https://explorer.celo.org\",\n    gasCurrency: \"CELO\",\n  },\n  {\n    chainId: 250,\n    name: \"Fantom\",\n    rpc: \"https://rpc.ftm.tools\",\n    explorer: \"https://explorer.fantom.network\",\n    gasCurrency: \"FTM\",\n  },\n  {\n    chainId: 43114,\n    name: \"Avalanche\",\n    rpc: \"https://api.avax.network/ext/bc/C/rpc\",\n    explorer: \"https://cchain.explorer.avax.network\",\n    gasCurrency: \"AVAX\",\n  },\n  {\n    chainId: 137,\n    name: \"Polygon\",\n    rpc: \"https://polygon-rpc.com\",\n    explorer: \"https://polygonscan.com\",\n    gasCurrency: \"MATIC\",\n  },\n  {\n    chainId: 1,\n    name: \"Ethereum\",\n    rpc: process.env.REACT_APP_ETHEREUM_RPC || \"\",\n    explorer: \"https://etherscan.io\",\n    gasCurrency: \"ETH\",\n  },\n  ...(process.env.NODE_ENV === \"development\"\n    ? [\n        {\n          chainId: 44787,\n          name: \"CELO ALFAJORES\",\n          rpc: \"https://alfajores-forno.celo-testnet.org\",\n          explorer: \"https://alfajores-blockscout.celo-testnet.org\",\n          gasCurrency: \"CELO\",\n        },\n        {\n          chainId: 4002,\n          name: \"Fantom Testnet\",\n          rpc: \"https://rpc.testnet.fantom.network\",\n          explorer: \"https://explorer.testnet.fantom.network\",\n          gasCurrency: \"FTM\",\n        },\n        {\n          chainId: 43113,\n          name: \"Fuji\",\n          rpc: \"https://api.avax-test.network/ext/bc/C/rpc\",\n          explorer: \"https://explorer.avax-test.network\",\n          gasCurrency: \"AVAX\",\n        },\n        {\n          chainId: 80001,\n          name: \"Mumbai\",\n          rpc: process.env.REACT_APP_POLYGON_RPC || \"\",\n          explorer: \"https://mumbai.polygonscan.com\",\n          gasCurrency: \"MATIC\",\n        },\n        {\n          chainId: 42,\n          name: \"Kovan\",\n          rpc: process.env.REACT_APP_KOVAN_RPC || \"\",\n          explorer: \"https://kovan.etherscan.io\",\n          gasCurrency: \"ETH\",\n        },\n      ]\n    : []),\n];\n\nexport const RELAYERS: Record<number, Array<string>> = {\n  // Celo\n  42220: [\n    \"https://adamaris.poofcash.dynv6.net\",\n    \"https://bellagio.poofcash.dynv6.net\",\n    \"https://maralago.poofcash.dynv6.net\",\n    \"https://aarde.thkpool.com\",\n    \"https://privatecelo.com\",\n    \"https://poof.vercel.app\",\n  ],\n  44787: [],\n\n  // Fantom\n  250: [\"https://oysters.mooo.com\"],\n  4002: [],\n\n  // Avalanche\n  43114: [\"https://avax.poofcash.dynv6.net\"],\n  43113: [],\n\n  // Matic\n  80001: [],\n  137: [\"https://matic.poofcash.dynv6.net\"],\n\n  // Ethereum\n  1: [\"https://eth.poofcash.dynv6.net\"],\n  42: [],\n};\n\nexport const DECIMAL_PRECISION = 2; // Number of decimals to show\n\nexport const localForageVersion = 1;\n\nexport const DEFAULT_GAS_PRICE: Record<number, string> = {\n  42220: toWei(\"0.5\", \"gwei\"),\n  44787: toWei(\"0.5\", \"gwei\"),\n  250: toWei(\"150\", \"gwei\"),\n  4002: toWei(\"100\", \"gwei\"),\n};\n\nexport const NOM = \"0xABf8faBbC071F320F222A526A2e1fBE26429344d\";\n\nexport const NETWORK_COST = 0.0001;\n\nexport const ESTIMATED_PROOF_TIME = 150;\n","export const preset = {\n  breakpoints: [\"1080px\", \"1080px\"],\n  colors: {\n    purple25: \"#F5F2FF\",\n    purple50: \"#ECE6FE\",\n    purple100: \"#CCC3FC\",\n    purple300: \"#7C71FC\",\n    purple400: \"#5352FC\",\n    black800: \"#363945\",\n    black900: \"#212121\",\n    black700: \"#616161\",\n    black600: \"#616161\",\n    black200: \"#EEEEEE\",\n\n    regularText: \"#292B30\",\n    secondaryText: \"#616161\",\n    tertiaryText: \"#7187FC\",\n\n    primaryText: \"#5352FC\",\n    secondaryBackground: \"#F5F2FF\",\n    primary: \"#5352FC\",\n    black: \"#292B30\",\n    primaryMoneyText: \"black800\",\n    secondaryMoneyText: \"#7187FC\",\n\n    text: \"#333333\",\n    primaryButtonText: \"#FAFAFA\",\n    primaryButtonHover: \"#7C71FC\",\n    secondaryButtonText: \"white\",\n    accent: \"#7C71FD\",\n    background: \"#FAFAFA\",\n    secondary: \"#bababa\",\n\n    muted: \"#f6f6f9\",\n    gray: \"#757575\",\n    mediumGray: \"#616161\",\n    lightGray: \"#E0E0E0\",\n    darkgray: \"#8d8d8d\",\n    highlight: \"hsla(205, 100%, 40%, 0.125)\",\n    box: \"#F1F4F4\",\n    disabled: \"#BDBDBD\",\n    elementBackground: \"#FFFFFF\",\n    cardBackgroundHover: \"#F5F2FF\",\n    iconBackground: \"#F5F2FF\",\n    iconBackgroundHover: \"#FFFFFF\",\n    selectActive: \"#F5F2FF\",\n    tertiaryBg: \"#F5F2FF\",\n    tertiaryBgHover: \"#ECE6FE\",\n    tertiaryBtnLabel: \"#5352FC\",\n    minimalBtnBg: \"#F5F2FF\",\n    minimalBtnLabel: \"#5352FC\",\n    minimalBtnBorder: \"#F5F2FF\",\n    cardBackground: \"white\",\n    cardBorder: \"#ECE6FE\",\n    switcherBorder: \"#E0E0E0\",\n    switcherBg: \"white\",\n    switcherBgActive: \"#7C71FC\",\n\n    generationModalBg: \"white\",\n    generationModalHeader: \"black\",\n    generationModalText: \"#A8A1A1\",\n    generationModalCancel: \"#5352FC\",\n    generationModalBorderBg: \"#ECE6FE\",\n    modes: {\n      dark: {\n        primaryText: \"#CCC3FC\",\n        secondaryBackground: \"#363945\",\n        primary: \"#7C71FC\",\n\n        regularText: \"#EEEEEE\",\n        secondaryText: \"#A8A1A1\",\n\n        text: \"#FAFAFA\",\n        primaryMoneyText: \"black200\",\n        secondaryMoneyText: \"#7187FC\",\n\n        primaryButtonText: \"#FAFAFA\",\n        primaryButtonHover: \"#5352FC\",\n        secondaryButtonText: \"#5352FC\",\n        accent: \"#5352FC\",\n        background: \"#212121\",\n        secondary: \"#bababa\",\n        muted: \"#757575\",\n        gray: \"#bababa\",\n        darkgray: \"#BDBDBD\",\n        highlight: \"hsla(205, 100%, 40%, 0.125)\",\n        box: \"#363945\",\n        disabled: \"#BDBDBD\",\n        elementBackground: \"#212121\",\n        iconBackground: \"rgba(255, 255, 255, 0.1)\",\n        cardBackgroundHover: \"#F5F2FF\",\n        iconBackgroundHover: \"rgba(255, 255, 255, 0.1)\",\n        tertiaryBg: \"#FFFFFF1A\",\n        tertiaryBgHover: \"#616161\",\n        tertiaryBtnLabel: \"#CCC3FC\",\n        selectActive: \"#212121\",\n        minimalBtnBg: \"transparent\",\n        minimalBtnBorder: \"#CCC3FC\",\n        minimalBtnLabel: \"#CCC3FC\",\n        cardBackground: \"transparent\",\n        cardBorder: \"#474747\",\n        switcherBorder: \"#7C71FC\",\n        switcherBg: \"transparent\",\n        switcherBgActive: \"#7C71FC\",\n\n        generationModalBg: \"#292B30\",\n        generationModalHeader: \"#EEEEEE\",\n        generationModalText: \"#A8A1A1\",\n        generationModalCancel: \"#CCC3FC\",\n        generationModalBorderBg: \"#616161\",\n      },\n    },\n  },\n  fonts: {\n    heading: \"Regular\",\n    regular: \"Regular\",\n    bold: \"Bold\",\n    demiBold: \"DemiBold\",\n    medium: \"Medium\",\n  },\n  fontSizes: [12, 14, 16, 18, 20, 24, 28, 32, 48, 64, 96],\n  lineHeights: {\n    body: 1.5,\n    heading: 1.25,\n  },\n  space: [0, 4, 8, 16, 24, 32, 48, 64],\n  letterSpacings: {\n    small: \"-0.05em\",\n  },\n  sizes: {\n    avatar: 48,\n  },\n  shadows: {\n    card: \"0 0 4px rgba(0, 0, 0, .125)\",\n  },\n  text: {\n    default: {\n      color: \"text\",\n      fontFamily: \"Regular\",\n      fontWeight: \"500\",\n      fontSize: [18],\n      lineHeight: \"20px\",\n    },\n    pageHeader1: {\n      variant: \"text.default\",\n      fontWeight: \"400\",\n      fontSize: [20],\n      lineHeight: \"28px\",\n      color: \"black\",\n    },\n    primary: {\n      variant: \"text.default\",\n      color: \"primaryText\",\n      fontWeight: \"400\",\n      fontSize: [16],\n    },\n    title: {\n      fontFamily: \"Medium\",\n      fontSize: [28],\n      lineHeight: \"42px\",\n    },\n    logo: {\n      fontFamily: \"DemiBold\",\n      color: \"accent\",\n      fontSize: [20],\n      lineHeight: \"28px\",\n      letterSpacing: \"small\",\n    },\n    wallet: {\n      fontFamily: \"DemiBold\",\n      color: \"accent\",\n      fontSize: [12],\n      lineHeight: \"16px\",\n    },\n    account: {\n      fontFamily: \"DemiBold\",\n      color: \"primary\",\n      fontSize: [12],\n      lineHeight: \"16px\",\n    },\n    regular: {\n      fontFamily: \"Regular\",\n      fontSize: [18],\n      lineHeight: \"22px\",\n      color: \"text\",\n    },\n    regularGray: {\n      fontFamily: \"Regular\",\n      fontSize: [18],\n      lineHeight: \"22px\",\n      color: \"darkgray\",\n    },\n    bold: {\n      fontFamily: \"Bold\",\n      fontSize: 18,\n      lineHeight: \"20px\",\n      color: \"text\",\n    },\n    form: {\n      fontStyle: \"Regular\",\n      fontSize: [14],\n      lineHeight: \"16px\",\n      color: \"text\",\n    },\n    subtitle: {\n      fontStyle: \"DemiBold\",\n      fontSize: [20, 16],\n      lineHeight: [\"24px\", \"20px\"],\n      letterSpacing: \"-0.01rem\",\n      color: \"text\",\n    },\n    tableHeader: {\n      color: \"accent\",\n      fontFamily: \"Medium\",\n      fontSize: [14],\n      lineHeight: \"20px\",\n    },\n    summaryTitle: {\n      color: \"accent\",\n      fontFamily: \"Medium\",\n      fontSize: [14],\n      lineHeight: \"20px\",\n    },\n    largeNumber: {\n      fontFamily: \"DemiBold\",\n      fontSize: 24,\n      lineHeight: \"20px\",\n      color: \"text\",\n    },\n    reallyBigNumber: {\n      fontFamily: \"DemiBold\",\n      fontSize: 32,\n      lineHeight: \"20px\",\n      color: \"text\",\n    },\n  },\n  variants: {\n    avatar: {\n      width: \"avatar\",\n      height: \"avatar\",\n      borderRadius: \"circle\",\n    },\n    nav: {\n      fontSize: 1,\n      fontWeight: \"bold\",\n      display: \"inline-block\",\n      p: 2,\n      color: \"inherit\",\n      textDecoration: \"none\",\n      \":hover,:focus,.active\": {\n        color: \"primary\",\n      },\n    },\n  },\n  select: {\n    borderColor: \"gray\",\n    borderWidth: \"1.5px\",\n  },\n  input: {\n    backgroundColor: \"elementBackground\",\n    borderColor: \"lightGray\",\n    color: \"text\",\n    borderWidth: \"1px\",\n    padding: \"18px 16px\",\n    borderRadius: \"6px\",\n    fontSize: \"18px\",\n    fontFamily: \"Regular\",\n    lineHeight: \"20px\",\n    outline: \"transparent\",\n    \":focus\": {\n      borderColor: \"purple300\",\n    },\n    \":focus-visible\": {\n      borderColor: \"purple300\",\n    },\n  },\n  box: {\n    iconContainer: {\n      color: \"#7C71FC\",\n      fontSize: \"32px\",\n      width: \"48px\",\n      height: \"48px\",\n      padding: \"0px\",\n      background: \"secondaryBackground\",\n      borderRadius: \"106px\",\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      transition: \"background 300ms ease-out\",\n    },\n    label: {\n      fontSize: \"14px\",\n      fontWeight: \"normal\",\n      lineHeight: \"20px\",\n      color: \"secondaryText\",\n      backgroundColor: \"none\",\n      marginBottom: \"8px\",\n    },\n    responsiveLabel: {\n      variant: \"box.label\",\n      paddingBottom: \"0\",\n      marginBottom: [\"2px\", \"0px\", \"0px\"],\n    },\n  },\n  buttons: {\n    primary: {\n      transition: \"background .3s ease-out\",\n      fontFamily: \"Medium\",\n      fontSize: 16,\n      fontWeight: 400,\n      lineHeight: \"22px\",\n      cursor: \"pointer\",\n      borderRadius: \"6px\",\n      height: [\"48px\", \"36px\"],\n      color: \"white\",\n      bg: \"primary\",\n      px: 3,\n      py: 2,\n      display: \"flex\",\n      alignItems: [\"center\", \"flex-start\", \"flex-start\"],\n      justifyContent: \"center\",\n      \":disabled\": {\n        color: \"muted\",\n        cursor: \"auto\",\n        bg: \"disabled\",\n        \":hover\": {\n          bg: \"disabled\",\n        },\n        \":focus\": {\n          bg: \"disabled\",\n        },\n      },\n      \":hover,:focus\": {\n        bg: \"primaryButtonHover\",\n      },\n    },\n    submit: {\n      variant: \"buttons.primary\",\n      color: \"#fff\",\n      bg: \"#5352FC\",\n      height: [\"48px\", \"42px\"],\n      lineHeight: \"20px\",\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      marginTop: \"4px\",\n      \":hover\": {\n        bg: \"purple300\",\n      },\n      \":disabled\": {\n        bg: \"#BDBDBD\",\n        color: \"muted\",\n        cursor: \"auto\",\n        \":hover\": {\n          bg: \"#BDBDBD\",\n        },\n      },\n    },\n    secondary: {\n      variant: \"buttons.primary\",\n      \":disabled\": {\n        borderColor: \"gray\",\n        color: \"gray\",\n        bg: \"transparent\",\n      },\n      color: \"primary\",\n      bg: \"transparent\",\n      border: \"1px solid\",\n      borderColor: \"primary\",\n    },\n    link: {\n      variant: \"buttons.secondary\",\n      border: \"none\",\n      bg: \"transparent\",\n      \":hover\": {\n        bg: \"transparent\",\n      },\n      // color: \"gray\",\n      // bg: \"transparent\",\n    },\n    tertiary: {\n      variant: \"buttons.primary\",\n      bg: \"tertiaryBg\",\n      color: \"tertiaryBtnLabel\",\n      \":hover\": {\n        bg: \"tertiaryBgHover\",\n      },\n    },\n    minimal: {\n      variant: \"buttons.tertiary\",\n      bg: \"minimalBtnBg\",\n      borderWidth: \"1px\",\n      borderStyle: \"solid\",\n      borderColor: \"minimalBtnBorder\",\n      color: \"minimalBtnLabel\",\n    },\n    ghost: {\n      variant: \"buttons.link\",\n      border: \"none\",\n      bg: \"transparent\",\n      \":hover\": {\n        bg: \"transparent\",\n      },\n      \":focus\": {\n        bg: \"transparent\",\n      },\n    },\n    done: {\n      variant: \"buttons.secondary\",\n      color: \"accent\",\n    },\n    switcher: {\n      bg: \"transparent\",\n      borderRadius: 0,\n      fontFamily: \"Regular\",\n      borderBottom: \"2px solid transparent\",\n      color: \"text\",\n      \":focus\": {\n        outline: \"none\",\n      },\n      cursor: \"pointer\",\n      px: 0,\n      py: 1,\n      mr: 3,\n    },\n    switcherSelected: {\n      variant: \"buttons.switcher\",\n      borderBottom: \"2px solid\",\n      color: \"primaryText\",\n    },\n  },\n  badges: {\n    interestUp: {\n      height: [24],\n      fontWeight: 400,\n      fontSize: [14],\n      lineHeight: \"20px\",\n      color: \"#00A571\",\n      background: \"#DCF5EE\",\n      borderRadius: \"60px\",\n      padding: \"2px 14px\",\n    },\n    interestDown: {\n      height: [24],\n      fontWeight: 400,\n      fontSize: [14],\n      lineHeight: \"20px\",\n      color: \"#f00\",\n      background: \"#ffd2d2\",\n      borderRadius: \"60px\",\n      padding: \"2px 14px\",\n    },\n  },\n  styles: {\n    root: {\n      fontFamily: \"Regular\",\n      lineHeight: \"body\",\n    },\n    countdown: {\n      width: [\"180px\", \"320px\"],\n      height: [\"180px\", \"320px\"],\n      color: \"accent\",\n    },\n    a: {\n      \":visited\": {\n        color: \"primaryText\",\n      },\n      color: \"primaryText\",\n      cursor: \"pointer\",\n    },\n    h1: {\n      fontSize: 24,\n    },\n  },\n  flex: {\n    centered: {\n      justifyContent: \"center\",\n      alignItems: \"center\",\n    },\n  },\n  cards: {\n    home: {\n      borderRadius: \"16px\",\n      bg: \"cardBackground\",\n      transition: \"background 300ms ease-out\",\n      [`&:hover`]: {\n        bg: \"tertiaryBg\",\n      },\n    },\n    bordered: {\n      borderWidth: \"1px\",\n      borderStyle: \"solid\",\n      borderColor: \"cardBorder\",\n      borderRadius: \"16px\",\n      bg: \"elementBackground\",\n      \"> *\": {\n        padding: \"16px\",\n      },\n    },\n    primary: {\n      padding: 2,\n      borderRadius: 4,\n    },\n    compact: {\n      padding: 1,\n      borderRadius: 2,\n      border: \"1px solid\",\n      borderColor: \"muted\",\n    },\n    warning: {\n      backgroundColor: \"secondaryBackground\",\n      borderRadius: 4,\n      color: \"primaryText\",\n      px: 3,\n      py: 2,\n    },\n  },\n};\n\nexport default preset;\n","import i18n from \"i18next\";\nimport translation from \"i18n/en/translation.json\";\nimport { initReactI18next } from \"react-i18next\";\n\nexport const resources = {\n  en: {\n    translation,\n  },\n} as const;\n\ni18n.use(initReactI18next).init({\n  lng: \"en\",\n  resources,\n});\n","import React from \"react\";\nimport { IconButton } from \"theme-ui\";\nimport { ArrowLeft } from \"react-feather\";\n\ninterface IProps {\n  onClick: () => void;\n}\n\nexport const BackButton: React.FC<IProps> = ({ onClick }) => {\n  return (\n    <IconButton\n      sx={{ cursor: \"pointer\", mb: 3, ml: \"-6px\", color: \"text\" }}\n      aria-label=\"Go back\"\n      onClick={onClick}\n    >\n      <ArrowLeft />\n    </IconButton>\n  );\n};\n","import React from \"react\";\nimport { Container } from \"theme-ui\";\n\n// For now, BottomDrawer always expects 2 elements so that it can do\n// space-between\nexport const BottomDrawer: React.FC = ({ children }) => {\n  return (\n    <Container\n      sx={{\n        position: \"fixed\",\n        bottom: 0,\n        left: 0,\n        width: \"100%\",\n      }}\n    >\n      {children}\n    </Container>\n  );\n};\n","import { Container } from \"theme-ui\";\nimport { BottomDrawer } from \"./BottomDrawer\";\n\nexport const ActionDrawer: React.FC = ({ children }) => {\n  return (\n    <BottomDrawer>\n      <Container\n        sx={{\n          borderTop: \"1px solid #E0E0E0\",\n          p: 3,\n          backgroundColor: \"background\",\n        }}\n      >\n        {children}\n      </Container>\n    </BottomDrawer>\n  );\n};\n","import React from \"react\";\nimport { Text } from \"@theme-ui/components\";\nimport { humanFriendlyNumber } from \"utils/number\";\n\ninterface IProps {\n  label: string;\n  amount: string | number;\n  currency: string;\n}\n\nexport const LabelWithBalance: React.FC<IProps> = ({\n  label,\n  amount,\n  currency,\n}) => {\n  const amountLabel = humanFriendlyNumber(amount);\n  return (\n    <span>\n      <Text sx={{ mb: 2 }} variant=\"form\">\n        {label}\n      </Text>\n      <br />\n      <Text variant=\"largeNumber\">\n        {amountLabel} {currency}\n      </Text>\n    </span>\n  );\n};\n","import styled from \"@emotion/styled\";\nimport { Divider as ThemeDivider } from \"theme-ui\";\n\nexport const Divider = styled(ThemeDivider)({\n  height: \"1.5px\",\n  color: \"var(--theme-ui-colors-primaryText)\",\n});\n","import React from \"react\";\nimport { Box } from \"theme-ui\";\n\ninterface IProps {\n  columns: number;\n}\n\nexport const TableDivider: React.FC<IProps> = ({ columns }) => {\n  return (\n    <Box\n      sx={{\n        height: \"1px\",\n        gridColumnStart: 1,\n        gridColumnEnd: columns + 1,\n        backgroundColor: \"primaryText\",\n      }}\n    />\n  );\n};\n","import React from \"react\";\nimport { Grid, Text } from \"theme-ui\";\nimport { Divider } from \"components/Divider\";\nimport { TableDivider } from \"components/TableDivider\";\n\ntype LabelValuePair = {\n  label: string;\n  value?: string | null;\n};\n\ninterface IProps {\n  title?: string;\n  lineItems: Array<LabelValuePair>;\n  totalItem?: LabelValuePair;\n}\n\nexport const SummaryTable: React.FC<IProps> = ({\n  title,\n  lineItems,\n  totalItem,\n}) => {\n  return (\n    <>\n      {title && (\n        <>\n          <Text variant=\"summaryTitle\">{title}</Text>\n          <br />\n          <Divider />\n        </>\n      )}\n      <Grid columns={[2]} sx={{ mb: 4 }}>\n        {lineItems.map(({ label, value }, idx) => {\n          return (\n            <React.Fragment key={idx}>\n              <Text variant=\"form\">{label}</Text>\n              <Text sx={{ textAlign: \"right\" }} variant=\"primary\">\n                {value}\n              </Text>\n            </React.Fragment>\n          );\n        })}\n        <TableDivider columns={2} />\n        {totalItem && (\n          <>\n            <Text variant=\"subtitle\">{totalItem.label}</Text>\n            <Text sx={{ textAlign: \"right\" }} variant=\"primary\">\n              {totalItem.value}\n            </Text>\n          </>\n        )}\n      </Grid>\n    </>\n  );\n};\n","import { useEffect, useState } from \"react\";\n\nexport function useAsyncState<T>(\n  initialState: T,\n  asyncGetter: () => Promise<T> | undefined\n): [T, () => void] {\n  const [state, setState] = useState<T>(initialState);\n  const [dirty, setDirty] = useState<boolean>(true);\n  useEffect(() => {\n    asyncGetter()\n      ?.then((v) => {\n        setState(v);\n        setDirty(false);\n      })\n      .catch(console.warn);\n  }, [asyncGetter, dirty]);\n\n  const refetch = () => {\n    setDirty(true);\n  };\n\n  return [state, refetch];\n}\n","import { createReducer, createAction } from \"@reduxjs/toolkit\";\nimport { Network, SUPPORTED_NETWORKS } from \"config\";\nimport { EncryptedKeystoreV3Json } from \"web3-core\";\n\n// Typings\ninterface UserState {\n  readonly poofAccount?: EncryptedKeystoreV3Json;\n  readonly network: Network;\n}\n\nconst initialState: UserState = {\n  network: SUPPORTED_NETWORKS[0],\n};\n\n// Actions\nexport const setAccount = createAction<{\n  poofAccount?: EncryptedKeystoreV3Json;\n}>(\"user/setAccount\");\n\nexport const setNetwork = createAction<{\n  network: Network;\n}>(\"user/setNetwork\");\n\n// Reducer\nexport default createReducer(initialState, (builder) =>\n  builder\n    .addCase(setAccount, (state, action) => {\n      const { poofAccount } = action.payload;\n      return { ...state, poofAccount };\n    })\n    .addCase(setNetwork, (state, action) => {\n      const { network } = action.payload;\n      return { ...state, network };\n    })\n);\n","import { SUPPORTED_NETWORKS } from \"config\";\nimport React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { AppState } from \"state\";\nimport { setNetwork as setNetworkAction } from \"state/user\";\nimport Web3 from \"web3\";\n\nexport const useWeb3 = () => {\n  const network =\n    useSelector((state: AppState) => state.user.network) ||\n    SUPPORTED_NETWORKS[0];\n  const dispatch = useDispatch();\n  const setNetwork = React.useCallback(\n    (network) => {\n      dispatch(setNetworkAction({ network }));\n    },\n    [dispatch]\n  );\n  const web3 = React.useMemo(() => new Web3(network.rpc), [network.rpc]);\n  return { network, setNetwork, web3 };\n};\n","import { useContractKit } from \"@celo-tools/use-contractkit\";\nimport React from \"react\";\nimport { useWeb3 } from \"./useWeb3\";\nimport Web3Modal from \"web3modal\";\nimport WalletConnectProvider from \"@walletconnect/web3-provider\";\nimport { createContainer } from \"unstated-next\";\nimport { DEFAULT_GAS_PRICE } from \"config\";\nimport { toWei } from \"web3-utils\";\n\nconst useWallet = () => {\n  const contractKit = useContractKit();\n  const { web3, network } = useWeb3();\n  const [address, setAddress] = React.useState<string | null>(null);\n  const [gasPrice, setGasPrice] = React.useState(\n    DEFAULT_GAS_PRICE[network.chainId]\n  );\n  const [gasCurrency, setGasCurrency] = React.useState(\"CELO\");\n  const isCelo = [42220, 44787].includes(network.chainId);\n  const isPolygon = [137].includes(network.chainId);\n  React.useEffect(() => {\n    if (isCelo) {\n      setGasPrice(toWei(\"1\", \"gwei\"));\n      setGasCurrency(\"CELO\");\n      return;\n    } else if (isPolygon) {\n      setGasPrice(toWei(\"100\", \"gwei\"));\n    } else {\n      web3.eth.getGasPrice().then(setGasPrice);\n    }\n    setGasCurrency(network.gasCurrency);\n  }, [isCelo, isPolygon, network.gasCurrency, web3.eth]);\n  const connect = React.useCallback(async () => {\n    const web3Modal = new Web3Modal({\n      providerOptions: {\n        walletconnect: {\n          package: WalletConnectProvider,\n          options: {\n            infuraId: \"8043bb2cf99347b1bfadfb233c5325c0\",\n          },\n        },\n      },\n    });\n    web3Modal.clearCachedProvider();\n    const provider = await web3Modal.connect();\n    web3.setProvider(provider);\n    const accounts = await web3.eth.getAccounts();\n    setAddress(accounts[0]);\n  }, [web3]);\n\n  const getConnectedWeb3 = React.useCallback(async () => {\n    if (isCelo) {\n      const kit = await contractKit.getConnectedKit();\n      return kit.web3;\n    }\n    return web3;\n  }, [contractKit, isCelo, web3]);\n\n  if (isCelo) {\n    return {\n      address: contractKit.address,\n      connect: contractKit.connect,\n      web3: contractKit.kit.web3,\n      network: contractKit.network,\n      getConnectedWeb3,\n      gasPrice,\n      gasCurrency,\n    };\n  }\n\n  return {\n    address,\n    connect,\n    web3,\n    network,\n    getConnectedWeb3,\n    gasPrice,\n    gasCurrency,\n  };\n};\n\nexport const WalletGlobal = createContainer(useWallet);\n","import axios from \"axios\";\nimport { RELAYERS } from \"config\";\nimport React from \"react\";\nimport { atom, useRecoilState } from \"recoil\";\nimport { fromWei, toWei, toBN } from \"web3-utils\";\nimport { calculateFee, PoofKit } from \"@poofcash/poof-v2-kit\";\nimport { useAsyncState } from \"./useAsyncState\";\nimport Web3 from \"web3\";\nimport { WalletGlobal } from \"./useWallet\";\n\nexport type RelayerOption = {\n  url: string;\n  relayerFee: number;\n  miningServiceFee: number;\n  gasPrices: Record<string, string>;\n  celoPrices: Record<string, string>;\n};\n\nconst selectedRelayerState = atom<RelayerOption | undefined>({\n  key: \"SELECTED_RELAYER\",\n  default: undefined,\n});\nconst relayerOptionsState = atom<Array<RelayerOption>>({\n  key: \"RELAYER_OPTIONS\",\n  default: [],\n});\nconst customRelayerState = atom<RelayerOption | undefined>({\n  key: \"CUSTOM_RELAYER\",\n  default: undefined,\n});\nconst usingCustomState = atom<boolean>({\n  key: \"USING_CUSTOM\",\n  default: false,\n});\n\nexport const useRelayer = (amount: string | null, currency: string) => {\n  const [selectedRelayer, setSelectedRelayer] = useRecoilState(\n    selectedRelayerState\n  );\n  const [relayerOptions, setRelayerOptions] = useRecoilState(\n    relayerOptionsState\n  );\n  const [customRelayer, setCustomRelayer] = useRecoilState(customRelayerState);\n  const [usingCustomRelayer, setUsingCustomRelayer] = useRecoilState(\n    usingCustomState\n  );\n  const { network, web3 } = WalletGlobal.useContainer();\n\n  React.useEffect(() => {\n    const fn = async () => {\n      const start = Date.now();\n      const statusPromises = RELAYERS[network.chainId].map(\n        (relayerUrl: string) => {\n          return axios\n            .get(relayerUrl + \"/v1/status\", { timeout: 10000 })\n            .then((res) => {\n              return {\n                ...res,\n                // Compute each relayer's response latency\n                latency: Date.now() - start,\n              };\n            })\n            .catch((e) => {\n              console.warn(\"Failed to get relayer status\", e.message);\n              return e;\n            });\n        }\n      );\n      const statuses = [];\n      for (const statusPromise of statusPromises) {\n        statuses.push(await statusPromise);\n      }\n      const finalStatuses = statuses\n        .filter((result) => {\n          if (result instanceof Error) {\n            console.warn(\"Filtering error\", result);\n            return false;\n          }\n          return true;\n        })\n        .sort((a, b) => a.latency - b.latency);\n\n      const relayerOptions = finalStatuses.map((status: any) => ({\n        url: status.config.url.split(\"/v1/status\")[0],\n        relayerFee: status.data.poofServiceFee,\n        miningServiceFee: status.data.miningServiceFee,\n        gasPrices: status.data.gasPrices,\n        celoPrices: status.data.celoPrices,\n      }));\n\n      setRelayerOptions(relayerOptions);\n      if (relayerOptions.length > 0) {\n        setSelectedRelayer(relayerOptions[0]);\n      } else {\n        setUsingCustomRelayer(true);\n      }\n    };\n    fn();\n  }, [setRelayerOptions, setSelectedRelayer, network, setUsingCustomRelayer]);\n\n  const relayer = React.useMemo(\n    () => (usingCustomRelayer ? customRelayer : selectedRelayer),\n    [customRelayer, selectedRelayer, usingCustomRelayer]\n  );\n\n  const call = React.useCallback(async () => {\n    const poofKit = new PoofKit((web3 as unknown) as Web3);\n    const poolMatch = await poofKit.poolMatch(currency);\n    if (poolMatch && relayer && amount && currency) {\n      return fromWei(\n        calculateFee(\n          toBN(toWei(amount)),\n          Number(relayer.celoPrices[poolMatch.symbol.toLowerCase()]),\n          Number(relayer.relayerFee),\n          Number(relayer.gasPrices[\"min\"]),\n          3e6\n        )\n          .mul(toBN(1001))\n          .div(toBN(1000))\n          .toString()\n      );\n    }\n    return \"0\";\n  }, [amount, currency, relayer, web3]);\n  const [relayerFee] = useAsyncState(null, call);\n\n  return {\n    relayer,\n    setSelectedRelayer,\n    relayerOptions,\n    usingCustomRelayer,\n    setUsingCustomRelayer,\n    customRelayer,\n    setCustomRelayer,\n    relayerFee,\n  };\n};\n","import { atom } from \"recoil\";\n\nexport const withdrawAmount = atom({\n  key: \"WITHDRAW_AMOUNT\",\n  default: \"0\",\n});\n\nexport const withdrawCurrency = atom({\n  key: \"WITHDRAW_CURRENCY\",\n  default: \"cUSD\",\n});\n\nexport const withdrawRecipient = atom({\n  key: \"WITHDRAW_RECIPIENT\",\n  default: \"\",\n});\n\nexport const withdrawResolvedRecipient = atom<string | null>({\n  key: \"WITHDRAW_RESOLVED_RECIPIENT\",\n  default: null,\n});\n\nexport const withdrawLoading = atom({\n  key: \"WITHDRAW_LOADING\",\n  default: false,\n});\n\nexport const withdrawTxHash = atom({\n  key: \"WITHDRAW_TX_HASH\",\n  default: \"\",\n});\n","import { useLayoutEffect, useState } from \"react\";\nimport { useThemeUI } from \"theme-ui\";\n\nexport enum Breakpoint {\n  MOBILE = \"MOBILE\",\n  DESKTOP = \"DESKTOP\",\n}\n\nexport const useBreakpoint = () => {\n  const { theme } = useThemeUI();\n  const [breakpoint, setBreakpoint] = useState(Breakpoint.MOBILE);\n  const desktopBreakpoint = parseInt(theme.breakpoints![1] as string);\n\n  useLayoutEffect(() => {\n    const listener = () => {\n      if (window.innerWidth < desktopBreakpoint) {\n        setBreakpoint(Breakpoint.MOBILE);\n      } else {\n        setBreakpoint(Breakpoint.DESKTOP);\n      }\n    };\n    window.addEventListener(\"resize\", listener);\n    listener();\n    return () => window.removeEventListener(\"resize\", listener);\n  }, [desktopBreakpoint]);\n  return breakpoint;\n};\n","export const shortenAccount = (\n  account: string | null,\n  truncation: number = 4\n) => {\n  if (!account) {\n    return \"0x????...????\";\n  }\n  return (\n    account.slice(0, truncation + 2) +\n    \"..\" +\n    account.slice(account.length - truncation - 1, account.length)\n  );\n};\n\nexport const enforceHex = (address?: string) => {\n  if (!address) {\n    return \"\";\n  }\n  if (address.startsWith(\"0x\")) {\n    return address;\n  }\n  return `0x${address}`;\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { AppState } from \"state\";\nimport Web3 from \"web3\";\nimport Modal from \"react-modal\";\nimport { Text, Button, Flex, Input, Container, Box } from \"theme-ui\";\nimport { createContainer } from \"unstated-next\";\nimport { setAccount } from \"state/user\";\nimport { Breakpoint, useBreakpoint } from \"hooks/useBreakpoint\";\nimport { enforceHex } from \"utils/account\";\n\nconst web3 = new Web3();\n\nconst usePasswordPrompt = () => {\n  const [isOpen, setIsOpen] = React.useState(false);\n  const passwordInput = React.useRef<any>(null);\n  const [action, setAction] = React.useState<(password: string) => void>();\n  const [cancelAction, setCancelAction] = React.useState<() => void>();\n  const [subtitle, setSubtitle] = React.useState(\"\");\n  const breakpoint = useBreakpoint();\n\n  const reset = () => {\n    setIsOpen(false);\n    setAction(undefined);\n    setCancelAction(undefined);\n    setSubtitle(\"\");\n  };\n\n  let modalStyle: any = {\n    content: {\n      top: \"25%\",\n      left: \"25%\",\n      width: \"50%\",\n      height: \"50%\",\n      padding: 0,\n    },\n  };\n  if (breakpoint === Breakpoint.MOBILE) {\n    modalStyle = {\n      content: { top: 0, left: 0, width: \"100%\", height: \"100%\", padding: 0 },\n    };\n  }\n\n  const passwordModal = (\n    <Modal\n      isOpen={isOpen}\n      onRequestClose={() => {\n        setIsOpen(false);\n        cancelAction && cancelAction();\n      }}\n      style={modalStyle}\n    >\n      <Container sx={{ width: \"100%\", height: \"100%\", bg: \"background\", p: 4 }}>\n        <Box pt={[\"66%\", 0]}>\n          <form\n            onSubmit={(e) => {\n              const password = passwordInput?.current.value;\n              if (action) {\n                action(password);\n              }\n              reset();\n              e.preventDefault();\n            }}\n          >\n            <Text variant=\"title\" sx={{ mb: 2 }}>\n              Enter account password\n            </Text>\n            <br />\n            <Text variant=\"regularGray\" sx={{ mb: 2 }}>\n              {subtitle}\n            </Text>\n            <br />\n            <Input\n              sx={{ mb: 2 }}\n              type=\"password\"\n              ref={passwordInput}\n              autoFocus\n              autoComplete=\"off\"\n            />\n            <Flex sx={{ justifyContent: \"flex-end\" }}>\n              <Button\n                type=\"button\"\n                sx={{ mr: 4 }}\n                onClick={() => {\n                  if (cancelAction) {\n                    cancelAction();\n                  }\n                  reset();\n                }}\n                variant=\"secondary\"\n              >\n                Cancel\n              </Button>\n              <Button type=\"submit\">Enter</Button>\n            </Flex>\n          </form>\n        </Box>\n      </Container>\n    </Modal>\n  );\n\n  const promptPassword = (\n    action: (password: string) => void,\n    cancelAction: () => void,\n    subtitle: string\n  ) => {\n    setIsOpen(true);\n    // Have to wrap lambdas in an anon function to avoid React from invoking\n    setAction(() => action);\n    setCancelAction(() => cancelAction);\n    setSubtitle(subtitle);\n  };\n\n  return { passwordModal, promptPassword };\n};\n\nconst usePoofAccount = () => {\n  const poofAccount = useSelector((state: AppState) => state.user.poofAccount);\n  const [privateKey, setPrivateKey] = React.useState<string>();\n  const { promptPassword, passwordModal } = usePasswordPrompt();\n  const dispatch = useDispatch();\n\n  const unlockPoofAccount = (password: string) => {\n    if (!poofAccount) {\n      return false;\n    }\n    try {\n      const decryptedPoofAccount = web3.eth.accounts.decrypt(\n        poofAccount,\n        password\n      );\n      const privateKey = decryptedPoofAccount.privateKey.slice(2);\n      setPrivateKey(privateKey);\n      return true;\n    } catch (e) {\n      console.error(e);\n    }\n    return false;\n  };\n\n  const actWithPoofAccount = (\n    action: (privateKey: string) => any,\n    cancelAction: () => any\n  ) => {\n    if (!poofAccount) {\n      return;\n    }\n    if (privateKey) {\n      action(privateKey);\n    } else {\n      promptPassword(\n        (password: string) => {\n          try {\n            const decryptedPoofAccount = web3.eth.accounts.decrypt(\n              poofAccount,\n              password\n            );\n            const privateKey = decryptedPoofAccount.privateKey.slice(2);\n            action(privateKey);\n            setPrivateKey(privateKey);\n          } catch (e) {\n            console.error(e);\n            alert(\"Failed to decrypt account. Is your password correct?\");\n            cancelAction();\n          }\n        },\n        cancelAction,\n        \"Enter your password to decrypt and retrieve your saved Poof private key from local storage.\"\n      );\n    }\n  };\n\n  const savePoofAccount = (privateKey: string, onSave: () => void) => {\n    promptPassword(\n      (password: string) => {\n        dispatch(\n          setAccount({\n            poofAccount: web3.eth.accounts.encrypt(privateKey, password),\n          })\n        );\n        setPrivateKey(privateKey);\n        onSave();\n      },\n      () => {},\n      \"Enter a password to encrypt and save your Poof private key to local storage.\"\n    );\n  };\n\n  const disconnectPoofAccount = () => {\n    dispatch(setAccount({ poofAccount: undefined }));\n    setPrivateKey(undefined);\n  };\n\n  return {\n    address: enforceHex(poofAccount?.address),\n    poofAccount,\n    privateKey,\n    unlockPoofAccount,\n    actWithPoofAccount,\n    savePoofAccount,\n    passwordModal,\n    disconnectPoofAccount,\n  };\n};\n\nexport const PoofAccountGlobal = createContainer(usePoofAccount);\n","import React from \"react\";\nimport { getProofDeps, PoofKit } from \"@poofcash/poof-v2-kit\";\nimport { createContainer } from \"unstated-next\";\nimport { wrap } from \"comlink\";\nimport localForage from \"localforage\";\nimport { WalletGlobal } from \"./useWallet\";\n\nconst version = 1;\nconst depositWasmKey = `depositWasm${version}`;\nconst depositZkeyKey = `depositZkey${version}`;\nconst withdrawWasmKey = `withdrawWasm${version}`;\nconst withdrawZkeyKey = `withdrawZkey${version}`;\nconst inputRootWasmKey = `inputRootWasm${version}`;\nconst inputRootZkeyKey = `inputRootZkey${version}`;\nconst outputRootWasmKey = `outputRootWasm${version}`;\nconst outputRootZkeyKey = `outputRootZkey${version}`;\n\nconst usePoofKit = () => {\n  const { web3 } = WalletGlobal.useContainer();\n  const [progress] = React.useState(1); // TODO: Set progress to 0 as hardcode\n  const poofKit = React.useMemo(() => {\n    return new PoofKit(web3);\n  }, [web3]);\n  const snarkJs = React.useMemo(() => {\n    const worker = new Worker(\"snarkjs.min.js\");\n    return wrap<any>(worker);\n  }, []);\n  const getDepLambda = React.useCallback((cacheKey, remoteUrl) => {\n    return async () => {\n      let cached = await localForage.getItem<Uint8Array>(cacheKey);\n      if (cached) {\n        return cached;\n      }\n      const [dep] = await getProofDeps([remoteUrl]);\n      localForage.setItem(cacheKey, dep);\n      return dep;\n    };\n  }, []);\n  // Recursively try to initialize\n  React.useEffect(() => {\n    const tryInit = async () => {\n      poofKit.initialize(() => snarkJs);\n      poofKit.initializeDeposit(\n        getDepLambda(\n          depositWasmKey,\n          \"https://poof.nyc3.cdn.digitaloceanspaces.com/Deposit2.wasm.gz\"\n        ),\n        getDepLambda(\n          depositZkeyKey,\n          \"https://poof.nyc3.cdn.digitaloceanspaces.com/Deposit2_circuit_final.zkey.gz\"\n        )\n      );\n      poofKit.initializeWithdraw(\n        getDepLambda(\n          withdrawWasmKey,\n          \"https://poof.nyc3.cdn.digitaloceanspaces.com/Withdraw2.wasm.gz\"\n        ),\n        getDepLambda(\n          withdrawZkeyKey,\n          \"https://poof.nyc3.cdn.digitaloceanspaces.com/Withdraw2_circuit_final.zkey.gz\"\n        )\n      );\n      poofKit.initializeInputRoot(\n        getDepLambda(\n          inputRootWasmKey,\n          \"https://poof.nyc3.cdn.digitaloceanspaces.com/InputRoot.wasm.gz\"\n        ),\n        getDepLambda(\n          inputRootZkeyKey,\n          \"https://poof.nyc3.cdn.digitaloceanspaces.com/InputRoot_circuit_final.zkey.gz\"\n        )\n      );\n      poofKit.initializeOutputRoot(\n        getDepLambda(\n          outputRootWasmKey,\n          \"https://poof.nyc3.cdn.digitaloceanspaces.com/OutputRoot.wasm.gz\"\n        ),\n        getDepLambda(\n          outputRootZkeyKey,\n          \"https://poof.nyc3.cdn.digitaloceanspaces.com/OutputRoot_circuit_final.zkey.gz\"\n        )\n      );\n    };\n    tryInit();\n  }, [getDepLambda, poofKit, snarkJs]);\n  return { poofKit, progress };\n};\n\nexport const PoofKitGlobal = createContainer(usePoofKit);\n","import { getPastEvents } from \"@poofcash/poof-v2-kit\";\nimport { localForageVersion } from \"config\";\nimport localForage from \"localforage\";\nimport Web3 from \"web3\";\nimport { EventData } from \"web3-eth-contract\";\nimport { AbiItem } from \"web3-utils\";\nimport PoofAbi from \"abis/Poof.json\";\n\nexport const getNewAccountEvents = async (\n  web3: Web3,\n  poolMatch: { poolAddress: string; creationBlock: number }\n): Promise<EventData[]> => {\n  const { poolAddress, creationBlock } = poolMatch;\n  const EVENTS_KEY = `${poolAddress}_newAccountEvents_${localForageVersion}`;\n  const LAST_BLOCK_KEY = `${poolAddress}_lastBlock_${localForageVersion}`;\n  const cachedEvents =\n    (await localForage.getItem<EventData[]>(EVENTS_KEY)) || [];\n  const lastBlock =\n    (await localForage.getItem<number>(LAST_BLOCK_KEY)) || creationBlock;\n  const poof = new web3.eth.Contract(PoofAbi as AbiItem[], poolAddress);\n  const latestBlock = await web3.eth.getBlockNumber();\n  const newestEvents = await getPastEvents(\n    poof,\n    \"NewAccount\",\n    lastBlock,\n    latestBlock\n  );\n  const events = [...cachedEvents, ...newestEvents];\n  await localForage.setItem(EVENTS_KEY, events);\n  await localForage.setItem(LAST_BLOCK_KEY, latestBlock);\n  return events;\n};\n","import React from \"react\";\nimport { PoofKitGlobal } from \"hooks/usePoofKit\";\nimport { toBN, toWei } from \"web3-utils\";\nimport { useRecoilState } from \"recoil\";\nimport {\n  withdrawAmount,\n  withdrawCurrency,\n  withdrawLoading,\n  withdrawResolvedRecipient,\n} from \"pages/WithdrawPage/state\";\nimport { useRelayer } from \"hooks/useRelayer\";\nimport { useWeb3 } from \"hooks/useWeb3\";\nimport { getNewAccountEvents } from \"utils/getPoofEvents\";\nimport Web3 from \"web3\";\n\nexport function useWithdraw() {\n  const [amount] = useRecoilState(withdrawAmount);\n  const [currency] = useRecoilState(withdrawCurrency);\n  const [recipient] = useRecoilState(withdrawResolvedRecipient);\n  const [, setLoading] = useRecoilState(withdrawLoading);\n  const { relayer } = useRelayer(amount, currency);\n  const { poofKit, progress } = PoofKitGlobal.useContainer();\n  const { web3 } = useWeb3();\n\n  const withdraw = React.useCallback(\n    async (privateKey: string) => {\n      if (progress < 1) {\n        alert(\"Poof kit still loading\");\n        return;\n      }\n      if (!relayer) {\n        alert(\"Relayer is not defined\");\n        return;\n      }\n      if (!recipient) {\n        alert(\"Recipient not resolved\");\n        return;\n      }\n      const poolMatch = await poofKit.poolMatch(currency);\n      if (poolMatch) {\n        try {\n          setLoading(true);\n          const accountEvents = await getNewAccountEvents(\n            web3 as Web3,\n            poolMatch\n          );\n          return await poofKit.withdraw(\n            privateKey,\n            currency,\n            toBN(toWei(amount)),\n            toBN(0),\n            recipient,\n            relayer.url,\n            accountEvents\n          );\n        } catch (e) {\n          throw e;\n        } finally {\n          setLoading(false);\n        }\n      }\n    },\n    [progress, relayer, recipient, poofKit, currency, setLoading, web3, amount]\n  );\n\n  return withdraw;\n}\n","import styled from \"@emotion/styled\";\n\nconst Backdrop = styled.div({\n  width: \"100%\",\n  height: \"100%\",\n  position: \"fixed\",\n  zIndex: 100,\n  left: 0,\n  top: 0,\n  backgroundColor: \"rgba(38, 50, 56, 0.7)\",\n});\n\nexport default Backdrop;\n","import React from \"react\";\nimport styled from \"@emotion/styled\";\nimport Backdrop from \"components/Backdrop\";\nimport { Box } from \"@theme-ui/components\";\n\ninterface IProps {\n  modalClosed: any;\n  width?: string;\n  show: boolean;\n}\n\nconst StyledModal = styled(Box)<{ show: boolean; width: string | undefined }>(\n  ({ show, width }) => ({\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    zIndex: 500,\n    textAlign: \"center\",\n    padding: \"20px 20px\",\n    borderRadius: \"6px\",\n    borderWidth: \"1px\",\n    borderStyle: \"solid\",\n    boxSizing: \"border-box\",\n    boxShadow: \"0px 4px 12px rgba(21, 20, 153, 0.16)\",\n    transition: \"all 0.3s ease-out\",\n    // overflow: \"hidden\", //TODO: This may be required, but breaks StyledSelect's options/dropdown\n    // border: \"2px solid #263238\",\n    transform: \"translate(-50%, -50%)\",\n    display: show ? \"block\" : \"none\",\n    width: width,\n  })\n);\n\nconst Modal: React.FC<IProps> = ({ modalClosed, show, width, children }) => {\n  return (\n    <>\n      {show && <Backdrop onClick={modalClosed} />}\n      <StyledModal\n        sx={{ bg: \"elementBackground\", borderColor: \"purple100\" }}\n        width={width}\n        show={show}\n      >\n        {children}\n      </StyledModal>\n    </>\n  );\n};\n\nModal.defaultProps = {\n  width: \"34%\",\n};\n\nexport default Modal;\n","export const NOOP = () => {};\n","import React from \"react\";\nimport { Box, Flex } from \"@theme-ui/components\";\nimport { keyframes } from \"@emotion/react\";\n\nconst rotate = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n`;\n\nexport const ProcessingSpinner: React.FC<{}> = () => {\n  return (\n    <Box\n      mt={6}\n      sx={{\n        textAlign: \"center\",\n        position: \"relative\",\n        height: \"172px\",\n        width: \"172px\",\n        \":before\": {\n          animation: `${rotate} .7s infinite linear`,\n          content: '\"\"',\n          height: \"172px\",\n          width: \"172px\",\n          margin: \"-15px auto auto -15px\",\n          position: \"absolute\",\n          top: \"calc(50 % - 86px)\",\n          left: \"calc(50% - 86px)\",\n          borderWidth: \"8px\",\n          borderStyle: \"solid\",\n          borderColor:\n            \"#5352FC var(--theme-ui-colors-generationModalBorderBg) var(--theme-ui-colors-generationModalBorderBg)\",\n          borderRadius: \"100%\",\n        },\n      }}\n    >\n      <Flex\n        sx={{\n          width: \"156px;\",\n          height: \"156px\",\n          position: \"absolute\",\n          top: \"0\",\n          left: \"0\",\n          textAlign: \"center\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n        }}\n      >\n        <Box>Processing...</Box>\n      </Flex>\n    </Box>\n  );\n};\n","import React, { useState } from \"react\";\nimport { Box, Button, Flex } from \"@theme-ui/components\";\nimport Modal from \"../Modal\";\nimport { NOOP } from \"../../utils/helpers\";\nimport { ProcessingSpinner } from \"./ProcessingSpinner\";\n\nexport const ProofGenLoading: React.FC<{}> = () => {\n  const [showModal] = useState(true);\n  return (\n    <>\n      <Modal show={showModal} modalClosed={NOOP} width={\"385px\"}>\n        <Flex\n          sx={{\n            width: \"100%\",\n            height: \"100%\",\n            flexDirection: \"column\",\n            alignItems: \"center\",\n            background: \"generationModalBg\",\n          }}\n        >\n          <ProcessingSpinner />\n\n          <Box\n            mt={4}\n            sx={{\n              color: \"generationModalHeader\",\n              fontSize: \"20px\",\n              lineHeight: \"28px\",\n            }}\n          >\n            Generating zkSNARK proof.\n          </Box>\n          <Box\n            sx={{\n              color: \"generationModalHeader\",\n              fontSize: \"20px\",\n              lineHeight: \"28px\",\n            }}\n          >\n            Please wait\n          </Box>\n\n          <Box\n            mt={2}\n            sx={{\n              color: \"generationModalText\",\n              fontSize: \"14px\",\n              lineHeight: \"18px\",\n            }}\n          >\n            This process takes usually approx. 2 minutes\n          </Box>\n        </Flex>\n      </Modal>\n    </>\n  );\n};\n","import React from \"react\";\nimport { Button, Container, Flex, Text } from \"theme-ui\";\nimport { BackButton } from \"components/BackButton\";\nimport { ActionDrawer } from \"components/ActionDrawer\";\nimport { LabelWithBalance } from \"components/LabelWithBalance\";\nimport { SummaryTable } from \"components/SummaryTable\";\nimport { humanFriendlyNumber } from \"utils/number\";\nimport { useRelayer } from \"hooks/useRelayer\";\nimport { useRecoilState } from \"recoil\";\nimport {\n  withdrawAmount,\n  withdrawCurrency,\n  withdrawLoading,\n  withdrawTxHash,\n} from \"../state\";\nimport { PoofAccountGlobal } from \"hooks/poofAccount\";\nimport { useWithdraw } from \"hooks/actions/useWithdraw\";\nimport { ProofGenLoading } from \"components/Loaders/ProofGenLoading\";\n\ninterface IProps {\n  onBackClick: () => void;\n  onConfirmClick: () => void;\n}\n\nexport const PRECISION = 7;\n\nexport const ConfirmWithdraw: React.FC<IProps> = ({\n  onBackClick,\n  onConfirmClick,\n}) => {\n  const [amount] = useRecoilState(withdrawAmount);\n  const [currency] = useRecoilState(withdrawCurrency);\n  const [txHash] = useRecoilState(withdrawTxHash);\n  const [loading, setLoading] = useRecoilState(withdrawLoading);\n\n  const { relayer, relayerFee } = useRelayer(amount, currency);\n  const { actWithPoofAccount } = PoofAccountGlobal.useContainer();\n  const withdraw = useWithdraw();\n\n  const finalWithdrawAmount = Number(amount) + Number(relayerFee);\n\n  const handleWithdraw = async () => {\n    actWithPoofAccount(\n      async (privateKey) => {\n        try {\n          await withdraw(privateKey);\n          onConfirmClick();\n          if (!txHash) {\n            alert(\n              \"No response from relayer. Check your account in the explorer or try again\"\n            );\n          }\n        } catch (e: any) {\n          if (e.response) {\n            console.error(e.response.data.error);\n          } else {\n            console.debug(e);\n            alert(e.message);\n          }\n        } finally {\n          setLoading(false);\n        }\n      },\n      () => {}\n    );\n  };\n\n  return (\n    <Container>\n      <BackButton onClick={onBackClick} />\n      <br />\n      <Text sx={{ mb: 1 }} variant=\"subtitle\">\n        Transaction Summary\n      </Text>\n      <br />\n      <Text sx={{ mb: 4 }} variant=\"regularGray\">\n        Please review the transaction before continuing\n      </Text>\n      <br />\n\n      <SummaryTable\n        title=\"Summary\"\n        lineItems={[\n          {\n            label: \"Withdrawal Amount\",\n            value: `${humanFriendlyNumber(amount)} ${currency}`,\n          },\n          {\n            label: `Relayer Fee (${relayer?.relayerFee}%) + Gas`,\n            value: `${\n              relayerFee ? humanFriendlyNumber(relayerFee) : \"-\"\n            } ${currency}`,\n          },\n        ]}\n        totalItem={{\n          label: \"Total\",\n          value: `${humanFriendlyNumber(finalWithdrawAmount)} ${currency}`,\n        }}\n      />\n      <ActionDrawer>\n        {loading ? (\n          <Flex sx={{ justifyContent: \"flex-end\" }}>\n            <ProofGenLoading />\n          </Flex>\n        ) : (\n          <Flex sx={{ justifyContent: \"space-between\" }}>\n            <LabelWithBalance\n              label=\"Total\"\n              amount={finalWithdrawAmount}\n              currency={currency}\n            />\n            <Button onClick={handleWithdraw}>Withdraw</Button>\n          </Flex>\n        )}\n      </ActionDrawer>\n    </Container>\n  );\n};\n","import { useWeb3 } from \"hooks/useWeb3\";\nimport React from \"react\";\nimport { Link } from \"theme-ui\";\n\nexport const BlockscoutTxLink: React.FC<{ tx: string }> = ({\n  tx,\n  children,\n}) => {\n  const { network } = useWeb3();\n  return (\n    <Link\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n      href={`${network.explorer}/tx/${tx}`}\n      style={{ textDecoration: \"none\" }}\n    >\n      {children}\n    </Link>\n  );\n};\n\nexport const BlockscoutAddressLink: React.FC<{\n  address: string;\n}> = ({ address, children }) => {\n  const { network } = useWeb3();\n  return (\n    <Link\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n      href={`${network.explorer}/address/${address}`}\n      style={{ textDecoration: \"none\" }}\n    >\n      {children}\n    </Link>\n  );\n};\n","import { ActionDrawer } from \"components/ActionDrawer\";\nimport { LabelWithBalance } from \"components/LabelWithBalance\";\nimport { BlockscoutTxLink } from \"components/Links\";\nimport moment from \"moment\";\nimport React from \"react\";\nimport { Button, Container, Flex, Text } from \"theme-ui\";\nimport { SummaryTable } from \"components/SummaryTable\";\nimport { humanFriendlyNumber } from \"utils/number\";\nimport { shortenAccount } from \"utils/account\";\nimport { useRelayer } from \"hooks/useRelayer\";\nimport { useRecoilState } from \"recoil\";\nimport {\n  withdrawAmount,\n  withdrawCurrency,\n  withdrawRecipient,\n  withdrawTxHash,\n} from \"../state\";\n\ninterface IProps {\n  onDoneClick: () => void;\n}\n\nexport const WithdrawReceipt: React.FC<IProps> = ({ onDoneClick }) => {\n  const [amount] = useRecoilState(withdrawAmount);\n  const [currency] = useRecoilState(withdrawCurrency);\n  const [recipient] = useRecoilState(withdrawRecipient);\n  const [txHash] = useRecoilState(withdrawTxHash);\n  const { relayerFee } = useRelayer(amount, currency);\n\n  const finalWithdrawAmount = Number(amount) + Number(relayerFee);\n\n  return (\n    <Container>\n      <Text sx={{ display: \"block\", mb: 1 }} variant=\"subtitle\">\n        Alakazam!\n      </Text>\n      <Text sx={{ display: \"block\", mb: 4 }} variant=\"regularGray\">\n        Your {currency} has been sent.{\" \"}\n        <BlockscoutTxLink tx={txHash}>View transaction</BlockscoutTxLink>.\n      </Text>\n\n      <SummaryTable\n        title=\"Transaction\"\n        lineItems={[\n          {\n            label: \"Time completed\",\n            value: moment().format(\"h:mm a\"),\n          },\n          {\n            label: \"Account\",\n            value: shortenAccount(recipient),\n          },\n          {\n            label: \"Withdraw amount\",\n            value: `${humanFriendlyNumber(amount)} ${currency}`,\n          },\n        ]}\n        totalItem={{\n          label: \"Est. Withdrawal\",\n          value: `${humanFriendlyNumber(finalWithdrawAmount)} ${currency}`,\n        }}\n      />\n\n      <ActionDrawer>\n        <Flex sx={{ justifyContent: \"space-between\" }}>\n          <LabelWithBalance\n            label=\"Withdrew\"\n            amount={finalWithdrawAmount}\n            currency={currency}\n          />\n          <Button\n            onClick={() => {\n              onDoneClick();\n            }}\n            variant=\"done\"\n          >\n            Done\n          </Button>\n        </Flex>\n      </ActionDrawer>\n    </Container>\n  );\n};\n","import React from \"react\";\nimport { Box } from \"@theme-ui/components\";\n\ninterface Props {\n  onClickaway: (e: any) => any;\n}\n\nexport const CloseOnClickaway: React.FC<Props> = ({\n  children,\n  onClickaway,\n}) => {\n  const node = React.useRef<HTMLDivElement>(null);\n  React.useEffect(() => {\n    const handleClick = (e: any) => {\n      if (node?.current?.contains(e.target)) {\n        return;\n      }\n      onClickaway(e);\n    };\n    document.addEventListener(\"mousedown\", handleClick);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClick);\n    };\n  }, [onClickaway]);\n\n  return (\n    <Box sx={{ width: \"100%\" }} ref={node}>\n      {children}\n    </Box>\n  );\n};\n","import React, { useRef, useState } from \"react\";\nimport styled from \"@emotion/styled/macro\";\nimport { Check, ChevronDown } from \"react-feather\";\nimport { Box, Flex } from \"@theme-ui/components\";\nimport { CloseOnClickaway } from \"./CloseOnClickaway\";\n\nexport interface Option {\n  label: string;\n  value: string;\n}\n\ninterface IProps {\n  options: Array<Option>;\n  onSelect: (option: Option) => void;\n  value?: string;\n}\n\nconst SelectWrapper = styled(Flex)`\n  border-radius: 6px;\n  justify-content: space-between;\n  padding: 16px;\n  cursor: pointer;\n`;\n\nconst OptionsContainer = styled(Box)`\n  box-shadow: 0 2px 16px rgba(0, 29, 202, 0.16);\n  border: 1px solid #e0e0e0;\n  border-radius: 6px;\n  position: absolute;\n  top: 66px;\n  width: 100%;\n  left: 0;\n`;\n\nconst SelectedOptionCheck = styled(Check)`\n  margin-right: 16px;\n`;\n\nexport const StyledSelect: React.FC<IProps> = ({\n  options,\n  onSelect,\n  value,\n}) => {\n  const [expand, setExpand] = useState(false);\n\n  const select = useRef<any>(null);\n\n  function handleSelect(option: Option) {\n    onSelect(option);\n  }\n  return (\n    <CloseOnClickaway\n      onClickaway={(e) => {\n        if (select?.current?.contains(e.target)) {\n          return;\n        }\n        setExpand(false);\n      }}\n    >\n      <SelectWrapper\n        ref={select}\n        onClick={() => {\n          setExpand(!expand);\n        }}\n        sx={{\n          position: \"relative\",\n          border: expand ? \"1px solid #7C71FC\" : \"1px solid #E0E0E0\",\n          backgroundColor: expand ? \"selectActive\" : \"elementBackground\",\n        }}\n      >\n        {value ? options.filter((opt) => opt?.value === value)[0]?.label : \"\"}\n        <ChevronDown />\n        <OptionsContainer hidden={!expand} sx={{ bg: \"elementBackground\" }}>\n          {options && options.length > 0\n            ? options.map((option) => {\n                return (\n                  <Flex\n                    sx={{\n                      padding: \"16px\",\n                      borderTopStyle: \"solid\",\n                      borderTopWidth: \"1px\",\n                      borderTopColor: \"lightgray\",\n                      alignItems: \"center\",\n                      fontSize: \"14px\",\n                      lineHeight: \"18px\",\n                      width: \"100%\",\n                      \"&:hover\": {\n                        color: \"accent\",\n                      },\n                      \"&:nth-child(1)\": {\n                        borderTop: \"1px solid transparent\",\n                      },\n                    }}\n                    onClick={() => handleSelect(option)}\n                  >\n                    {value === option.value ? (\n                      <SelectedOptionCheck />\n                    ) : (\n                      <Box\n                        sx={{\n                          width: \"24px\",\n                          height: \"24px\",\n                          marginRight: \"16px\",\n                        }}\n                      />\n                    )}\n                    {option.label}\n                  </Flex>\n                );\n              })\n            : null}\n        </OptionsContainer>\n      </SelectWrapper>\n    </CloseOnClickaway>\n  );\n};\n\nStyledSelect.defaultProps = {\n  options: [{ value: \"\", label: \"...\" }],\n};\n","import { useCallback, useState } from \"react\";\n\nexport const useDebounce = (callback: (...v: any[]) => any, delay: number) => {\n  const [timeoutFn, setTimeoutFn] = useState<any>();\n\n  const debouncedCallback = useCallback(\n    (...args) => {\n      if (timeoutFn) {\n        clearTimeout(timeoutFn);\n      }\n      setTimeoutFn(setTimeout(() => callback(...args), delay));\n    },\n    [callback, delay, timeoutFn]\n  );\n\n  return debouncedCallback;\n};\n","export const isValidHttpUrl = (testUrl: string) => {\n  let url;\n\n  try {\n    url = new URL(testUrl);\n  } catch (_) {\n    return false;\n  }\n\n  return url.protocol === \"http:\" || url.protocol === \"https:\";\n};\n","import { deployments } from \"@poofcash/poof-v2-kit\";\nimport React from \"react\";\nimport { getNewAccountEvents } from \"utils/getPoofEvents\";\nimport Web3 from \"web3\";\nimport { toBN } from \"web3-utils\";\nimport { PoofAccountGlobal } from \"./poofAccount\";\nimport { useAsyncState } from \"./useAsyncState\";\nimport { PoofKitGlobal } from \"./usePoofKit\";\nimport { useWeb3 } from \"./useWeb3\";\n\nexport const useHiddenBalances = (currency?: string) => {\n  const { network } = useWeb3();\n  const { privateKey } = PoofAccountGlobal.useContainer();\n  const { poofKit } = PoofKitGlobal.useContainer();\n  const { web3 } = useWeb3();\n  const call = React.useCallback(async () => {\n    if (!privateKey) {\n      return null;\n    }\n    const pools = deployments[network.chainId].filter((pool) =>\n      currency\n        ? pool.symbol.toLowerCase() === currency?.toLowerCase() ||\n          pool.pSymbol.toLowerCase() === currency?.toLowerCase()\n        : true\n    );\n    const accounts = await Promise.all(\n      pools.map(async (pool) => {\n        const accountEvents = await getNewAccountEvents(web3 as Web3, pool);\n        return await poofKit.getLatestAccount(\n          privateKey,\n          pool.symbol.toLowerCase(),\n          accountEvents\n        );\n      })\n    );\n    const unitPerUnderlyings = await Promise.all(\n      pools.map((pool) => poofKit.unitPerUnderlying(pool.symbol.toLowerCase()))\n    );\n    return accounts.map((acc, i) => {\n      return {\n        ...pools[i],\n        ...(acc || {}),\n        amount: acc ? acc.amount.div(unitPerUnderlyings[i]) : toBN(0),\n        debt: acc ? acc.debt : toBN(0),\n      };\n    });\n  }, [privateKey, network.chainId, currency, web3, poofKit]);\n\n  return useAsyncState(null, call);\n};\n","export const isNom = (s: string) => {\n  return s.endsWith(\".nom\");\n};\n","import React from \"react\";\nimport Web3 from \"web3\";\nimport NomArtifact from \"abis/Nom.json\";\nimport { AbiItem } from \"web3-utils\";\nimport { NOM } from \"config\";\nimport { Nom } from \"generated/Nom\";\n\nexport const useNom = () => {\n  return React.useMemo(() => {\n    const web3 = new Web3(\"https://forno.celo.org\");\n    return (new web3.eth.Contract(\n      NomArtifact.abi as AbiItem[],\n      NOM\n    ) as unknown) as Nom;\n  }, []);\n};\n","const Logo = ({ size }) => (\n    <svg\n        width={size}\n        height={size}\n        viewBox=\"0 0 236 236\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n    >\n        <rect\n            x=\"132.561\"\n            y=\"55.5837\"\n            width=\"79.4738\"\n            height=\"127.726\"\n            rx=\"11.9683\"\n            transform=\"rotate(25 132.561 55.5837)\"\n            fill=\"#ECE6FE\"\n        />\n        <rect\n            x=\"71.6385\"\n            y=\"43.7797\"\n            width=\"79.4738\"\n            height=\"127.726\"\n            rx=\"11.9683\"\n            fill=\"#CCC3FC\"\n        />\n        <rect\n            x=\"33.449\"\n            y=\"87.0876\"\n            width=\"79.4738\"\n            height=\"127.726\"\n            rx=\"11.9683\"\n            transform=\"rotate(-25 33.449 87.0876)\"\n            fill=\"#7C71FC\"\n        />\n        <path\n            d=\"M82.8255 139.602C79.7948 139.665 77.7264 135.244 79.7003 132.943C82.0775 130.172 84.3662 126.997 85.4627 124.049C86.5192 121.208 86.7358 117.105 86.6298 113.291C86.547 110.312 90.7122 108.313 92.97 110.259C95.8968 112.781 99.247 115.258 102.094 116.294C104.943 117.331 109.104 117.587 112.97 117.535C115.949 117.496 117.858 121.704 115.881 123.934C113.318 126.823 110.799 130.167 109.729 133.108C108.718 135.886 108.466 139.768 108.53 143.443C108.583 146.474 104.178 148.508 101.9 146.508C99.1522 144.095 96.0409 141.794 93.2665 140.784C90.4683 139.766 86.539 139.524 82.8255 139.602Z\"\n            fill=\"white\"\n        />\n    </svg>\n);\n\nexport default Logo;\n","const Withdrawal = ({ size }) => (\n    <svg fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" widt={size} height={size} viewBox={`0 0 24 24`} >\n        <path d=\"M12.25 17V5\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n        <path d=\"M16.75 9.5L12.25 5L7.75 9.5\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n        <path d=\"M20.5 19.7858H4\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n    </svg>\n);\n\nexport default Withdrawal;\n","const Deposit = ({ size }) => (\n    <svg fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" widt={size} height={size} viewBox={`0 0 24 24`} >\n        <path d=\"M12.25 5V17\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n        <path d=\"M7.75 12.5L12.25 17L16.75 12.5\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n        <path d=\"M20.5 19.7858H4\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n    </svg>\n);\n\nexport default Deposit;\n","const Repay = ({ size }) => (\n    <svg fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" widt={size} height={size} viewBox={`0 0 24 24`} >\n        <path d=\"M20.8093 9.33372L15.6664 4.1909C15.5391 4.06364 15.3885 4 15.2144 4C15.0403 4 14.8895 4.06364 14.7624 4.1909C14.6351 4.31822 14.5714 4.4689 14.5714 4.64298V7.2144H12.3214C7.5467 7.2144 4.61717 8.56376 3.5322 11.2624C3.17739 12.1596 3 13.2747 3 14.6073C3 15.7189 3.42524 17.2289 4.27566 19.1374C4.29571 19.1844 4.33075 19.2646 4.38106 19.3784C4.43134 19.4921 4.47648 19.5926 4.51666 19.6797C4.55697 19.7666 4.60053 19.8403 4.64736 19.9005C4.72764 20.0144 4.82144 20.0715 4.9286 20.0715C5.02904 20.0715 5.10775 20.038 5.16471 19.9711C5.22152 19.9041 5.24999 19.8203 5.24999 19.7201C5.24999 19.6597 5.24161 19.5711 5.22483 19.4538C5.20809 19.3366 5.19968 19.2581 5.19968 19.2178C5.16615 18.7627 5.1494 18.3505 5.1494 17.9825C5.1494 17.3062 5.20809 16.7001 5.32517 16.1644C5.44243 15.6286 5.6048 15.165 5.81244 14.7732C6.02005 14.3813 6.28782 14.0434 6.61603 13.7588C6.9441 13.4741 7.29729 13.2415 7.67564 13.0607C8.05405 12.8798 8.49935 12.7375 9.01163 12.6338C9.52388 12.53 10.0395 12.4579 10.5585 12.4177C11.0775 12.3775 11.6652 12.3575 12.3214 12.3575H14.5714V14.929C14.5714 15.1031 14.635 15.2538 14.7621 15.381C14.8895 15.5081 15.0401 15.5718 15.2141 15.5718C15.3882 15.5718 15.5389 15.5081 15.6664 15.381L20.8092 10.238C20.9364 10.1107 21 9.96014 21 9.78602C21 9.61194 20.9364 9.46122 20.8093 9.33372Z\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n    </svg>\n);\n\nexport default Repay;\n","const Request = ({ size }) => (\n    <svg fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" widt={size} height={size} viewBox={`0 0 24 24`} >\n        <path d=\"M3 13.8V21\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n        <path d=\"M3 19.8H16.2C16.2 19.1635 15.9471 18.553 15.4971 18.1029C15.047 17.6529 14.4365 17.4 13.8 17.4H10.8C10.8 16.7635 10.5471 16.153 10.0971 15.7029C9.64697 15.2529 9.03652 15 8.4 15H3\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n        <path d=\"M7.80078 17.4H10.8008\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n        <path d=\"M13.8008 6.6C13.8008 7.07276 13.8939 7.54089 14.0748 7.97766C14.2557 8.41443 14.5209 8.81129 14.8552 9.14558C15.1895 9.47988 15.5863 9.74505 16.0231 9.92597C16.4599 10.1069 16.928 10.2 17.4008 10.2C17.8735 10.2 18.3417 10.1069 18.7784 9.92597C19.2152 9.74505 19.6121 9.47988 19.9464 9.14558C20.2807 8.81129 20.5458 8.41443 20.7267 7.97766C20.9077 7.54089 21.0008 7.07276 21.0008 6.6C21.0008 6.12724 20.9077 5.65911 20.7267 5.22234C20.5458 4.78557 20.2807 4.38871 19.9464 4.05442C19.6121 3.72012 19.2152 3.45495 18.7784 3.27403C18.3417 3.09312 17.8735 3 17.4008 3C16.928 3 16.4599 3.09312 16.0231 3.27403C15.5863 3.45495 15.1895 3.72012 14.8552 4.05442C14.5209 4.38871 14.2557 4.78557 14.0748 5.22234C13.8939 5.65911 13.8008 6.12724 13.8008 6.6V6.6Z\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n        <path d=\"M17.3996 12.6C17.3997 12.9884 17.3055 13.3709 17.1251 13.7148C16.9448 14.0587 16.6837 14.3538 16.3642 14.5746C16.0448 14.7954 15.6765 14.9353 15.2911 14.9825C14.9056 15.0297 14.5145 14.9826 14.1512 14.8453C13.7879 14.708 13.4634 14.4847 13.2055 14.1944C12.9476 13.9041 12.7639 13.5555 12.6703 13.1786C12.5768 12.8017 12.576 12.4078 12.6682 12.0305C12.7604 11.6533 12.9428 11.3041 13.1996 11.0128\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n    </svg>\n);\n\nexport default Request;\n","const Loans = ({ size }) => (\n    <svg fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" widt={size} height={size} viewBox={`0 0 24 24`} >\n        <path d=\"M4 21.0001H20.8\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n        <path d=\"M4 18.6001H20.8\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n        <path d=\"M5.19922 10.2001V16.2001\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n        <path d=\"M7.59961 10.2001V16.2001\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n        <path d=\"M11.1992 10.2001V16.2001\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n        <path d=\"M13.5996 10.2001V16.2001\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n        <path d=\"M17.1992 10.2001V16.2001\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n        <path d=\"M19.5996 10.2001V16.2001\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n        <path d=\"M20.8 7.80011H4L11.7512 3.19052C11.9447 3.06613 12.1699 3 12.4 3C12.6301 3 12.8553 3.06613 13.0488 3.19052L20.8 7.80011Z\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n    </svg>\n);\n\nexport default Loans;\n","const Cog = ({ size }) => (\n    <svg fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" widt={size} height={size} viewBox={`0 0 24 24`} >\n        <path d=\"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n        <path d=\"M19.4 15C19.2669 15.3016 19.2272 15.6362 19.286 15.9606C19.3448 16.285 19.4995 16.5843 19.73 16.82L19.79 16.88C19.976 17.0657 20.1235 17.2863 20.2241 17.5291C20.3248 17.7719 20.3766 18.0322 20.3766 18.295C20.3766 18.5578 20.3248 18.8181 20.2241 19.0609C20.1235 19.3037 19.976 19.5243 19.79 19.71C19.6043 19.896 19.3837 20.0435 19.1409 20.1441C18.8981 20.2448 18.6378 20.2966 18.375 20.2966C18.1122 20.2966 17.8519 20.2448 17.6091 20.1441C17.3663 20.0435 17.1457 19.896 16.96 19.71L16.9 19.65C16.6643 19.4195 16.365 19.2648 16.0406 19.206C15.7162 19.1472 15.3816 19.1869 15.08 19.32C14.7842 19.4468 14.532 19.6572 14.3543 19.9255C14.1766 20.1938 14.0813 20.5082 14.08 20.83V21C14.08 21.5304 13.8693 22.0391 13.4942 22.4142C13.1191 22.7893 12.6104 23 12.08 23C11.5496 23 11.0409 22.7893 10.6658 22.4142C10.2907 22.0391 10.08 21.5304 10.08 21V20.91C10.0723 20.579 9.96512 20.258 9.77251 19.9887C9.5799 19.7194 9.31074 19.5143 9 19.4C8.69838 19.2669 8.36381 19.2272 8.03941 19.286C7.71502 19.3448 7.41568 19.4995 7.18 19.73L7.12 19.79C6.93425 19.976 6.71368 20.1235 6.47088 20.2241C6.22808 20.3248 5.96783 20.3766 5.705 20.3766C5.44217 20.3766 5.18192 20.3248 4.93912 20.2241C4.69632 20.1235 4.47575 19.976 4.29 19.79C4.10405 19.6043 3.95653 19.3837 3.85588 19.1409C3.75523 18.8981 3.70343 18.6378 3.70343 18.375C3.70343 18.1122 3.75523 17.8519 3.85588 17.6091C3.95653 17.3663 4.10405 17.1457 4.29 16.96L4.35 16.9C4.58054 16.6643 4.73519 16.365 4.794 16.0406C4.85282 15.7162 4.81312 15.3816 4.68 15.08C4.55324 14.7842 4.34276 14.532 4.07447 14.3543C3.80618 14.1766 3.49179 14.0813 3.17 14.08H3C2.46957 14.08 1.96086 13.8693 1.58579 13.4942C1.21071 13.1191 1 12.6104 1 12.08C1 11.5496 1.21071 11.0409 1.58579 10.6658C1.96086 10.2907 2.46957 10.08 3 10.08H3.09C3.42099 10.0723 3.742 9.96512 4.0113 9.77251C4.28059 9.5799 4.48572 9.31074 4.6 9C4.73312 8.69838 4.77282 8.36381 4.714 8.03941C4.65519 7.71502 4.50054 7.41568 4.27 7.18L4.21 7.12C4.02405 6.93425 3.87653 6.71368 3.77588 6.47088C3.67523 6.22808 3.62343 5.96783 3.62343 5.705C3.62343 5.44217 3.67523 5.18192 3.77588 4.93912C3.87653 4.69632 4.02405 4.47575 4.21 4.29C4.39575 4.10405 4.61632 3.95653 4.85912 3.85588C5.10192 3.75523 5.36217 3.70343 5.625 3.70343C5.88783 3.70343 6.14808 3.75523 6.39088 3.85588C6.63368 3.95653 6.85425 4.10405 7.04 4.29L7.1 4.35C7.33568 4.58054 7.63502 4.73519 7.95941 4.794C8.28381 4.85282 8.61838 4.81312 8.92 4.68H9C9.29577 4.55324 9.54802 4.34276 9.72569 4.07447C9.90337 3.80618 9.99872 3.49179 10 3.17V3C10 2.46957 10.2107 1.96086 10.5858 1.58579C10.9609 1.21071 11.4696 1 12 1C12.5304 1 13.0391 1.21071 13.4142 1.58579C13.7893 1.96086 14 2.46957 14 3V3.09C14.0013 3.41179 14.0966 3.72618 14.2743 3.99447C14.452 4.26276 14.7042 4.47324 15 4.6C15.3016 4.73312 15.6362 4.77282 15.9606 4.714C16.285 4.65519 16.5843 4.50054 16.82 4.27L16.88 4.21C17.0657 4.02405 17.2863 3.87653 17.5291 3.77588C17.7719 3.67523 18.0322 3.62343 18.295 3.62343C18.5578 3.62343 18.8181 3.67523 19.0609 3.77588C19.3037 3.87653 19.5243 4.02405 19.71 4.21C19.896 4.39575 20.0435 4.61632 20.1441 4.85912C20.2448 5.10192 20.2966 5.36217 20.2966 5.625C20.2966 5.88783 20.2448 6.14808 20.1441 6.39088C20.0435 6.63368 19.896 6.85425 19.71 7.04L19.65 7.1C19.4195 7.33568 19.2648 7.63502 19.206 7.95941C19.1472 8.28381 19.1869 8.61838 19.32 8.92V9C19.4468 9.29577 19.6572 9.54802 19.9255 9.72569C20.1938 9.90337 20.5082 9.99872 20.83 10H21C21.5304 10 22.0391 10.2107 22.4142 10.5858C22.7893 10.9609 23 11.4696 23 12C23 12.5304 22.7893 13.0391 22.4142 13.4142C22.0391 13.7893 21.5304 14 21 14H20.91C20.5882 14.0013 20.2738 14.0966 20.0055 14.2743C19.7372 14.452 19.5268 14.7042 19.4 15V15Z\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n    </svg>\n);\n\nexport default Cog;\n","const X = ({ size }) => (\n    <svg fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" widt={size} height={size} viewBox={`0 0 24 24`} >\n        <path d=\"M18 6L6 18\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n        <path d=\"M6 6L18 18\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n    </svg>\n);\n\nexport default X;\n","const Export = ({ size }) => (\n    <svg fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" widt={size} height={size} viewBox={`0 0 24 24`} >\n        <path d=\"M20 15V18.3333C20 18.7754 19.8244 19.1993 19.5118 19.5118C19.1993 19.8244 18.7754 20 18.3333 20H6.66667C6.22464 20 5.80072 19.8244 5.48816 19.5118C5.17559 19.1993 5 18.7754 5 18.3333V15\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n        <path d=\"M8.33203 10.8334L12.4987 15L16.6654 10.8334\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n        <path d=\"M12.5 15V5\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n    </svg>\n);\n\nexport default Export;\n","import Tokens from './list.json';\nimport { default as Logo } from \"./logo.jsx\";\n\nexport { default as Withdrawal } from \"./withdrawal.jsx\";\nexport { default as Deposit } from \"./deposit.jsx\";\nexport { default as Repay } from \"./repay.jsx\";\nexport { default as Request } from \"./request.jsx\";\nexport { default as Loans } from \"./loans.jsx\";\nexport { default as Cog } from \"./cog.jsx\";\nexport { default as X } from \"./x.jsx\";\nexport { default as Export } from \"./export.jsx\";\n\nexport const logo = (symbol, size = 24) => {\n  const s = symbol.toLowerCase();\n  const ls = new Map();\n  Tokens.forEach(l => {\n    ls.set(l.symbol.toLowerCase(), l.logoURI);\n  })\n\n  let l = ls.get(s);\n  if (!l) {\n    return <Logo size={size} />;\n  }\n\n  return (<img\n    src={l}\n    alt=\"\"\n    style={{ width: size + \"px\", height: size + \"px\", borderRadius: '50%' }}\n  />);\n}\n","import React from \"react\";\nimport {\n  Box,\n  Button,\n  Container,\n  Flex,\n  Input,\n  Link,\n  Spinner,\n  Text,\n  Grid,\n} from \"theme-ui\";\nimport Modal from \"components/Modal\";\nimport { ActionDrawer } from \"components/ActionDrawer\";\nimport { LabelWithBalance } from \"components/LabelWithBalance\";\nimport { StyledSelect } from \"components/StyledSelect\";\nimport { Breakpoint, useBreakpoint } from \"hooks/useBreakpoint\";\nimport { useDebounce } from \"hooks/useDebounce\";\nimport { isValidHttpUrl } from \"utils/url.utils\";\nimport axios from \"axios\";\nimport { useRelayer } from \"hooks/useRelayer\";\nimport { useRecoilState } from \"recoil\";\nimport {\n  withdrawAmount,\n  withdrawCurrency,\n  withdrawLoading,\n  withdrawRecipient,\n  withdrawResolvedRecipient,\n  withdrawTxHash,\n} from \"../state\";\nimport { deployments } from \"@poofcash/poof-v2-kit\";\nimport { fromWei, isAddress, toBN, toWei } from \"web3-utils\";\nimport { useHiddenBalances } from \"hooks/useHiddenBalances\";\nimport { useWithdraw } from \"hooks/actions/useWithdraw\";\nimport { PoofAccountGlobal } from \"hooks/poofAccount\";\nimport { SummaryTable } from \"components/SummaryTable\";\nimport { humanFriendlyNumber } from \"utils/number\";\nimport { isNom } from \"utils/nom\";\nimport { useNom } from \"hooks/useNom\";\nimport { ethers } from \"ethers\";\nimport { ProofGenLoading } from \"components/Loaders/ProofGenLoading\";\nimport { WalletGlobal } from \"hooks/useWallet\";\nimport { X as Close } from \"assets/icons/index\";\n\ninterface IProps {\n  settingsOpened: boolean;\n  setSettingsOpened: (opened: boolean) => void;\n  onWithdrawClick: () => void;\n}\n\nexport const PickWithdraw: React.FC<IProps> = ({\n  onWithdrawClick,\n  settingsOpened,\n  setSettingsOpened,\n}) => {\n  const { network } = WalletGlobal.useContainer();\n  const [amount, setAmount] = useRecoilState(withdrawAmount);\n  const [currency, setCurrency] = useRecoilState(withdrawCurrency);\n  React.useEffect(() => {\n    setCurrency(\n      deployments[network.chainId].find((d) => d.symbol === \"cUSD\")?.symbol ||\n        deployments[network.chainId][0].symbol\n    );\n  }, [network.chainId, setCurrency]);\n  const [recipient, setRecipient] = useRecoilState(withdrawRecipient);\n  const [resolvedRecipient, setResolvedRecipient] = useRecoilState(\n    withdrawResolvedRecipient\n  );\n  const [, setTxHash] = useRecoilState(withdrawTxHash);\n  const [loading] = useRecoilState(withdrawLoading);\n  const { actWithPoofAccount } = PoofAccountGlobal.useContainer();\n  const [hiddenBalances] = useHiddenBalances(currency);\n  const withdraw = useWithdraw();\n\n  const {\n    relayer,\n    setSelectedRelayer,\n    relayerOptions,\n    usingCustomRelayer,\n    setUsingCustomRelayer,\n    customRelayer,\n    setCustomRelayer,\n    relayerFee,\n  } = useRelayer(\n    hiddenBalances?.[0] ? fromWei(hiddenBalances[0].amount.toString()) : null,\n    currency\n  );\n  const breakpoint = useBreakpoint();\n  const [customRelayerError, setCustomRelayerError] = React.useState<\n    string | null\n  >(\"Required\");\n\n  const nom = useNom();\n  React.useEffect(() => {\n    if (isNom(recipient)) {\n      nom.methods\n        .resolve(\n          ethers.utils.formatBytes32String(recipient.replace(\".nom\", \"\"))\n        )\n        .call()\n        .then((r) => {\n          setResolvedRecipient(r);\n        })\n        .catch(console.error);\n    } else if (isAddress(recipient)) {\n      setResolvedRecipient(recipient);\n    } else {\n      setResolvedRecipient(null);\n    }\n  }, [recipient, nom, setResolvedRecipient]);\n\n  const [customRelayerUrl, setCustomRelayerUrl] = React.useState(\"\");\n  const onCustomRelayerUrlChange = useDebounce((relayerUrl) => {\n    if (isValidHttpUrl(relayerUrl)) {\n      axios\n        .get(relayerUrl + \"/status\")\n        .then(({ data }) =>\n          setCustomRelayer({\n            url: relayerUrl,\n            relayerFee: data.poofServiceFee,\n            miningServiceFee: data.miningServiceFee,\n            gasPrices: data.gasPrices,\n            celoPrices: data.celoPrices,\n          })\n        )\n        .catch((err) =>\n          setCustomRelayerError(\n            `${err.message}. Make sure you remove the \"/\" at the end of your url`\n          )\n        );\n      setCustomRelayerError(null);\n    } else if (relayerUrl !== \"\") {\n      setCustomRelayerError(\"Invalid custom relayer url format\");\n    }\n  }, 200);\n\n  const finalWithdrawAmount = Number(amount) + Number(relayerFee);\n  let maxWithdraw = \"0\";\n  if (hiddenBalances?.[0] && relayerFee) {\n    maxWithdraw = fromWei(\n      hiddenBalances[0].amount\n        .sub(toBN(hiddenBalances[0].debt.toString()))\n        .sub(toBN(toWei(relayerFee)))\n        .toString()\n    );\n  }\n\n  const withdrawButton = (\n    <Button\n      variant=\"submit\"\n      onClick={() => {\n        if (!resolvedRecipient) {\n          alert(\"Recipient address is not valid\");\n          return;\n        }\n        actWithPoofAccount(\n          async (privateKey) => {\n            try {\n              const txHash = await withdraw(privateKey);\n              if (txHash) {\n                setTxHash(txHash);\n                onWithdrawClick();\n              } else {\n                alert(\n                  \"No response from relayer. It's possible that the transaction still succeeded. Check your balance in 5 minutes before retrying the transaction.\"\n                );\n              }\n            } catch (e: any) {\n              if (e.response) {\n                console.error(e.response.data.error);\n              } else {\n                console.debug(e);\n                alert(e.message);\n              }\n            }\n          },\n          () => {}\n        );\n      }}\n      disabled={\n        !resolvedRecipient ||\n        (usingCustomRelayer && !customRelayer) ||\n        isNaN(Number(amount)) ||\n        Number(amount) > Number(maxWithdraw)\n      }\n    >\n      Send\n    </Button>\n  );\n\n  const currencyOptions = deployments[network.chainId].map((entry, idx) => ({\n    value: entry.symbol,\n    label: entry.symbol,\n  }));\n\n  const relayerSelectOptions = [\n    ...relayerOptions.map((v, idx) => ({\n      label: v.url + \" - \" + v.relayerFee + \"%\",\n      value: v.url,\n    })),\n    { value: \"custom\", label: \"Custom\" },\n  ];\n\n  return (\n    <div>\n      <Modal modalClosed={() => setSettingsOpened(false)} show={settingsOpened}>\n        <Flex\n          sx={{\n            background: \"elementBackground\",\n            justifyContent: \"space-between\",\n            alignItems: \"center\",\n          }}\n        >\n          <Text sx={{ fontWeight: [400], fontSize: [18], lineHeight: \"20px\" }}>\n            Transaction settings\n          </Text>\n          <Button\n            variant=\"ghost\"\n            onClick={() => setSettingsOpened(false)}\n            sx={{\n              margin: 0,\n              padding: 0,\n              height: \"24px !important\",\n              color: \"text\",\n            }}\n          >\n            <Close size={24} />\n          </Button>\n        </Flex>\n\n        <Flex\n          sx={{\n            flexDirection: \"column\",\n            justifyContent: \"center\",\n            alignItems: \"flex-start\",\n          }}\n        >\n          <Text variant=\"form\" sx={{ mt: 4, mb: 2 }}>\n            Relayer\n          </Text>\n          <StyledSelect\n            value={relayer ? relayer.url : \"custom\"}\n            options={relayerSelectOptions}\n            onSelect={(o) => {\n              if (o.value === \"custom\") {\n                setCustomRelayer(undefined);\n                setUsingCustomRelayer(true);\n              } else {\n                setSelectedRelayer(\n                  relayerOptions?.find(\n                    (relayerOption) => relayerOption.url === o.value\n                  )\n                );\n                setUsingCustomRelayer(false);\n              }\n            }}\n          ></StyledSelect>\n\n          {usingCustomRelayer && (\n            <>\n              <Text variant=\"form\" sx={{ mt: 4, mb: 2 }}>\n                Custom relayer url\n              </Text>\n              <Input\n                disabled={loading}\n                name=\"customRelayer\"\n                type=\"text\"\n                value={customRelayerUrl}\n                onChange={(event) => {\n                  const relayerUrl = event.target.value;\n                  setCustomRelayerUrl(relayerUrl);\n                  onCustomRelayerUrlChange(relayerUrl);\n                }}\n                placeholder=\"Enter custom relayer address (protocol://...)\"\n              />\n              <Text sx={{ mt: 2, color: \"red\" }} variant=\"form\">\n                {customRelayerError}\n              </Text>\n            </>\n          )}\n          <Button\n            disabled={usingCustomRelayer && customRelayerError !== null}\n            onClick={() => setSettingsOpened(false)}\n            variant=\"submit\"\n          >\n            Save\n          </Button>\n        </Flex>\n      </Modal>\n\n      <Text variant=\"form\" sx={{ display: \"block\", mb: 1 }}>\n        Recipient address\n      </Text>\n      <Input\n        mb={2}\n        disabled={loading}\n        name=\"recipientAddress\"\n        type=\"text\"\n        onChange={(e) => setRecipient(e.target.value)}\n        value={recipient}\n        placeholder=\"Enter wallet address or .nom\"\n      />\n      {recipient !== \"\" && !resolvedRecipient && (\n        <>\n          <Text sx={{ mt: 2, color: \"red\" }} variant=\"form\">\n            Invalid address, please try again.\n          </Text>\n          <br />\n        </>\n      )}\n\n      <Grid columns={\"1fr 3fr\"}>\n        <Flex sx={{ flexDirection: \"column\" }}>\n          <Text variant=\"form\" sx={{ mb: 1 }}>\n            Currency\n          </Text>\n          <StyledSelect\n            value={currency}\n            options={currencyOptions}\n            onSelect={(e) => setCurrency(e.value)}\n          />\n        </Flex>\n        <div>\n          <Flex sx={{ width: \"100%\", justifyContent: \"space-between\" }} mb={1}>\n            <Text variant=\"form\">Amount</Text>\n            <Text sx={{ whiteSpace: \"nowrap\" }} variant=\"form\">\n              <Link\n                sx={{ maxWidth: \"100%\" }}\n                onClick={() => {\n                  if (hiddenBalances?.[0]) {\n                    setAmount(maxWithdraw);\n                  }\n                }}\n              >\n                max: {humanFriendlyNumber(maxWithdraw)} {currency}\n              </Link>\n            </Text>\n          </Flex>\n          <Input\n            sx={{ width: \"100%\" }}\n            placeholder=\"Enter an amount to completeRequest\"\n            onChange={(e) => {\n              const input = e.target.value;\n              if (!isNaN(Number(input))) {\n                setAmount(input);\n              }\n            }}\n            value={amount}\n          />\n        </div>\n      </Grid>\n\n      {breakpoint === Breakpoint.DESKTOP && (\n        <Container mt={4}>\n          {loading ? <ProofGenLoading /> : withdrawButton}\n        </Container>\n      )}\n\n      {breakpoint === Breakpoint.MOBILE && (\n        <>\n          <Box mt={6}>\n            <SummaryTable\n              lineItems={[\n                {\n                  label: \"Withdrawal Amount\",\n                  value: `${humanFriendlyNumber(amount)} ${currency}`,\n                },\n                {\n                  label: `Relayer Fee (${relayer?.relayerFee}%) + Gas`,\n                  value: `${\n                    relayerFee ? humanFriendlyNumber(relayerFee) : \"-\"\n                  } ${currency}`,\n                },\n              ]}\n              totalItem={{\n                label: \"Total\",\n                value: `${humanFriendlyNumber(\n                  finalWithdrawAmount\n                )} ${currency}`,\n              }}\n            />\n          </Box>\n          <ActionDrawer>\n            <Flex\n              sx={{ justifyContent: \"space-between\", alignItems: \"center\" }}\n            >\n              <LabelWithBalance\n                label=\"Total\"\n                amount={amount}\n                currency={currency}\n              />\n              {loading ? <Spinner /> : withdrawButton}\n            </Flex>\n          </ActionDrawer>\n        </>\n      )}\n    </div>\n  );\n};\n","import React from \"react\";\nimport { Box } from \"theme-ui\";\n\nexport const GrayBox: React.FC = ({ children }) => {\n  return (\n    <Box\n      sx={{\n        bg: \"secondaryBackground\",\n        borderRadius: \"6px\",\n        width: \"100%\",\n        minHeight: \"50%\",\n        my: 4,\n        px: 3,\n        py: 5,\n      }}\n    >\n      {children}\n    </Box>\n  );\n};\n","export const DepositIllustration: React.FC = () => {\n  return (\n    <svg\n      width=\"297\"\n      height=\"511\"\n      viewBox=\"0 0 297 511\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <rect\n        x=\"11.09\"\n        y=\"105.133\"\n        width=\"243.52\"\n        height=\"405.867\"\n        rx=\"5.922\"\n        fill=\"#ECE6FE\"\n      />\n      <path\n        d=\"M11.09 111.055C11.09 107.785 13.7414 105.133 17.012 105.133L248.334 105.133C251.605 105.133 254.256 107.785 254.256 111.055V130.776H11.09L11.09 111.055Z\"\n        fill=\"#CCC3FC\"\n      />\n      <g filter=\"url(#filter0_f)\">\n        <path\n          d=\"M173.665 478.051C173.665 476.689 172.753 476.108 171.367 475.812L170.905 475.718V472.685C172.007 472.757 172.552 473.349 172.599 474.083H173.428C173.428 472.863 172.481 472.01 170.905 471.939V470.968H170.467V471.927C168.833 471.999 167.968 472.875 167.968 474.119C167.968 475.279 168.714 475.99 170.124 476.286L170.467 476.357V479.685C169.188 479.591 168.631 478.856 168.572 477.956H167.743C167.743 479.318 168.667 480.337 170.467 480.431V481.391H170.905V480.443C172.635 480.396 173.665 479.519 173.665 478.051ZM170.349 475.599C169.271 475.374 168.833 474.841 168.833 474.119C168.833 473.384 169.306 472.745 170.467 472.674V475.623L170.349 475.599ZM170.905 479.697V476.452L171.154 476.499C172.102 476.701 172.8 477.091 172.8 478.074C172.8 478.998 172.173 479.65 170.905 479.697ZM178.757 480.325H179.598V478.086H180.545V477.399H179.598V472.034H178.757L174.872 477.399V478.086H178.757V480.325ZM175.654 477.399L178.757 473.112V477.399H175.654ZM186.641 472.034V475.208C186.191 474.438 185.326 474.048 184.414 474.048C182.981 474.048 181.631 475.031 181.631 477.245C181.631 479.448 182.981 480.443 184.414 480.443C185.326 480.443 186.191 480.052 186.641 479.283V480.325H187.482V472.034H186.641ZM184.556 479.733C183.467 479.733 182.436 478.939 182.436 477.245C182.436 475.552 183.467 474.758 184.556 474.758C185.634 474.758 186.688 475.552 186.688 477.245C186.688 478.939 185.634 479.733 184.556 479.733ZM191.271 480.443C192.515 480.443 193.735 479.97 193.735 478.619C193.735 477.577 193.024 477.21 192.005 476.961L190.857 476.701C190.075 476.511 189.767 476.179 189.767 475.706C189.767 475.066 190.324 474.711 191.236 474.711C192.076 474.711 192.681 474.995 192.834 475.836H193.545C193.462 474.616 192.527 474.048 191.224 474.048C189.873 474.048 188.961 474.652 188.961 475.729C188.961 476.558 189.494 477.08 190.572 477.34L191.733 477.613C192.432 477.79 192.882 477.992 192.882 478.631C192.882 479.448 192.136 479.78 191.283 479.78C190.466 479.78 189.637 479.484 189.518 478.619H188.748C188.819 479.875 189.909 480.443 191.271 480.443ZM197.403 474.048C195.887 474.048 194.987 474.604 194.987 475.836V476.025H195.792V475.895C195.792 475.078 196.313 474.699 197.367 474.699C198.398 474.699 198.966 475.066 198.966 476.144V476.476C198.966 476.653 198.682 476.783 198.031 476.878L196.681 477.056C195.318 477.245 194.608 477.755 194.608 478.785C194.608 479.91 195.437 480.443 196.621 480.443C198.137 480.443 198.824 479.579 198.978 479.259H199.014V480.325H199.807V476.144C199.807 474.663 199.014 474.048 197.403 474.048ZM198.966 478.169C198.966 478.643 198.291 479.768 196.775 479.768C196.029 479.768 195.449 479.484 195.449 478.738C195.449 478.193 195.757 477.814 196.858 477.66L198.102 477.482C198.658 477.411 198.943 477.293 198.966 477.151V478.169ZM204.063 480.443C205.851 480.443 207.059 479.437 207.059 477.968C207.059 476.653 206.112 475.978 205.2 475.812C206.1 475.552 206.597 474.853 206.597 473.988C206.597 472.816 205.709 471.927 204.098 471.927C202.499 471.927 201.457 472.792 201.457 474.557H202.262C202.262 473.183 203.056 472.662 204.074 472.662C205.129 472.662 205.768 473.207 205.768 474.083C205.768 474.794 205.354 475.54 203.92 475.54H203.624V476.203H203.968C205.377 476.203 206.206 476.843 206.206 477.92C206.206 479.058 205.271 479.709 204.098 479.709C202.795 479.709 202.002 478.939 201.99 477.695H201.184C201.196 479.318 202.179 480.443 204.063 480.443ZM208.223 480.325H213.612V479.602H209.17V479.519C209.17 478.513 209.964 477.838 211.267 477.044C212.51 476.298 213.553 475.635 213.553 474.237C213.553 472.899 212.582 471.927 210.959 471.927C209.289 471.927 208.318 472.97 208.318 474.45V474.663H209.147V474.498C209.147 473.278 209.917 472.65 210.959 472.65C212.001 472.65 212.712 473.266 212.712 474.273C212.712 475.362 211.812 475.871 210.568 476.641C208.874 477.672 208.223 478.548 208.223 480.005V480.325ZM218.717 480.325H219.558V478.086H220.506V477.399H219.558V472.034H218.717L214.832 477.399V478.086H218.717V480.325ZM215.614 477.399L218.717 473.112V477.399H215.614ZM224.54 471.939C222.918 471.939 221.722 473.041 221.722 474.817C221.722 476.558 222.859 477.589 224.387 477.589C225.393 477.589 226.27 477.151 226.696 476.274C226.684 478.063 226.246 479.768 224.481 479.768C223.403 479.768 222.811 479.129 222.74 478.382H221.994C222.018 479.401 222.811 480.455 224.469 480.455C226.85 480.455 227.49 478.264 227.49 476.085C227.49 473.254 226.353 471.939 224.54 471.939ZM224.529 476.914C223.297 476.914 222.527 476.097 222.527 474.829C222.527 473.55 223.309 472.638 224.54 472.638C225.76 472.638 226.554 473.562 226.554 474.829C226.554 476.097 225.76 476.914 224.529 476.914ZM231.992 480.443C233.804 480.443 235.166 478.998 235.166 476.179C235.166 473.384 233.804 471.927 231.992 471.927C230.179 471.927 228.806 473.384 228.806 476.179C228.806 478.998 230.179 480.443 231.992 480.443ZM231.992 479.721C230.523 479.721 229.611 478.382 229.611 476.179C229.611 473.988 230.523 472.65 231.992 472.65C233.46 472.65 234.36 473.988 234.36 476.179C234.36 478.382 233.46 479.721 231.992 479.721Z\"\n          fill=\"#5352FC\"\n        />\n      </g>\n      <rect\n        x=\"0.74025\"\n        y=\"96.159\"\n        width=\"242.039\"\n        height=\"404.386\"\n        rx=\"5.18175\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.4805\"\n      />\n      <path\n        d=\"M29.6591 151.998H235.687\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.4805\"\n      />\n      <path\n        d=\"M29.6591 456.177H235.687\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.4805\"\n      />\n      <path\n        d=\"M30.3224 480.325H33.1531C35.7587 480.325 37.0734 478.833 37.0734 476.18C37.0734 473.527 35.7587 472.034 33.1531 472.034H30.3224V480.325ZM31.5541 479.247V473.112H33.0346C35.0007 473.112 35.818 474.083 35.818 476.18C35.818 478.264 35.0007 479.247 33.0346 479.247H31.5541ZM43.8958 477.151C43.8958 474.995 42.6758 474.048 41.0887 474.048C39.5016 474.048 38.1514 475.007 38.1514 477.269C38.1514 479.496 39.4779 480.467 41.1479 480.467C42.4034 480.467 43.4457 479.899 43.8128 478.537H42.7469C42.4863 479.259 41.9415 479.532 41.1835 479.532C40.0465 479.532 39.3832 478.927 39.3003 477.601H43.8602C43.8839 477.471 43.8958 477.364 43.8958 477.151ZM39.3003 476.748C39.4187 475.564 40.082 474.983 41.0769 474.983C42.1428 474.983 42.735 475.659 42.7587 476.748H39.3003ZM48.4187 474.048C47.5067 474.048 46.725 474.462 46.3578 475.137V474.166H45.1616V482.575H46.3578V479.354C46.725 480.029 47.5067 480.444 48.4187 480.444C49.7926 480.444 51.1665 479.472 51.1665 477.246C51.1665 475.007 49.7926 474.048 48.4187 474.048ZM48.17 479.437C47.2224 479.437 46.2986 478.75 46.2986 477.246C46.2986 475.741 47.2224 475.054 48.17 475.054C49.1293 475.054 50.0295 475.741 50.0295 477.246C50.0295 478.75 49.1293 479.437 48.17 479.437ZM55.1891 480.444C56.7288 480.444 58.1975 479.449 58.1975 477.246C58.1975 475.043 56.7288 474.048 55.1891 474.048C53.6612 474.048 52.1926 475.043 52.1926 477.246C52.1926 479.449 53.6612 480.444 55.1891 480.444ZM55.1891 479.437C54.1942 479.437 53.3296 478.762 53.3296 477.246C53.3296 475.73 54.1942 475.054 55.1891 475.054C56.184 475.054 57.0604 475.73 57.0604 477.246C57.0604 478.762 56.184 479.437 55.1891 479.437ZM61.6836 480.444C63.0338 480.444 64.2656 479.922 64.2656 478.56C64.2656 477.506 63.5194 477.104 62.5245 476.867L61.3638 476.606C60.7361 476.464 60.4518 476.192 60.4518 475.777C60.4518 475.256 60.9256 474.96 61.6954 474.96C62.4297 474.96 62.939 475.22 63.0575 475.978H64.0642C64.005 474.711 63.1049 474.048 61.6717 474.048C60.2505 474.048 59.3029 474.675 59.3029 475.801C59.3029 476.63 59.8122 477.222 60.9729 477.494L62.1218 477.755C62.7022 477.897 63.0456 478.087 63.0456 478.584C63.0456 479.247 62.4534 479.532 61.6954 479.532C60.9374 479.532 60.286 479.247 60.1912 478.489H59.1134C59.149 479.816 60.2031 480.444 61.6836 480.444ZM66.0695 473.1C66.4485 473.1 66.7801 472.792 66.7801 472.401C66.7801 472.011 66.4485 471.703 66.0695 471.703C65.6905 471.703 65.3588 472.011 65.3588 472.401C65.3588 472.792 65.6905 473.1 66.0695 473.1ZM65.4773 480.325H66.6735V474.166H65.4773V480.325ZM70.865 479.437C70.2491 479.437 70.0241 479.164 70.0241 478.56V475.102H71.244V474.166H70.0241V472.615H68.8278V474.166H67.8211V475.102H68.8278V478.762C68.8278 479.97 69.5503 480.408 70.557 480.408C70.8176 480.408 71.0663 480.408 71.3269 480.372V479.437H70.865Z\"\n        fill=\"#5352FC\"\n      />\n      <rect\n        x=\"29.6591\"\n        y=\"173.22\"\n        width=\"134.405\"\n        height=\"17.6848\"\n        rx=\"2.961\"\n        fill=\"#CCC3FC\"\n      />\n      <rect\n        x=\"29.6591\"\n        y=\"211.242\"\n        width=\"105.225\"\n        height=\"17.6848\"\n        rx=\"2.961\"\n        fill=\"#CCC3FC\"\n      />\n      <path\n        d=\"M41.1542 223.622C45.1122 222.295 46.2867 217.432 52.3686 217.432C58.9653 217.432 59.7501 223.18 64.9024 223.18C71.4991 223.18 73.4781 217.432 79.4151 217.432C86.0119 217.432 87.3312 223.18 92.6086 223.18C97.8859 223.18 102.504 217.432 108.441 217.432C114.378 217.432 115.697 223.18 124.273 223.18\"\n        stroke=\"#5352FC\"\n        strokeWidth=\"1.4805\"\n        strokeLinecap=\"round\"\n      />\n      <path\n        d=\"M242.168 24.441C241.399 24.1482 241.4 22.796 242.168 22.5005C245.447 21.2385 250.847 18.8203 253.699 15.6814C256.333 12.7825 258.513 6.55636 259.635 2.88117C259.892 2.03756 261.057 2.02279 261.33 2.86016C262.53 6.5326 264.831 12.777 267.433 15.6814C270.036 18.5863 275.632 21.1555 278.922 22.4937C279.672 22.7988 279.659 24.099 278.904 24.3871C275.601 25.6468 269.984 28.1039 267.294 31.1067C264.647 34.0608 262.473 40.1764 261.329 43.8839C261.065 44.7409 259.857 44.7356 259.598 43.8766C258.48 40.1698 256.348 34.063 253.699 31.1067C251.043 28.1427 245.512 25.715 242.168 24.441Z\"\n        fill=\"#ECE6FE\"\n      />\n      <path\n        d=\"M294.063 84.1039C293.044 84.5256 291.846 85.0737 290.719 85.7189C289.601 86.3586 288.509 87.1191 287.737 87.9805C286.986 88.8193 286.321 89.9963 285.758 91.2064C285.191 92.4266 284.705 93.7292 284.326 94.8553C284.314 94.8919 284.253 94.9841 284.075 94.9833C283.897 94.9826 283.836 94.8898 283.824 94.8526C283.452 93.7271 282.975 92.4258 282.414 91.2065C281.857 89.9972 281.197 88.8204 280.444 87.9805C279.689 87.1375 278.625 86.3926 277.531 85.7633C276.428 85.1286 275.25 84.5866 274.233 84.1639C274.201 84.1507 274.116 84.0824 274.116 83.879C274.116 83.6755 274.201 83.6046 274.234 83.5905C276.198 82.7603 278.87 81.4194 280.441 79.6908C281.2 78.8548 281.871 77.6543 282.436 76.4239C283.006 75.1818 283.492 73.8545 283.866 72.7233C283.88 72.6819 283.937 72.5991 284.095 72.5972C284.252 72.5953 284.309 72.6763 284.323 72.7159C284.719 73.847 285.229 75.1761 285.815 76.4199C286.395 77.652 287.074 78.8524 287.822 79.687C288.57 80.5218 289.646 81.2799 290.75 81.9279C291.865 82.582 293.056 83.151 294.07 83.5939C294.105 83.6094 294.178 83.6732 294.176 83.8488C294.175 84.0245 294.1 84.0886 294.063 84.1039Z\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.4805\"\n      />\n      <path\n        d=\"M220.038 61.1562C219.019 61.5778 217.821 62.1259 216.694 62.7711C215.576 63.4109 214.484 64.1713 213.712 65.0328C212.961 65.8715 212.296 67.0485 211.733 68.2587C211.166 69.4789 210.68 70.7815 210.301 71.9076C210.289 71.9442 210.228 72.0363 210.05 72.0356C209.872 72.0349 209.811 71.9421 209.799 71.9049C209.427 70.7793 208.95 69.478 208.389 68.2587C207.832 67.0495 207.172 65.8727 206.419 65.0328C205.664 64.1897 204.6 63.4448 203.506 62.8155C202.403 62.1809 201.225 61.6388 200.208 61.2162C200.176 61.2029 200.091 61.1347 200.091 60.9313C200.091 60.7278 200.176 60.6568 200.209 60.6427C202.173 59.8125 204.845 58.4717 206.416 56.7431C207.175 55.9071 207.846 54.7065 208.411 53.4762C208.981 52.2341 209.467 50.9067 209.842 49.7755C209.855 49.7342 209.912 49.6514 210.07 49.6494C210.227 49.6475 210.284 49.7285 210.298 49.7682C210.694 50.8993 211.204 52.2284 211.79 53.4721C212.371 54.7042 213.05 55.9047 213.797 56.7393C214.545 57.5741 215.621 58.3322 216.725 58.9801C217.84 59.6342 219.031 60.2033 220.045 60.6461C220.08 60.6616 220.153 60.7255 220.151 60.9011C220.15 61.0768 220.075 61.1409 220.038 61.1562Z\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.4805\"\n      />\n      <path\n        d=\"M272.016 23.6493C270.35 24.2845 268.093 25.2247 265.906 26.3896C263.734 27.5468 261.569 28.9577 260.138 30.5553C258.729 32.1275 257.483 34.4914 256.456 36.8749C255.423 39.2738 254.583 41.7604 254.006 43.6299C253.996 43.662 253.981 43.683 253.954 43.702C253.921 43.7248 253.868 43.7443 253.802 43.7441C253.737 43.7438 253.683 43.7238 253.65 43.7006C253.623 43.6813 253.608 43.6601 253.598 43.6278C253.034 41.7583 252.211 39.2734 251.191 36.8758C250.178 34.4935 248.942 32.1298 247.531 30.5553C246.117 28.9773 243.983 27.5835 241.83 26.4365C239.664 25.282 237.417 24.3455 235.731 23.7031C235.703 23.6924 235.684 23.6756 235.667 23.6444C235.646 23.6069 235.628 23.5464 235.628 23.4718C235.628 23.3972 235.646 23.3361 235.667 23.2979C235.685 23.2658 235.704 23.2486 235.733 23.2376C237.388 22.6006 239.587 21.6688 241.738 20.4953C243.879 19.3273 246.022 17.894 247.527 16.2365C248.934 14.6886 250.179 12.306 251.202 9.90755C252.233 7.49191 253.068 4.98568 253.634 3.13268C253.644 3.09941 253.659 3.07884 253.684 3.06095C253.714 3.03939 253.763 3.02069 253.822 3.01995C253.882 3.01921 253.93 3.03669 253.961 3.05732C253.986 3.07437 254.001 3.09428 254.012 3.12715C254.616 4.97754 255.501 7.48526 256.567 9.903C257.625 12.3038 258.892 14.6865 260.277 16.2327C261.663 17.7791 263.798 19.1933 265.949 20.3746C268.116 21.5643 270.363 22.552 272.021 23.2262C272.05 23.2382 272.068 23.2555 272.083 23.2836C272.102 23.3174 272.118 23.3716 272.117 23.4382C272.116 23.5048 272.1 23.5589 272.08 23.5927C272.064 23.6208 272.046 23.638 272.016 23.6493Z\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.4805\"\n      />\n      <defs>\n        <filter\n          id=\"filter0_f\"\n          x=\"163.302\"\n          y=\"466.527\"\n          width=\"76.3057\"\n          height=\"19.3057\"\n          filterUnits=\"userSpaceOnUse\"\n          colorInterpolationFilters=\"sRGB\"\n        >\n          <feFlood floodOpacity=\"0\" result=\"BackgroundImageFix\" />\n          <feBlend\n            mode=\"normal\"\n            in=\"SourceGraphic\"\n            in2=\"BackgroundImageFix\"\n            result=\"shape\"\n          />\n          <feGaussianBlur\n            stdDeviation=\"2.22075\"\n            result=\"effect1_foregroundBlur\"\n          />\n        </filter>\n      </defs>\n    </svg>\n  );\n};\n","import React, { useState } from \"react\";\nimport { Container, Grid, Text, Button } from \"theme-ui\";\nimport { SummaryTable } from \"components/SummaryTable\";\nimport { humanFriendlyNumber } from \"utils/number\";\nimport { useRelayer } from \"hooks/useRelayer\";\nimport { useRecoilState } from \"recoil\";\nimport { withdrawAmount, withdrawCurrency } from \"../state\";\nimport { useTranslation } from \"react-i18next\";\nimport { PickWithdraw } from \"../MobileWithdrawPage/PickWithdraw\";\nimport { GrayBox } from \"components/GrayBox\";\nimport { Breakpoint, useBreakpoint } from \"hooks/useBreakpoint\";\nimport { Cog } from \"assets/icons/index\";\nimport { DepositIllustration } from \"assets/DepositIllustration\";\n\ninterface IProps {\n  onWithdrawClick: () => void;\n}\n\nexport const DoWithdraw: React.FC<IProps> = ({ onWithdrawClick }) => {\n  const [settingsOpened, setSettingsOpened] = useState(false);\n  const { t } = useTranslation();\n  const [amount] = useRecoilState(withdrawAmount);\n  const [currency] = useRecoilState(withdrawCurrency);\n  const { relayer, relayerFee } = useRelayer(amount, currency);\n  const breakpoint = useBreakpoint();\n\n  const finalWithdrawAmount = Number(amount) + Number(relayerFee);\n\n  let boxContent = <DepositIllustration />;\n\n  if (Number(amount) > 0) {\n    boxContent = (\n      <Container>\n        <GrayBox>\n          <SummaryTable\n            lineItems={[\n              {\n                label: \"Withdrawal Amount\",\n                value: `${humanFriendlyNumber(amount)} ${currency}`,\n              },\n              {\n                label: `Relayer Fee (${relayer?.relayerFee}%) + Gas`,\n                value: `${relayerFee ? humanFriendlyNumber(relayerFee) : \"-\"\n                  } ${currency}`,\n              },\n            ]}\n            totalItem={{\n              label: \"Total\",\n              value: `${humanFriendlyNumber(finalWithdrawAmount)} ${currency}`,\n            }}\n          />\n        </GrayBox>\n      </Container>\n    );\n  }\n\n  return (\n    <Grid sx={{ gridTemplateColumns: [\"auto\", \"1.3fr 1fr\"], gridGap: 6 }}>\n      <Container>\n        <Text\n          sx={{\n            display: \"flex\",\n            alignContent: \"center\",\n            justifyContent: \"flex-start\",\n          }}\n          variant=\"title\"\n        >\n          {t(\"withdraw.desktop.title\")}{\" \"}\n          <Button\n            variant=\"ghost\"\n            onClick={() => setSettingsOpened(true)}\n            sx={{ color: \"#757575\" }}\n          >\n            <Cog size={24} />\n          </Button>\n        </Text>\n        <Text sx={{ display: \"block\", mb: 4 }} variant=\"regularGray\">\n          {t(\"withdraw.desktop.subtitle\")}\n        </Text>\n        <PickWithdraw\n          onWithdrawClick={onWithdrawClick}\n          settingsOpened={settingsOpened}\n          setSettingsOpened={setSettingsOpened}\n        />\n      </Container>\n      {breakpoint === Breakpoint.DESKTOP && boxContent}\n    </Grid>\n  );\n};\n","import React from \"react\";\nimport { ConfirmWithdraw } from \"pages/WithdrawPage/MobileWithdrawPage/ConfirmWithdraw\";\nimport { WithdrawReceipt } from \"pages/WithdrawPage/MobileWithdrawPage/WithdrawReceipt\";\nimport { DoWithdraw } from \"../DesktopWithdrawPage/DoWithdraw\";\n\nenum WithdrawStep {\n  PICKER = \"PICKER\",\n  CONFIRM = \"CONFIRM\",\n  RECEIPT = \"RECEIPT\",\n}\n\nexport const MobileWithdrawPage = () => {\n  const [withdrawStep, setWithdrawStep] = React.useState(WithdrawStep.PICKER);\n\n  switch (withdrawStep) {\n    case WithdrawStep.PICKER:\n      return (\n        <DoWithdraw\n          onWithdrawClick={() => {\n            setWithdrawStep(WithdrawStep.RECEIPT);\n          }}\n        />\n      );\n    // This path is never displayed\n    case WithdrawStep.CONFIRM:\n      return (\n        <ConfirmWithdraw\n          onBackClick={() => setWithdrawStep(WithdrawStep.PICKER)}\n          onConfirmClick={() => setWithdrawStep(WithdrawStep.RECEIPT)}\n        />\n      );\n    case WithdrawStep.RECEIPT:\n      return (\n        <WithdrawReceipt\n          onDoneClick={() => {\n            setWithdrawStep(WithdrawStep.PICKER);\n          }}\n        />\n      );\n  }\n};\n","import { BlockscoutTxLink } from \"components/Links\";\nimport moment from \"moment\";\nimport React from \"react\";\nimport { Button, Container, Text } from \"theme-ui\";\nimport { GrayBox } from \"components/GrayBox\";\nimport { SummaryTable } from \"components/SummaryTable\";\nimport { humanFriendlyNumber } from \"utils/number\";\nimport { useRecoilState } from \"recoil\";\nimport {\n  withdrawAmount,\n  withdrawCurrency,\n  withdrawRecipient,\n  withdrawTxHash,\n} from \"../state\";\nimport { useRelayer } from \"hooks/useRelayer\";\n\ninterface IProps {\n  onDoneClick: () => void;\n}\n\nexport const WithdrawReceipt: React.FC<IProps> = ({ onDoneClick }) => {\n  const [amount] = useRecoilState(withdrawAmount);\n  const [currency] = useRecoilState(withdrawCurrency);\n  const [txHash] = useRecoilState(withdrawTxHash);\n  const [recipient] = useRecoilState(withdrawRecipient);\n\n  const { relayerFee } = useRelayer(amount, currency);\n\n  const finalWithdrawAmount = Number(amount) + Number(relayerFee);\n\n  return (\n    <Container>\n      <Text sx={{ display: \"block\", mb: 1 }} variant=\"subtitle\">\n        Alakazam!\n      </Text>\n      <Text sx={{ display: \"block\", mb: 4 }} variant=\"regularGray\">\n        Your {currency} has been sent.{\" \"}\n        <BlockscoutTxLink tx={txHash}>View transaction</BlockscoutTxLink>.\n      </Text>\n\n      <GrayBox>\n        <Text sx={{ mb: 3 }} variant=\"subtitle\">\n          Receipt\n        </Text>\n        <br />\n        <SummaryTable\n          title=\"Transaction\"\n          lineItems={[\n            {\n              label: \"Time completed\",\n              value: moment().format(\"h:mm a\"),\n            },\n            {\n              label: \"Account\",\n              value: recipient,\n            },\n            {\n              label: \"Withdraw amount\",\n              value: `${humanFriendlyNumber(amount)} ${currency}`,\n            },\n          ]}\n          totalItem={{\n            label: \"Est. Withdrawal\",\n            value: `${humanFriendlyNumber(finalWithdrawAmount)} ${currency}`,\n          }}\n        />\n      </GrayBox>\n\n      <Button sx={{ mt: 2, px: 6 }} variant=\"done\" onClick={onDoneClick}>\n        Done\n      </Button>\n    </Container>\n  );\n};\n","import React from \"react\";\nimport { DoWithdraw } from \"pages/WithdrawPage/DesktopWithdrawPage/DoWithdraw\";\nimport { WithdrawReceipt } from \"pages/WithdrawPage/DesktopWithdrawPage/WithdrawReceipt\";\n\nenum WithdrawStep {\n  DO = \"DO\",\n  RECEIPT = \"RECEIPT\",\n}\n\nexport const DesktopWithdrawPage = () => {\n  const [completeRequestStep, setWithdrawStep] = React.useState(\n    WithdrawStep.DO\n  );\n  switch (completeRequestStep) {\n    case WithdrawStep.DO:\n      return (\n        <DoWithdraw\n          onWithdrawClick={() => {\n            setWithdrawStep(WithdrawStep.RECEIPT);\n          }}\n        />\n      );\n    case WithdrawStep.RECEIPT:\n      return (\n        <WithdrawReceipt\n          onDoneClick={() => {\n            setWithdrawStep(WithdrawStep.DO);\n          }}\n        />\n      );\n  }\n};\n","import React from \"react\";\nimport { MobileWithdrawPage } from \"pages/WithdrawPage/MobileWithdrawPage\";\nimport { DesktopWithdrawPage } from \"pages/WithdrawPage/DesktopWithdrawPage\";\nimport { Breakpoint, useBreakpoint } from \"hooks/useBreakpoint\";\n\nconst WithdrawPage: React.FC = () => {\n  const breakpoint = useBreakpoint();\n\n  if (breakpoint === Breakpoint.MOBILE) {\n    return <MobileWithdrawPage />;\n  }\n\n  return <DesktopWithdrawPage />;\n};\n\nexport default WithdrawPage;\n","import { atom } from \"recoil\";\n\nexport const requestAmount = atom({\n  key: \"REQUEST_AMOUNT\",\n  default: \"0\",\n});\n\nexport const requestCurrency = atom({\n  key: \"REQUEST_CURRENCY\",\n  default: \"cUSD\",\n});\n\nexport const requestLoading = atom({\n  key: \"REQUEST_LOADING\",\n  default: false,\n});\n\nexport const requestTxHash = atom({\n  key: \"REQUEST_TX_HASH\",\n  default: \"\",\n});\n\nexport const requestLink = atom<string | null>({\n  key: \"REQUEST_LINK\",\n  default: null,\n});\n","import React from \"react\";\nimport { Button, Container, Flex, Text } from \"theme-ui\";\nimport { BackButton } from \"components/BackButton\";\nimport { ActionDrawer } from \"components/ActionDrawer\";\nimport { LabelWithBalance } from \"components/LabelWithBalance\";\nimport { SummaryTable } from \"components/SummaryTable\";\nimport { humanFriendlyNumber } from \"utils/number\";\nimport { useRecoilState } from \"recoil\";\nimport { requestAmount, requestCurrency, requestLoading } from \"../state\";\nimport { NETWORK_COST } from \"config\";\nimport { ProofGenLoading } from \"components/Loaders/ProofGenLoading\";\nimport { WalletGlobal } from \"hooks/useWallet\";\n\ninterface IProps {\n  onBackClick: () => void;\n  onConfirmClick: () => void;\n}\n\nexport const ConfirmRequest: React.FC<IProps> = ({\n  onBackClick,\n  onConfirmClick,\n}) => {\n  const { gasCurrency } = WalletGlobal.useContainer();\n  const [amount] = useRecoilState(requestAmount);\n  const [currency] = useRecoilState(requestCurrency);\n  const [loading] = useRecoilState(requestLoading);\n  const totalCost = Number(amount) + Number(NETWORK_COST);\n\n  let button = (\n    <Button onClick={onConfirmClick} variant=\"primary\">\n      Request\n    </Button>\n  );\n\n  return (\n    <Container>\n      <BackButton onClick={onBackClick} />\n      <br />\n      <Text sx={{ mb: 1 }} variant=\"subtitle\">\n        Transaction Summary\n      </Text>\n      <br />\n      <Text sx={{ mb: 4 }} variant=\"regularGray\">\n        Please review the transaction before continuing\n      </Text>\n      <br />\n      <SummaryTable\n        title=\"Summary\"\n        lineItems={[\n          {\n            label: \"Request Amount\",\n            value: `${humanFriendlyNumber(amount)} ${currency}`,\n          },\n          {\n            label: \"Est. Network Fee\",\n            value: `${humanFriendlyNumber(NETWORK_COST)} ${gasCurrency}`,\n          },\n        ]}\n        totalItem={{\n          label: \"Est. Total\",\n          value:\n            currency === gasCurrency\n              ? `${humanFriendlyNumber(\n                  Number(amount) + Number(NETWORK_COST)\n                )} ${gasCurrency}`\n              : `${humanFriendlyNumber(\n                  Number(amount)\n                )} ${currency} + ${humanFriendlyNumber(\n                  NETWORK_COST\n                )} ${gasCurrency}`,\n        }}\n      />\n\n      <ActionDrawer>\n        {loading ? (\n          <Flex sx={{ justifyContent: \"flex-end\" }}>\n            <ProofGenLoading />\n          </Flex>\n        ) : (\n          <Flex sx={{ justifyContent: \"space-between\" }}>\n            <LabelWithBalance\n              label=\"Total\"\n              amount={totalCost.toString()}\n              currency={currency}\n            />\n            {button}\n          </Flex>\n        )}\n      </ActionDrawer>\n    </Container>\n  );\n};\n","import React from \"react\";\nimport { Button, Container, Flex, Text } from \"theme-ui\";\nimport moment from \"moment\";\nimport { BlockscoutTxLink } from \"components/Links\";\nimport { ActionDrawer } from \"components/ActionDrawer\";\nimport { LabelWithBalance } from \"components/LabelWithBalance\";\nimport { SummaryTable } from \"components/SummaryTable\";\nimport { humanFriendlyNumber } from \"utils/number\";\nimport { shortenAccount } from \"utils/account\";\nimport { requestAmount, requestCurrency, requestTxHash } from \"../state\";\nimport { useRecoilState } from \"recoil\";\nimport { PoofAccountGlobal } from \"hooks/poofAccount\";\nimport { NETWORK_COST } from \"config\";\nimport { WalletGlobal } from \"hooks/useWallet\";\n\ninterface IProps {\n  onDoneClick: () => void;\n}\n\nexport const RequestReceipt: React.FC<IProps> = ({ onDoneClick }) => {\n  const { gasCurrency } = WalletGlobal.useContainer();\n  const [amount] = useRecoilState(requestAmount);\n  const [currency] = useRecoilState(requestCurrency);\n  const [txHash] = useRecoilState(requestTxHash);\n  const { address } = PoofAccountGlobal.useContainer();\n\n  return (\n    <Container>\n      <Text sx={{ display: \"block\", mb: 1 }} variant=\"subtitle\">\n        Alakazam!\n      </Text>\n      <Text sx={{ display: \"block\", mb: 4 }} variant=\"regular\">\n        Your request is complete.{\" \"}\n        <BlockscoutTxLink tx={txHash}>View transaction</BlockscoutTxLink>.\n      </Text>\n\n      <SummaryTable\n        title=\"Transaction\"\n        lineItems={[\n          {\n            label: \"Time completed\",\n            value: moment().format(\"h:mm a\"),\n          },\n          {\n            label: \"Account\",\n            value: shortenAccount(address),\n          },\n          {\n            label: \"Est. total amount\",\n            value:\n              currency === gasCurrency\n                ? `${humanFriendlyNumber(\n                    Number(amount) + Number(NETWORK_COST)\n                  )} ${gasCurrency}`\n                : `${humanFriendlyNumber(\n                    amount\n                  )} ${currency} + ${humanFriendlyNumber(\n                    NETWORK_COST\n                  )} ${gasCurrency}`,\n          },\n        ]}\n        totalItem={{\n          label: \"Request\",\n          value: `${humanFriendlyNumber(amount)} ${currency}`,\n        }}\n      />\n\n      <ActionDrawer>\n        <Flex sx={{ justifyContent: \"space-between\" }}>\n          <LabelWithBalance\n            label=\"Requested\"\n            amount={amount}\n            currency={currency}\n          />\n          <Button\n            onClick={() => {\n              onDoneClick();\n            }}\n            variant=\"done\"\n          >\n            Done\n          </Button>\n        </Flex>\n      </ActionDrawer>\n    </Container>\n  );\n};\n","import { createReducer, createAction } from \"@reduxjs/toolkit\";\n\n// Typings\nexport enum Page {\n  HOME = \"home\",\n  COMPLETE_REQUEST = \"complete-request\",\n  DEPOSIT = \"deposit\",\n  REQUEST = \"request\",\n  SEND = \"send\",\n  BORROW = \"loans/borrow\",\n  REPAY = \"loans/repay\",\n  INVITE = \"invite\",\n  LOANS = \"loans\",\n\n  SETUP = \"account\",\n  SETUP_LOGIN = \"account/login\",\n  SETUP_CREATE = \"account/create\",\n}\n\ninterface GlobalState {\n  readonly currentPage?: Page;\n}\n\nconst initialState: GlobalState = {\n  currentPage: Page.REQUEST,\n};\n\n// Actions\nexport const setCurrentPage = createAction<{ nextPage: Page }>(\n  \"global/setCurrentPage\"\n);\n\n// Reducer\nexport default createReducer(initialState, (builder) =>\n  builder.addCase(setCurrentPage, (state, action) => {\n    const { nextPage } = action.payload;\n    return { ...state, currentPage: nextPage };\n  })\n);\n","import React from \"react\";\nimport { Button, Text, Spinner } from \"@theme-ui/components\";\nimport { Box, Card, Flex, Input, Link } from \"theme-ui\";\nimport { ActionDrawer } from \"components/ActionDrawer\";\nimport { LabelWithBalance } from \"components/LabelWithBalance\";\nimport { Breakpoint, useBreakpoint } from \"hooks/useBreakpoint\";\nimport { deployments } from \"@poofcash/poof-v2-kit\";\nimport { useRecoilState } from \"recoil\";\nimport { requestAmount, requestCurrency, requestLoading } from \"../state\";\nimport { useRequest } from \"hooks/actions/useRequest\";\nimport { ProofGenLoading } from \"components/Loaders/ProofGenLoading\";\nimport { WalletGlobal } from \"hooks/useWallet\";\nimport { StyledSelect } from \"../../../components/StyledSelect\";\n\ninterface IProps {\n  onRequestClick?: () => void;\n}\n\nexport const PickRequest: React.FC<IProps> = () => {\n  const { network } = WalletGlobal.useContainer();\n  const [amount, setAmount] = useRecoilState(requestAmount);\n  const [currency, setCurrency] = useRecoilState(requestCurrency);\n  React.useEffect(() => {\n    setCurrency(\n      deployments[network.chainId].find((d) => d.symbol === \"cUSD\")?.symbol ||\n        deployments[network.chainId][0].symbol\n    );\n  }, [network.chainId, setCurrency]);\n  const [loading] = useRecoilState(requestLoading);\n  const [link, setLink] = React.useState<string>();\n\n  const breakpoint = useBreakpoint();\n\n  const request = useRequest();\n\n  const currencyOptions = deployments[network.chainId].map((entry, idx) => ({\n    value: entry.symbol,\n    label: entry.symbol,\n  }));\n\n  const button = (\n    <Button\n      onClick={() => {\n        request()\n          .then((link) => {\n            setLink(link);\n          })\n          .catch((e) => {\n            console.error(e);\n            alert(e.message);\n          });\n      }}\n      disabled={(() => {\n        if (Number(amount) === 0) {\n          return true;\n        }\n        return false;\n      })()}\n    >\n      Generate link\n    </Button>\n  );\n\n  return (\n    <>\n      <Text variant=\"form\" sx={{ mb: 2 }}>\n        Currency\n      </Text>\n      <StyledSelect\n        options={currencyOptions}\n        onSelect={(e) => setCurrency(e.value)}\n        value={currency ? currency : \"\"}\n      />\n      <Box mb={4} mt={2}>\n        <Flex sx={{ width: \"100%\", justifyContent: \"space-between\" }} mb={1}>\n          <Text variant=\"form\">Amount</Text>\n        </Flex>\n        <Input\n          sx={{ width: \"100%\" }}\n          placeholder=\"Enter an amount to request\"\n          onChange={(e) => {\n            const input = e.target.value;\n            if (!isNaN(Number(input))) {\n              setAmount(input);\n            }\n          }}\n          value={amount}\n        />\n      </Box>\n\n      {breakpoint === Breakpoint.DESKTOP && (\n        <Box mt={4}>{loading ? <ProofGenLoading /> : button}</Box>\n      )}\n\n      {link && (\n        <Card mt={4}>\n          <Text>\n            Ta da!{\" \"}\n            <Link target=\"_blank\" rel=\"noopener noreferrer\" href={link}>\n              Share this link\n            </Link>\n          </Text>\n        </Card>\n      )}\n\n      {breakpoint === Breakpoint.MOBILE && (\n        <>\n          <ActionDrawer>\n            {loading ? (\n              <Flex sx={{ justifyContent: \"flex-end\" }}>\n                <Spinner />\n              </Flex>\n            ) : (\n              <Flex\n                sx={{\n                  alignItems: \"center\",\n                  justifyContent: \"space-between\",\n                }}\n              >\n                <LabelWithBalance\n                  label=\"Total\"\n                  amount={amount}\n                  currency={currency}\n                />\n                {button}\n              </Flex>\n            )}\n          </ActionDrawer>\n        </>\n      )}\n    </>\n  );\n};\n","import React from \"react\";\nimport { PoofKitGlobal } from \"hooks/usePoofKit\";\nimport { toBN, toWei } from \"web3-utils\";\nimport { useRecoilState } from \"recoil\";\nimport {\n  requestAmount,\n  requestCurrency,\n  requestLoading,\n} from \"pages/RequestPage/state\";\nimport { PoofAccountGlobal } from \"hooks/poofAccount\";\nimport qs from \"query-string\";\nimport { Page } from \"state/global\";\nimport { useWeb3 } from \"hooks/useWeb3\";\n\nexport type RequestParams = {\n  data: string;\n  poolAddress: string;\n  amount: string;\n  currency: string;\n};\n\nexport function useRequest() {\n  const [amount] = useRecoilState(requestAmount);\n  const [currency] = useRecoilState(requestCurrency);\n  const [, setLoading] = useRecoilState(requestLoading);\n  const { poofKit, progress } = PoofKitGlobal.useContainer();\n  const { poofAccount, privateKey } = PoofAccountGlobal.useContainer();\n  const { network } = useWeb3();\n\n  const request = React.useCallback(async () => {\n    if (progress < 1) {\n      alert(\"Poof kit still loading\");\n      return;\n    }\n    if (!poofAccount || !privateKey) {\n      alert(\"No poof account or private key\");\n      return;\n    }\n    setLoading(true);\n    const poolMatch = await poofKit.poolMatch(currency);\n    if (poolMatch) {\n      try {\n        const res = await poofKit.deposit(\n          privateKey,\n          currency,\n          toBN(toWei(amount)),\n          toBN(0)\n        );\n        const queryString = qs.stringify({\n          data: res.encodeABI(),\n          poolAddress: poolMatch.poolAddress,\n          amount: toWei(amount),\n          currency,\n          chainId: network.chainId,\n        });\n        return `/#/${Page.COMPLETE_REQUEST}?${queryString}`;\n      } catch (e) {\n        throw e;\n      } finally {\n        setLoading(false);\n      }\n    }\n  }, [\n    amount,\n    currency,\n    poofAccount,\n    poofKit,\n    progress,\n    privateKey,\n    setLoading,\n    network.chainId,\n  ]);\n\n  return request;\n}\n","import React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { Container, Flex, Grid, Text } from \"theme-ui\";\nimport { PickRequest } from \"pages/RequestPage/MobileRequestPage/PickRequest\";\nimport { DepositIllustration } from \"assets/DepositIllustration\";\nimport { Breakpoint, useBreakpoint } from \"hooks/useBreakpoint\";\n\ninterface IProps {\n  onRequestClick?: () => void;\n}\n\nexport const DoRequest: React.FC<IProps> = ({ onRequestClick }) => {\n  const { t } = useTranslation();\n  const breakpoint = useBreakpoint();\n\n  return (\n    <>\n      <Grid sx={{ gridTemplateColumns: [\"auto\", \"1.3fr 1fr\"], gridGap: 6 }}>\n        <Container>\n          <Text sx={{ display: \"block\" }} variant=\"title\">\n            {t(\"request.desktop.title\")}\n          </Text>\n          <Text sx={{ display: \"block\", mb: 4 }} variant=\"regularGray\">\n            {t(\"request.desktop.subtitle\")}\n          </Text>\n          <PickRequest onRequestClick={onRequestClick} />\n        </Container>\n        {breakpoint === Breakpoint.DESKTOP && (\n          <Flex sx={{ justifyContent: \"center\" }}>\n            <DepositIllustration />\n          </Flex>\n        )}\n      </Grid>\n    </>\n  );\n};\n","import React from \"react\";\nimport { ConfirmRequest } from \"pages/RequestPage/MobileRequestPage/ConfirmRequest\";\nimport { RequestReceipt } from \"pages/RequestPage/MobileRequestPage/RequestReceipt\";\nimport { DoRequest } from \"../DesktopRequestPage/DoRequest\";\n\nenum RequestStep {\n  PICKER = \"PICKER\",\n  CONFIRM = \"CONFIRM\",\n  RECEIPT = \"RECEIPT\",\n}\n\n// pass props and State interface to Component class\nconst MobileRequestPage = () => {\n  const [requestStep, setRequestStep] = React.useState(RequestStep.PICKER);\n\n  switch (requestStep) {\n    case RequestStep.PICKER:\n      return (\n        <DoRequest\n          onRequestClick={() => {\n            setRequestStep(RequestStep.RECEIPT);\n          }}\n        />\n      );\n    // This path is never displayed\n    case RequestStep.CONFIRM:\n      return (\n        <ConfirmRequest\n          onBackClick={() => setRequestStep(RequestStep.PICKER)}\n          onConfirmClick={() => {\n            setRequestStep(RequestStep.RECEIPT);\n          }}\n        />\n      );\n    case RequestStep.RECEIPT:\n      return (\n        <RequestReceipt\n          onDoneClick={() => {\n            setRequestStep(RequestStep.PICKER);\n          }}\n        />\n      );\n  }\n};\n\nexport default MobileRequestPage;\n","import React from \"react\";\nimport { Button, Container, Text } from \"theme-ui\";\nimport moment from \"moment\";\nimport { BlockscoutTxLink } from \"components/Links\";\nimport { SummaryTable } from \"components/SummaryTable\";\nimport { GrayBox } from \"components/GrayBox\";\nimport { humanFriendlyNumber } from \"utils/number\";\nimport { useRecoilState } from \"recoil\";\nimport { requestAmount, requestCurrency, requestTxHash } from \"../state\";\nimport { shortenAccount } from \"utils/account\";\nimport { PoofAccountGlobal } from \"hooks/poofAccount\";\nimport { NETWORK_COST } from \"config\";\nimport { WalletGlobal } from \"hooks/useWallet\";\n\ninterface IProps {\n  onDoneClick: () => void;\n}\n\nexport const RequestReceipt: React.FC<IProps> = ({ onDoneClick }) => {\n  const { gasCurrency } = WalletGlobal.useContainer();\n  const [amount] = useRecoilState(requestAmount);\n  const [currency] = useRecoilState(requestCurrency);\n  const [txHash] = useRecoilState(requestTxHash);\n  const { address } = PoofAccountGlobal.useContainer();\n\n  return (\n    <Container>\n      <Text sx={{ display: \"block\", mb: 1 }} variant=\"subtitle\">\n        Alakazam!\n      </Text>\n      <Text sx={{ display: \"block\", mb: 4 }} variant=\"regular\">\n        Your request is complete.{\" \"}\n        <BlockscoutTxLink tx={txHash}>View transaction</BlockscoutTxLink>.\n      </Text>\n\n      <GrayBox>\n        <Text sx={{ mb: 3 }} variant=\"subtitle\">\n          Receipt\n        </Text>\n        <br />\n        <SummaryTable\n          title=\"Transaction\"\n          lineItems={[\n            {\n              label: \"Time completed\",\n              value: moment().format(\"h:mm a\"),\n            },\n            {\n              label: \"Account\",\n              value: shortenAccount(address),\n            },\n            {\n              label: \"Est. total amount\",\n              value:\n                currency === gasCurrency\n                  ? `${humanFriendlyNumber(\n                      Number(amount) + Number(NETWORK_COST)\n                    )} ${gasCurrency}`\n                  : `${humanFriendlyNumber(\n                      amount\n                    )} ${currency} + ${humanFriendlyNumber(\n                      NETWORK_COST\n                    )} ${gasCurrency}`,\n            },\n          ]}\n          totalItem={{\n            label: \"Request\",\n            value: `${humanFriendlyNumber(amount)} ${currency}`,\n          }}\n        />\n      </GrayBox>\n\n      <Button sx={{ mt: 2, px: 6 }} variant=\"done\" onClick={onDoneClick}>\n        Done\n      </Button>\n    </Container>\n  );\n};\n","import React from \"react\";\nimport { DoRequest } from \"pages/RequestPage/DesktopRequestPage/DoRequest\";\nimport { RequestReceipt } from \"pages/RequestPage/DesktopRequestPage/RequestReceipt\";\n\nenum RequestStep {\n  DO = \"DO\",\n  RECEIPT = \"RECEIPT\",\n}\n\nconst DesktopRequestPage = () => {\n  const [requestStep, setRequestStep] = React.useState(RequestStep.DO);\n\n  switch (requestStep) {\n    case RequestStep.DO:\n      return (\n        <DoRequest\n          onRequestClick={async () => {\n            setRequestStep(RequestStep.RECEIPT);\n          }}\n        />\n      );\n    case RequestStep.RECEIPT:\n      return (\n        <RequestReceipt\n          onDoneClick={() => {\n            setRequestStep(RequestStep.DO);\n          }}\n        />\n      );\n  }\n};\n\nexport default DesktopRequestPage;\n","import React from \"react\";\nimport MobileRequestPage from \"pages/RequestPage/MobileRequestPage\";\nimport DesktopRequestPage from \"pages/RequestPage/DesktopRequestPage\";\nimport { Breakpoint, useBreakpoint } from \"hooks/useBreakpoint\";\n\nconst RequestPage: React.FC = () => {\n  const breakpoint = useBreakpoint();\n\n  if (breakpoint === Breakpoint.MOBILE) {\n    return <MobileRequestPage />;\n  }\n\n  return <DesktopRequestPage />;\n};\n\nexport default RequestPage;\n","import React, { useState, useEffect } from \"react\";\nimport { Flex, Button } from \"theme-ui\";\nimport WithdrawPage from \"pages/WithdrawPage\";\nimport RequestPage from \"pages/RequestPage\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport { Page } from \"state/global\";\nimport styled from \"@emotion/styled/macro\";\nimport { Box } from \"@theme-ui/components\";\n\n//TODO[JM]: export Switch buttons to seperate file\nexport const SwitchButtons = styled(Box)<{ active: string }>(({ active }) => ({\n  // background: '#7C71FC',\n\n  borderRadius: \"60px\",\n  border: \"1px solid var(--theme-ui-colors-switcherBorder)\",\n  boxSizing: \"border-box\",\n  // height: '40px',\n  \"& a\": {\n    lineHeight: \"20px\",\n  },\n  \"& a button\": {\n    lineHeight: \"20px\",\n    borderRadius: \"60px\",\n    color: \"#7C71FC\",\n    background: \"var(--theme-ui-colors-switcherBg)\",\n    height: \"40px\",\n    padding: \"9px 25px\",\n    \"&.active\": {\n      color: \"#fff\",\n      background: \"var(--theme-ui-colors-switcherBgActive)\",\n    },\n  },\n}));\n\nconst SendAndRequestPage: React.FC = () => {\n  const [current, setCurrent] = useState(Page.SEND);\n  const location = useLocation();\n\n  useEffect(() => {\n    if (location.pathname.includes(Page.SEND)) {\n      setCurrent(Page.SEND);\n    }\n    if (location.pathname.includes(Page.REQUEST)) {\n      setCurrent(Page.REQUEST);\n    }\n  }, [location]);\n\n  return (\n    <>\n      <Flex sx={{ justifyContent: \"center\" }}>\n        <SwitchButtons active={current}>\n          <Link to={Page.SEND}>\n            <Button\n              className={current === Page.SEND ? \"active\" : \"\"}\n              sx={{ display: \"inline-block\" }}\n            >\n              Send\n            </Button>\n          </Link>\n          <Link to={Page.REQUEST}>\n            <Button\n              className={current === Page.REQUEST ? \"active\" : \"\"}\n              sx={{ display: \"inline-block\" }}\n            >\n              Request\n            </Button>\n          </Link>\n        </SwitchButtons>\n      </Flex>\n      {current === Page.SEND && <WithdrawPage />}\n      {current === Page.REQUEST && <RequestPage />}\n    </>\n  );\n};\n\nexport default SendAndRequestPage;\n","import { BlockscoutTxLink } from \"components/Links\";\nimport { toast } from \"react-toastify\";\nimport { Text } from \"theme-ui\";\n\nexport const toastTx = (tx: string) => {\n  toast(\n    <>\n      <Text>Transaction completed! </Text>\n      <BlockscoutTxLink tx={tx}>View on Blockscout</BlockscoutTxLink>\n    </>\n  );\n};\n","import { useQuery } from \"hooks//useQuery\";\n\nexport const useRequestParams = () => {\n  const query = useQuery();\n  const amount = query.get(\"amount\");\n  const currency = query.get(\"currency\");\n  const data = query.get(\"data\");\n  const chainId = query.get(\"chainId\");\n  return { amount, currency, data, chainId };\n};\n","import { useLocation } from \"react-router-dom\";\n\nexport const useQuery = () => {\n  return new URLSearchParams(useLocation().search);\n};\n","import { atom } from \"recoil\";\n\nexport const completeRequestLoading = atom({\n  key: \"COMPLETE_REQUEST_LOADING\",\n  default: false,\n});\n\nexport const completeRequestTxHash = atom({\n  key: \"COMPLETE_REQUEST_TX_HASH\",\n  default: \"\",\n});\n","import { useCallback } from \"react\";\nimport { useAsyncState } from \"hooks/useAsyncState\";\nimport { enforceHex } from \"utils/account\";\nimport { toBN } from \"web3-utils\";\nimport { PoofKit } from \"@poofcash/poof-v2-kit\";\nimport { useWeb3 } from \"./useWeb3\";\n\nconst initial = {\n  allowance: toBN(0),\n  ownerBalance: toBN(0),\n  pBalance: toBN(0),\n};\n\nexport function useTokenBalance(\n  currency?: string | null,\n  owner?: string | null\n) {\n  const { web3 } = useWeb3();\n\n  const balanceCall = useCallback(async () => {\n    if (!owner || !currency) {\n      return initial;\n    }\n    const poofKit = new PoofKit(web3 as any);\n    const ownerFmt = enforceHex(owner);\n    const allowance = toBN(await poofKit.allowance(currency, ownerFmt));\n    const ownerBalance = toBN(await poofKit.balance(currency, ownerFmt));\n    const pBalance = toBN(await poofKit.pBalance(currency, ownerFmt));\n\n    return { allowance, ownerBalance, pBalance };\n  }, [owner, currency, web3]);\n\n  return useAsyncState(initial, balanceCall);\n}\n","import React from \"react\";\nimport { useCompleteRequestApprove } from \"hooks/actions/useCompleteRequestApprove\";\nimport { Button, Text, Spinner } from \"@theme-ui/components\";\nimport { Box, Flex, Heading, Input, Select } from \"theme-ui\";\nimport { ActionDrawer } from \"components/ActionDrawer\";\nimport { LabelWithBalance } from \"components/LabelWithBalance\";\nimport { Breakpoint, useBreakpoint } from \"hooks/useBreakpoint\";\nimport { deployments } from \"@poofcash/poof-v2-kit\";\nimport { useWeb3 } from \"hooks/useWeb3\";\nimport { useCompleteRequest } from \"hooks/actions/useCompleteRequest\";\nimport { SummaryTable } from \"components/SummaryTable\";\nimport { humanFriendlyNumber } from \"utils/number\";\nimport { useRequestParams } from \"hooks/useRequestParams\";\nimport { fromWei, toBN } from \"web3-utils\";\nimport { WalletGlobal } from \"hooks/useWallet\";\nimport { useTokenBalance } from \"hooks/useTokenBalance\";\nimport { SUPPORTED_NETWORKS } from \"config\";\n\ninterface IProps {\n  onCompleteRequestClick?: () => void;\n}\n\n// pass props and State interface to Component class\nexport const PickCompleteRequest: React.FC<IProps> = ({\n  onCompleteRequestClick,\n}) => {\n  const { connect, address } = WalletGlobal.useContainer();\n  const { amount: amountWei, currency, data, chainId } = useRequestParams();\n  const { setNetwork } = useWeb3();\n  React.useEffect(() => {\n    if (chainId) {\n      const network = SUPPORTED_NETWORKS.find(\n        (n) => n.chainId === Number(chainId)\n      );\n      if (network) {\n        setNetwork(network);\n      }\n    }\n  });\n  const [connected, setConnected] = React.useState(false);\n  const [loading, setLoading] = React.useState(false);\n  const [balance] = useTokenBalance(currency, address);\n\n  const { network } = useWeb3();\n  const breakpoint = useBreakpoint();\n\n  const approve = useCompleteRequestApprove();\n  const completeRequest = useCompleteRequest();\n\n  if (!currency || !amountWei || !data) {\n    return <Heading as=\"h2\">Invalid request</Heading>;\n  }\n\n  const amount = fromWei(amountWei); // TODO: Assumes wei\n\n  const approved = balance.allowance.gt(toBN(amountWei));\n  let button = (\n    <Button\n      onClick={() =>\n        connect()\n          .then(() => setConnected(true))\n          .catch((e) => {\n            console.error(e);\n            alert(e.message);\n          })\n      }\n    >\n      Connect Wallet\n    </Button>\n  );\n  if (connected) {\n    button = (\n      <Button\n        onClick={async () => {\n          try {\n            setLoading(true);\n            if (!approved) {\n              await approve();\n            }\n            await completeRequest();\n            onCompleteRequestClick && onCompleteRequestClick();\n          } catch (e: any) {\n            console.error(e);\n            alert(e.message);\n          } finally {\n            setLoading(false);\n          }\n        }}\n        disabled={Number(amount) === 0}\n      >\n        Complete Request\n      </Button>\n    );\n  }\n\n  return (\n    <>\n      <Text variant=\"form\" sx={{ mb: 2 }}>\n        Currency\n      </Text>\n      <Select mb={4} value={currency} disabled>\n        {deployments[network.chainId].map((entry, idx) => {\n          return (\n            <option value={entry.symbol} key={idx}>\n              {currency}\n            </option>\n          );\n        })}\n      </Select>\n\n      <Box mb={4}>\n        <Flex sx={{ width: \"100%\", justifyContent: \"space-between\" }} mb={1}>\n          <Text variant=\"form\">Amount</Text>\n        </Flex>\n        <Input\n          sx={{ width: \"100%\" }}\n          placeholder=\"Enter an amount to completeRequest\"\n          value={amount}\n          disabled\n        />\n      </Box>\n\n      {breakpoint === Breakpoint.DESKTOP && (\n        <Box mt={4}>{loading ? <Spinner /> : button}</Box>\n      )}\n\n      {breakpoint === Breakpoint.MOBILE && (\n        <>\n          <Box mt={7}>\n            <SummaryTable\n              lineItems={[\n                {\n                  label: \"Withdrawal Amount\",\n                  value: `${humanFriendlyNumber(amount)} ${currency}`,\n                },\n              ]}\n              totalItem={{\n                label: \"Total\",\n                value: `${humanFriendlyNumber(amount)} ${currency}`,\n              }}\n            />\n          </Box>\n          <ActionDrawer>\n            {loading ? (\n              <Flex sx={{ justifyContent: \"flex-end\" }}>\n                <Spinner />\n              </Flex>\n            ) : (\n              <Flex\n                sx={{\n                  alignItems: \"center\",\n                  justifyContent: \"space-between\",\n                }}\n              >\n                <LabelWithBalance\n                  label=\"Total\"\n                  amount={amount}\n                  currency={currency}\n                />\n                {button}\n              </Flex>\n            )}\n          </ActionDrawer>\n        </>\n      )}\n    </>\n  );\n};\n","import React from \"react\";\nimport { toBN } from \"web3-utils\";\nimport { toastTx } from \"utils/toastTx\";\nimport { useRequestParams } from \"hooks/useRequestParams\";\nimport { PoofKit } from \"@poofcash/poof-v2-kit\";\nimport { WalletGlobal } from \"hooks/useWallet\";\n\nexport const useCompleteRequestApprove = () => {\n  const { amount, currency } = useRequestParams();\n  const { getConnectedWeb3, gasPrice, address } = WalletGlobal.useContainer();\n\n  const approve = React.useCallback(async (): Promise<void> => {\n    if (!amount || !currency) {\n      alert(\"Invalid completeRequest request\");\n      return;\n    }\n    const web3 = await getConnectedWeb3();\n    const poofKit = new PoofKit(web3);\n    const poolMatch = await poofKit.poolMatch(currency);\n    if (poolMatch) {\n      try {\n        const txo = await poofKit.approve(\n          currency,\n          toBN(amount).mul(toBN(10001)).div(toBN(10000)) // Add 0.01% buffer\n        );\n        const tx = await web3.eth.sendTransaction({\n          from: address || undefined,\n          to: poolMatch.tokenAddress,\n          data: txo.encodeABI(),\n          gasPrice,\n        });\n        tx.transactionHash && toastTx(tx.transactionHash);\n      } catch (error) {\n        throw error;\n      }\n    }\n  }, [amount, currency, getConnectedWeb3, address, gasPrice]);\n\n  return approve;\n};\n","import React from \"react\";\nimport { useRecoilState } from \"recoil\";\nimport { completeRequestTxHash } from \"pages/CompleteRequestPage/state\";\nimport { PoofKit } from \"@poofcash/poof-v2-kit\";\nimport { useRequestParams } from \"hooks/useRequestParams\";\nimport { WalletGlobal } from \"hooks/useWallet\";\n\nexport function useCompleteRequest() {\n  const { amount, currency, data } = useRequestParams();\n  const { getConnectedWeb3, address, gasPrice } = WalletGlobal.useContainer();\n  const [, setTxHash] = useRecoilState(completeRequestTxHash);\n\n  // TODO: TreeUpdate always should be used here\n  const completeRequest = React.useCallback(async () => {\n    if (!amount || !currency || !data) {\n      alert(\"Invalid completeRequest request\");\n      return;\n    }\n    const web3 = await getConnectedWeb3();\n    const poofKit = new PoofKit(web3);\n    const poolMatch = await poofKit.poolMatch(currency);\n    if (poolMatch) {\n      try {\n        const params = {\n          from: address || undefined,\n          to: poolMatch.poolAddress,\n          data,\n          gasPrice,\n          value: poolMatch.tokenAddress ? 0 : amount,\n        };\n        const gas = await web3.eth.estimateGas(params);\n        const tx = await web3.eth.sendTransaction({\n          ...params,\n          gas,\n        });\n        setTxHash(tx.transactionHash);\n      } catch (e) {\n        throw e;\n      }\n    }\n  }, [address, amount, currency, data, gasPrice, getConnectedWeb3, setTxHash]);\n\n  return completeRequest;\n}\n","import React from \"react\";\nimport { Button, Container, Flex, Heading, Spinner, Text } from \"theme-ui\";\nimport { BackButton } from \"components/BackButton\";\nimport { ActionDrawer } from \"components/ActionDrawer\";\nimport { LabelWithBalance } from \"components/LabelWithBalance\";\nimport { SummaryTable } from \"components/SummaryTable\";\nimport { humanFriendlyNumber } from \"utils/number\";\nimport { useRecoilState } from \"recoil\";\nimport { completeRequestLoading } from \"../state\";\nimport { NETWORK_COST } from \"config\";\nimport { fromWei } from \"web3-utils\";\nimport { useRequestParams } from \"hooks/useRequestParams\";\nimport { WalletGlobal } from \"hooks/useWallet\";\n\ninterface IProps {\n  onBackClick: () => void;\n  onConfirmClick: () => void;\n}\n\nexport const ConfirmCompleteRequest: React.FC<IProps> = ({\n  onBackClick,\n  onConfirmClick,\n}) => {\n  const { amount: amountWei, currency, data } = useRequestParams();\n  const { gasCurrency } = WalletGlobal.useContainer();\n  const [loading] = useRecoilState(completeRequestLoading);\n\n  if (!currency || !amountWei || !data) {\n    return <Heading as=\"h2\">Invalid request</Heading>;\n  }\n\n  const amount = fromWei(amountWei); // TODO: Assumes wei\n  const totalCost = Number(amount) + Number(NETWORK_COST);\n\n  let button = (\n    <Button onClick={onConfirmClick} variant=\"primary\">\n      Complete Request\n    </Button>\n  );\n\n  return (\n    <Container>\n      <BackButton onClick={onBackClick} />\n      <br />\n      <Text sx={{ mb: 1 }} variant=\"subtitle\">\n        Transaction Summary\n      </Text>\n      <br />\n      <Text sx={{ mb: 4 }} variant=\"regularGray\">\n        Please review the transaction before continuing\n      </Text>\n      <br />\n      <SummaryTable\n        title=\"Summary\"\n        lineItems={[\n          {\n            label: \"CompleteRequest Amount\",\n            value: `${humanFriendlyNumber(amount)} ${currency}`,\n          },\n          {\n            label: \"Est. Network Fee\",\n            value: `${humanFriendlyNumber(NETWORK_COST)} ${gasCurrency}`,\n          },\n        ]}\n        totalItem={{\n          label: \"Est. Total\",\n          value:\n            currency === gasCurrency\n              ? `${humanFriendlyNumber(\n                  Number(amount) + Number(NETWORK_COST)\n                )} ${gasCurrency}`\n              : `${humanFriendlyNumber(\n                  Number(amount)\n                )} ${currency} + ${humanFriendlyNumber(\n                  NETWORK_COST\n                )} ${gasCurrency}`,\n        }}\n      />\n\n      <ActionDrawer>\n        {loading ? (\n          <Flex sx={{ justifyContent: \"flex-end\" }}>\n            <Spinner />\n          </Flex>\n        ) : (\n          <Flex sx={{ justifyContent: \"space-between\" }}>\n            <LabelWithBalance\n              label=\"Total\"\n              amount={totalCost.toString()}\n              currency={currency}\n            />\n            {button}\n          </Flex>\n        )}\n      </ActionDrawer>\n    </Container>\n  );\n};\n","import React from \"react\";\nimport { Button, Container, Flex, Text } from \"theme-ui\";\nimport moment from \"moment\";\nimport { BlockscoutTxLink } from \"components/Links\";\nimport { ActionDrawer } from \"components/ActionDrawer\";\nimport { LabelWithBalance } from \"components/LabelWithBalance\";\nimport { SummaryTable } from \"components/SummaryTable\";\nimport { humanFriendlyNumber } from \"utils/number\";\nimport { shortenAccount } from \"utils/account\";\nimport { completeRequestTxHash } from \"../state\";\nimport { useRecoilState } from \"recoil\";\nimport { useRequestParams } from \"hooks/useRequestParams\";\nimport { fromWei } from \"web3-utils\";\nimport { NETWORK_COST } from \"config\";\nimport { WalletGlobal } from \"hooks/useWallet\";\n\ninterface IProps {\n  onDoneClick: () => void;\n}\n\nexport const CompleteRequestReceipt: React.FC<IProps> = ({ onDoneClick }) => {\n  const { amount: amountWei, currency } = useRequestParams();\n  const { gasCurrency, address } = WalletGlobal.useContainer();\n  const [txHash] = useRecoilState(completeRequestTxHash);\n\n  if (!amountWei || !currency) {\n    return <Text>Invalid completeRequest request</Text>;\n  }\n  const amount = fromWei(amountWei); // TODO: Assumes wei\n\n  return (\n    <Container>\n      <Text sx={{ display: \"block\", mb: 1 }} variant=\"subtitle\">\n        Alakazam!\n      </Text>\n      <Text sx={{ display: \"block\", mb: 4 }} variant=\"regular\">\n        You have fulfilled the request.{\" \"}\n        <BlockscoutTxLink tx={txHash}>View transaction</BlockscoutTxLink>.\n      </Text>\n\n      <SummaryTable\n        title=\"Transaction\"\n        lineItems={[\n          {\n            label: \"Time completed\",\n            value: moment().format(\"h:mm a\"),\n          },\n          {\n            label: \"Account\",\n            value: shortenAccount(address),\n          },\n          {\n            label: \"Est. total amount\",\n            value:\n              currency === gasCurrency\n                ? `${humanFriendlyNumber(\n                    Number(amount) + Number(NETWORK_COST)\n                  )} ${gasCurrency}`\n                : `${humanFriendlyNumber(\n                    amount\n                  )} ${currency} + ${humanFriendlyNumber(\n                    NETWORK_COST\n                  )} ${gasCurrency}`,\n          },\n        ]}\n        totalItem={{\n          label: \"Completed Request\",\n          value: `${humanFriendlyNumber(amount)} ${currency}`,\n        }}\n      />\n\n      <ActionDrawer>\n        <Flex sx={{ justifyContent: \"space-between\" }}>\n          <LabelWithBalance\n            label=\"Completed Request\"\n            amount={amount}\n            currency={currency}\n          />\n          <Button\n            onClick={() => {\n              onDoneClick();\n            }}\n            variant=\"done\"\n          >\n            Done\n          </Button>\n        </Flex>\n      </ActionDrawer>\n    </Container>\n  );\n};\n","import React from \"react\";\nimport { PickCompleteRequest } from \"pages/CompleteRequestPage/MobileCompleteRequestPage/PickCompleteRequest\";\nimport { ConfirmCompleteRequest } from \"pages/CompleteRequestPage/MobileCompleteRequestPage/ConfirmCompleteRequest\";\nimport { CompleteRequestReceipt } from \"pages/CompleteRequestPage/MobileCompleteRequestPage/CompleteRequestReceipt\";\n\nenum CompleteRequestStep {\n  PICKER = \"PICKER\",\n  CONFIRM = \"CONFIRM\",\n  RECEIPT = \"RECEIPT\",\n}\n\n// pass props and State interface to Component class\nconst MobileCompleteRequestPage = () => {\n  const [completeRequestStep, setCompleteRequestStep] = React.useState(\n    CompleteRequestStep.PICKER\n  );\n\n  switch (completeRequestStep) {\n    case CompleteRequestStep.PICKER:\n      return (\n        <PickCompleteRequest\n          onCompleteRequestClick={() => {\n            setCompleteRequestStep(CompleteRequestStep.RECEIPT);\n          }}\n        />\n      );\n    // This path is never displayed\n    case CompleteRequestStep.CONFIRM:\n      return (\n        <ConfirmCompleteRequest\n          onBackClick={() => setCompleteRequestStep(CompleteRequestStep.PICKER)}\n          onConfirmClick={() => {\n            setCompleteRequestStep(CompleteRequestStep.RECEIPT);\n          }}\n        />\n      );\n    case CompleteRequestStep.RECEIPT:\n      return (\n        <CompleteRequestReceipt\n          onDoneClick={() => {\n            setCompleteRequestStep(CompleteRequestStep.PICKER);\n          }}\n        />\n      );\n  }\n};\n\nexport default MobileCompleteRequestPage;\n","import React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { Container, Flex, Grid, Text } from \"theme-ui\";\nimport { PickCompleteRequest } from \"pages/CompleteRequestPage/MobileCompleteRequestPage/PickCompleteRequest\";\nimport { DepositIllustration } from \"assets/DepositIllustration\";\n\ninterface IProps {\n  onCompleteRequestClick?: () => void;\n}\n\nexport const DoCompleteRequest: React.FC<IProps> = ({\n  onCompleteRequestClick,\n}) => {\n  const { t } = useTranslation();\n\n  return (\n    <>\n      <Grid sx={{ gridTemplateColumns: \"1.3fr 1fr\", gridGap: 6 }}>\n        <Container>\n          <Text sx={{ display: \"block\" }} variant=\"title\">\n            {t(\"completeRequest.desktop.title\")}\n          </Text>\n          <Text sx={{ display: \"block\", mb: 4 }} variant=\"regularGray\">\n            {t(\"completeRequest.desktop.subtitle\")}\n          </Text>\n          <PickCompleteRequest\n            onCompleteRequestClick={onCompleteRequestClick}\n          />\n        </Container>\n        <Flex sx={{ justifyContent: \"center\" }}>\n          <DepositIllustration />\n        </Flex>\n      </Grid>\n    </>\n  );\n};\n","import React from \"react\";\nimport { Button, Container, Text } from \"theme-ui\";\nimport moment from \"moment\";\nimport { BlockscoutTxLink } from \"components/Links\";\nimport { SummaryTable } from \"components/SummaryTable\";\nimport { GrayBox } from \"components/GrayBox\";\nimport { humanFriendlyNumber } from \"utils/number\";\nimport { useRecoilState } from \"recoil\";\nimport { completeRequestTxHash } from \"../state\";\nimport { shortenAccount } from \"utils/account\";\nimport { useRequestParams } from \"hooks/useRequestParams\";\nimport { fromWei } from \"web3-utils\";\nimport { NETWORK_COST } from \"config\";\nimport { WalletGlobal } from \"hooks/useWallet\";\n\ninterface IProps {\n  onDoneClick: () => void;\n}\n\nexport const CompleteRequestReceipt: React.FC<IProps> = ({ onDoneClick }) => {\n  const { amount: amountWei, currency } = useRequestParams();\n  const { gasCurrency, address } = WalletGlobal.useContainer();\n  const [txHash] = useRecoilState(completeRequestTxHash);\n\n  if (!amountWei || !currency) {\n    return <Text>Invalid completeRequest request</Text>;\n  }\n  const amount = fromWei(amountWei); // TODO: Assumes wei\n\n  return (\n    <Container>\n      <Text sx={{ display: \"block\", mb: 1 }} variant=\"subtitle\">\n        Alakazam!\n      </Text>\n      <Text sx={{ display: \"block\", mb: 4 }} variant=\"regular\">\n        You have fulfilled the request.{\" \"}\n        <BlockscoutTxLink tx={txHash}>View transaction</BlockscoutTxLink>.\n      </Text>\n\n      <GrayBox>\n        <Text sx={{ mb: 3 }} variant=\"subtitle\">\n          Receipt\n        </Text>\n        <br />\n        <SummaryTable\n          title=\"Transaction\"\n          lineItems={[\n            {\n              label: \"Time completed\",\n              value: moment().format(\"h:mm a\"),\n            },\n            {\n              label: \"Account\",\n              value: shortenAccount(address),\n            },\n            {\n              label: \"Est. total amount\",\n              value:\n                currency === gasCurrency\n                  ? `${humanFriendlyNumber(\n                      Number(amount) + Number(NETWORK_COST)\n                    )} ${gasCurrency}`\n                  : `${humanFriendlyNumber(\n                      amount\n                    )} ${currency} + ${humanFriendlyNumber(\n                      NETWORK_COST\n                    )} ${gasCurrency}`,\n            },\n          ]}\n          totalItem={{\n            label: \"Completed Request\",\n            value: `${humanFriendlyNumber(amount)} ${currency}`,\n          }}\n        />\n      </GrayBox>\n\n      <Button sx={{ mt: 2, px: 6 }} variant=\"done\" onClick={onDoneClick}>\n        Done\n      </Button>\n    </Container>\n  );\n};\n","import React from \"react\";\nimport { DoCompleteRequest } from \"pages/CompleteRequestPage/DesktopCompleteRequestPage/DoCompleteRequest\";\nimport { CompleteRequestReceipt } from \"pages/CompleteRequestPage/DesktopCompleteRequestPage/CompleteRequestReceipt\";\n\nenum CompleteRequestStep {\n  DO = \"DO\",\n  RECEIPT = \"RECEIPT\",\n}\n\nconst DesktopCompleteRequestPage = () => {\n  const [completeRequestStep, setCompleteRequestStep] = React.useState(\n    CompleteRequestStep.DO\n  );\n\n  switch (completeRequestStep) {\n    case CompleteRequestStep.DO:\n      return (\n        <DoCompleteRequest\n          onCompleteRequestClick={async () => {\n            setCompleteRequestStep(CompleteRequestStep.RECEIPT);\n          }}\n        />\n      );\n    case CompleteRequestStep.RECEIPT:\n      return (\n        <CompleteRequestReceipt\n          onDoneClick={() => {\n            setCompleteRequestStep(CompleteRequestStep.DO);\n          }}\n        />\n      );\n  }\n};\n\nexport default DesktopCompleteRequestPage;\n","import React from \"react\";\nimport MobileCompleteRequestPage from \"pages/CompleteRequestPage/MobileCompleteRequestPage\";\nimport DesktopCompleteRequestPage from \"pages/CompleteRequestPage/DesktopCompleteRequestPage\";\nimport { Breakpoint, useBreakpoint } from \"hooks/useBreakpoint\";\n\nconst CompleteRequestPage: React.FC = () => {\n  const breakpoint = useBreakpoint();\n\n  if (breakpoint === Breakpoint.MOBILE) {\n    return <MobileCompleteRequestPage />;\n  }\n\n  return <DesktopCompleteRequestPage />;\n};\n\nexport default CompleteRequestPage;\n","import { Container, useColorMode } from \"theme-ui\";\nimport { BottomDrawer } from \"components/BottomDrawer\";\n\nexport const InfoDrawer: React.FC = ({ children }) => {\n  const [colorMode] = useColorMode();\n  return (\n    <BottomDrawer>\n      <Container\n        sx={{\n          backgroundColor:\n            colorMode === \"dark\" ? \"secondaryBackground\" : \"background\",\n          p: 4,\n          boxShadow: \"0px 0px 12px rgba(66, 66, 66, 0.16)\",\n          borderRadius: \"16px 16px 0px 0px\",\n        }}\n      >\n        {children}\n      </Container>\n    </BottomDrawer>\n  );\n};\n","import { X } from \"phosphor-react\";\nimport { Box, Button, Flex, Text } from \"theme-ui\";\nimport { SUPPORTED_NETWORKS } from \"config\";\nimport { useWeb3 } from \"hooks/useWeb3\";\n\ninterface Props {\n  onClose?: () => any;\n}\n\nexport const NetworkDetails: React.FC<Props> = ({ onClose }) => {\n  const { setNetwork } = useWeb3();\n  return (\n    <Box>\n      <Flex sx={{ justifyContent: \"space-between\", mb: 3 }}>\n        <Text sx={{ fontSize: 18 }}>Networks</Text>\n        {onClose && <X size={20} onClick={onClose} />}\n      </Flex>\n      {SUPPORTED_NETWORKS.map((network, idx) => {\n        return (\n          <Button\n            key={idx}\n            sx={{ whiteSpace: \"nowrap\" }}\n            variant=\"secondary\"\n            mr={2}\n            mb={1}\n            onClick={() => {\n              setNetwork(network);\n            }}\n          >\n            {network.name}\n          </Button>\n        );\n      })}\n    </Box>\n  );\n};\n","import { atom, useRecoilState } from \"recoil\";\nimport { InfoDrawer } from \"components/InfoDrawer\";\nimport { NetworkDetails } from \"components/Network/NetworkDetails\";\n\nexport const networkDrawerOpen = atom({\n  key: \"WALLET_DRAWER_OPEN\",\n  default: false,\n});\n\nexport const NetworkDrawer: React.FC = () => {\n  const [isOpen, setIsOpen] = useRecoilState(networkDrawerOpen);\n\n  if (!isOpen) {\n    return null;\n  }\n\n  return (\n    <InfoDrawer>\n      <NetworkDetails onClose={() => setIsOpen(false)} />\n    </InfoDrawer>\n  );\n};\n","import { Moon, Sun, UserCircle, X } from \"phosphor-react\";\nimport { Box, Button, Flex, Text, useColorMode } from \"theme-ui\";\nimport CopyToClipboard from \"react-copy-to-clipboard\";\nimport { toast } from \"react-toastify\";\nimport { Page } from \"state/global\";\nimport { PoofAccountGlobal } from \"hooks/poofAccount\";\nimport { useHistory } from \"react-router-dom\";\nimport { shortenAccount } from \"utils/account\";\nimport React from \"react\";\n\ninterface Props {\n  onClose?: () => any;\n}\n\nexport const PoofAccountDetails: React.FC<Props> = ({ onClose }) => {\n  const {\n    poofAccount,\n    disconnectPoofAccount,\n  } = PoofAccountGlobal.useContainer();\n  const [colorMode, setColorMode] = useColorMode();\n  const history = useHistory();\n\n  return (\n    <>\n      <Flex sx={{ justifyContent: \"space-between\", mb: 3 }}>\n        <Text sx={{ fontSize: 18 }}>Poof Wallet</Text>\n        {onClose && <X size={20} onClick={onClose} />}\n      </Flex>\n      {poofAccount && (\n        <Box\n          sx={{\n            backgroundColor:\n              colorMode === \"dark\" ? \"background\" : \"secondaryBackground\",\n            mb: 3,\n            p: 2,\n            borderRadius: 4,\n          }}\n        >\n          <CopyToClipboard\n            text={`0x${poofAccount.address}`}\n            onCopy={() => toast(\"Copied wallet address to clipboard\")}\n          >\n            <Flex sx={{ alignItems: \"center\" }}>\n              <UserCircle size={32} />\n              <Text variant=\"primary\" mt={1} ml={1}>\n                {shortenAccount(`0x${poofAccount.address}`, 12)}\n              </Text>\n            </Flex>\n          </CopyToClipboard>\n        </Box>\n      )}\n      <Flex sx={{ justifyContent: \"center\" }}>\n        <Button\n          variant=\"minimal\"\n          mr={2}\n          onClick={() => {\n            setColorMode(colorMode === \"dark\" ? \"default\" : \"dark\");\n          }}\n        >\n          <Box mr={2}>\n            {colorMode === \"dark\" ? <Moon size={20} /> : <Sun size={20} />}\n          </Box>\n          <Box>{colorMode === \"dark\" ? \"Dark\" : \"Light\"} Mode</Box>\n        </Button>\n        {poofAccount ? (\n          <Button variant=\"tertiary\" onClick={disconnectPoofAccount}>\n            Log out\n          </Button>\n        ) : (\n          <Button\n            onClick={() => {\n              history.push(`/${Page.SETUP}`);\n            }}\n          >\n            Log in\n          </Button>\n        )}\n      </Flex>\n    </>\n  );\n};\n","import { atom, useRecoilState } from \"recoil\";\nimport { InfoDrawer } from \"components/InfoDrawer\";\nimport { PoofAccountDetails } from \"components/PoofAccount/PoofAccountDetails\";\nimport { useLocation } from \"react-router-dom\";\nimport { Page } from \"state/global\";\n\nexport const poofAccountDrawerOpen = atom({\n  key: \"POOF_ACCOUNT_DRAWER_OPEN\",\n  default: false,\n});\n\nexport const PoofAccountDrawer: React.FC = () => {\n  const [isOpen, setIsOpen] = useRecoilState(poofAccountDrawerOpen);\n  const location = useLocation();\n\n  if (!isOpen || location.pathname.includes(Page.SETUP)) {\n    return null;\n  }\n\n  return (\n    <InfoDrawer>\n      <PoofAccountDetails onClose={() => setIsOpen(false)} />\n    </InfoDrawer>\n  );\n};\n","import { Card, Flex, Text } from \"theme-ui\";\nimport { Planet } from \"phosphor-react\";\nimport { useRecoilState } from \"recoil\";\nimport { networkDrawerOpen } from \"components/Network/NetworkDrawer\";\nimport { poofAccountDrawerOpen } from \"components/PoofAccount/PoofAccountDrawer\";\nimport { useWeb3 } from \"hooks/useWeb3\";\n\nexport const NetworkCard: React.FC = () => {\n  const { network } = useWeb3();\n  const [, setAccountDrawerIsOpen] = useRecoilState(poofAccountDrawerOpen);\n  const [networkDrawerIsOpen, setNetworkDrawerIsOpen] = useRecoilState(\n    networkDrawerOpen\n  );\n\n  return (\n    <Card\n      variant=\"warning\"\n      onClick={() => {\n        if (!networkDrawerIsOpen) {\n          setAccountDrawerIsOpen(false);\n        }\n        setNetworkDrawerIsOpen(!networkDrawerIsOpen);\n      }}\n    >\n      <Flex sx={{ alignItems: \"center\" }}>\n        <Planet size={32} />\n        <Text variant=\"primary\" ml={2} mt={1}>\n          {network.name}\n        </Text>\n      </Flex>\n    </Card>\n  );\n};\n","import React from \"react\";\nimport { Box, Button, Container, Flex, Link } from \"theme-ui\";\nimport { Page } from \"state/global\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { UserCircle } from \"phosphor-react\";\nimport { NetworkCard } from \"components/Network/NetworkCard\";\nimport { useRecoilState } from \"recoil\";\nimport { poofAccountDrawerOpen } from \"components/PoofAccount/PoofAccountDrawer\";\nimport { networkDrawerOpen } from \"components/Network/NetworkDrawer\";\n\nconst HeaderButton: React.FC<{ page: Page }> = ({ page, children }) => {\n  const location = useLocation();\n  const history = useHistory();\n  return (\n    <Button\n      variant={\n        location.pathname.includes(page) ? \"switcherSelected\" : \"switcher\"\n      }\n      onClick={() => history.push(page)}\n    >\n      {children}\n    </Button>\n  );\n};\n\nexport const MobileHeader: React.FC = () => {\n  const [accountDrawerIsOpen, setAccountDrawerIsOpen] = useRecoilState(\n    poofAccountDrawerOpen\n  );\n  const [, setNetworkDrawerIsOpen] = useRecoilState(networkDrawerOpen);\n  return (\n    <Container sx={{ pt: 4, px: 3, width: \"auto\" }}>\n      <Flex\n        sx={{\n          mb: 2,\n          justifyContent: \"space-between\",\n          alignItems: \"center\",\n        }}\n      >\n        <Box\n          color=\"primaryText\"\n          onClick={() => {\n            if (!accountDrawerIsOpen) {\n              setNetworkDrawerIsOpen(false);\n            }\n            setAccountDrawerIsOpen(!accountDrawerIsOpen);\n          }}\n        >\n          <UserCircle size={36} />\n        </Box>\n        <NetworkCard />\n      </Flex>\n      <Container sx={{ overflow: \"scroll\" }} mt={3}>\n        <Flex sx={{ width: \"fit-content\", borderBottom: \"1px solid #E0E0E0\" }}>\n          <HeaderButton page={Page.HOME}>Home</HeaderButton>\n          <Link\n            href=\"https://docs.poof.cash\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            style={{ textDecoration: \"none\" }}\n          >\n            <Button variant=\"switcher\">Docs</Button>\n          </Link>\n        </Flex>\n      </Container>\n    </Container>\n  );\n};\n","import React from \"react\";\n\ninterface Props {\n  size: number;\n}\n\nexport const LogoIcon: React.FC<Props> = ({ size }) => {\n  return (\n    <svg\n      width={size}\n      height={size}\n      viewBox=\"0 0 236 236\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <rect\n        x=\"132.561\"\n        y=\"55.5837\"\n        width=\"79.4738\"\n        height=\"127.726\"\n        rx=\"11.9683\"\n        transform=\"rotate(25 132.561 55.5837)\"\n        fill=\"#ECE6FE\"\n      />\n      <rect\n        x=\"71.6385\"\n        y=\"43.7797\"\n        width=\"79.4738\"\n        height=\"127.726\"\n        rx=\"11.9683\"\n        fill=\"#CCC3FC\"\n      />\n      <rect\n        x=\"33.449\"\n        y=\"87.0876\"\n        width=\"79.4738\"\n        height=\"127.726\"\n        rx=\"11.9683\"\n        transform=\"rotate(-25 33.449 87.0876)\"\n        fill=\"#7C71FC\"\n      />\n      <path\n        d=\"M82.8255 139.602C79.7948 139.665 77.7264 135.244 79.7003 132.943C82.0775 130.172 84.3662 126.997 85.4627 124.049C86.5192 121.208 86.7358 117.105 86.6298 113.291C86.547 110.312 90.7122 108.313 92.97 110.259C95.8968 112.781 99.247 115.258 102.094 116.294C104.943 117.331 109.104 117.587 112.97 117.535C115.949 117.496 117.858 121.704 115.881 123.934C113.318 126.823 110.799 130.167 109.729 133.108C108.718 135.886 108.466 139.768 108.53 143.443C108.583 146.474 104.178 148.508 101.9 146.508C99.1522 144.095 96.0409 141.794 93.2665 140.784C90.4683 139.766 86.539 139.524 82.8255 139.602Z\"\n        fill=\"white\"\n      />\n    </svg>\n  );\n};\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { LogoIcon } from \"icons/LogoIcon\";\n\nexport const Logo: React.FC = () => {\n  return (\n    <Link to=\"/\" style={{ textDecoration: \"none\", color: \"black\" }}>\n      <LogoIcon size={57} />\n    </Link>\n  );\n};\n","import styled from \"@emotion/styled\";\nimport { Link } from \"react-router-dom\";\n\nexport const StyledLink = styled(Link)({\n  height: \"fit-content\",\n  textDecoration: \"none\",\n  color: \"var(--theme-ui-colors-primaryText)\",\n});\n","import React from \"react\";\nimport styled from \"@emotion/styled\";\nimport { Box, Card, Flex, useColorMode } from \"theme-ui\";\nimport { Text } from \"theme-ui\";\nimport { Page } from \"state/global\";\nimport { UserCircle, Planet } from \"phosphor-react\";\nimport { StyledLink } from \"components/StyledLink\";\nimport { NetworkDetails } from \"components/Network/NetworkDetails\";\nimport { PoofAccountGlobal } from \"hooks/poofAccount\";\nimport { CloseOnClickaway } from \"components/CloseOnClickaway\";\nimport { PoofAccountDetails } from \"components/PoofAccount/PoofAccountDetails\";\nimport { shortenAccount } from \"utils/account\";\nimport { useWeb3 } from \"hooks/useWeb3\";\n\nconst HoverDetails = styled(Box)<{ colorMode: string }>(({ colorMode }) => {\n  return {\n    position: \"absolute\",\n    backgroundColor:\n      colorMode === \"dark\"\n        ? \"var(--theme-ui-colors-secondaryBackground)\"\n        : \"var(--theme-ui-colors-background)\",\n    padding: \"12px\",\n    top: 60,\n    right: 0,\n    borderRadius: \"6px\",\n    color: \"var(--theme-ui-colors-primaryText)\",\n    border: \"1px solid\",\n  };\n});\n\nexport const AccountProfile: React.FC = () => {\n  const { network } = useWeb3();\n  const { poofAccount } = PoofAccountGlobal.useContainer();\n  const [colorMode] = useColorMode();\n\n  const [accountDetailsOpen, setAccountDetailsOpen] = React.useState(false);\n  const [networkDetailsOpen, setNetworkDetailsOpen] = React.useState(false);\n\n  const accountCard = React.useRef<HTMLDivElement>(null);\n  const networkCard = React.useRef<HTMLDivElement>(null);\n\n  return (\n    <Flex sx={{ alignItems: \"center\" }}>\n      <Box sx={{ position: \"relative\" }}>\n        <Card\n          ref={networkCard}\n          sx={{ cursor: \"pointer\", mr: 3, height: 42, pl: 13, pr: 13 }}\n          variant=\"warning\"\n          onClick={() => {\n            setNetworkDetailsOpen(!networkDetailsOpen);\n          }}\n        >\n          <Flex sx={{ alignItems: \"center\" }}>\n            <Planet size={28} />\n            <Text variant=\"primary\" ml={2} mt={0}>\n              {network.name}\n            </Text>\n          </Flex>\n        </Card>\n        {networkDetailsOpen && (\n          <CloseOnClickaway\n            onClickaway={(e) => {\n              if (networkCard?.current?.contains(e.target)) {\n                return;\n              }\n              setNetworkDetailsOpen(false);\n            }}\n          >\n            <HoverDetails colorMode={colorMode}>\n              <NetworkDetails />\n            </HoverDetails>\n          </CloseOnClickaway>\n        )}\n      </Box>\n\n      <Box sx={{ position: \"relative\" }}>\n        {poofAccount ? (\n          <Card\n            ref={accountCard}\n            sx={{ cursor: \"pointer\", height: 42, pl: 13, pr: 13 }}\n            variant=\"warning\"\n            onClick={() => {\n              setAccountDetailsOpen(!accountDetailsOpen);\n            }}\n          >\n            <Flex sx={{ alignItems: \"center\", color: \"primaryText\" }}>\n              <UserCircle size={28} />\n              <Text variant=\"primary\" ml={2} mt={0}>\n                {shortenAccount(\"0x\" + poofAccount.address, 4)}\n              </Text>\n            </Flex>\n          </Card>\n        ) : (\n          <StyledLink to={Page.SETUP} color=\"primaryText\">\n            Log in\n          </StyledLink>\n        )}\n        {poofAccount && accountDetailsOpen && (\n          <CloseOnClickaway\n            onClickaway={(e) => {\n              if (accountCard?.current?.contains(e.target)) {\n                return;\n              }\n              setAccountDetailsOpen(false);\n            }}\n          >\n            <HoverDetails colorMode={colorMode}>\n              <PoofAccountDetails />\n            </HoverDetails>\n          </CloseOnClickaway>\n        )}\n      </Box>\n    </Flex>\n  );\n};\n","import React from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport { Box, Container, Flex, Link, Text } from \"theme-ui\";\nimport { Logo } from \"components/Logo\";\nimport { AccountProfile } from \"components/AccountProfile\";\nimport { Page } from \"state/global\";\nimport { StyledLink } from \"components/StyledLink\";\n\nconst HeaderLink: React.FC<{ pages: string[] }> = ({ pages, children }) => {\n  const location = useLocation();\n  let selected = false;\n  const link = pages[0];\n  pages.forEach((page) => {\n    if (location.pathname.includes(page)) {\n      selected = true;\n    }\n  });\n  return (\n    <Box mr={2}>\n      <StyledLink to={link}>\n        <Text\n          sx={{\n            color: selected ? \"primary\" : \"text\",\n            borderBottom: selected ? \"2px solid\" : \"none\",\n            mx: 1,\n            pb: 1,\n          }}\n          variant=\"subtitle\"\n        >\n          {children}\n        </Text>\n      </StyledLink>\n    </Box>\n  );\n};\n\nexport const DesktopHeader: React.FC = () => {\n  return (\n    <>\n      <Container sx={{ width: \"auto\" }}>\n        <Flex\n          sx={{\n            mb: 2,\n            justifyContent: \"center\",\n            alignItems: \"center\",\n          }}\n        >\n          <Flex\n            sx={{\n              flex: 1,\n              justifyContent: \"flex-start\",\n            }}\n          >\n            <Logo />\n          </Flex>\n          <Flex\n            sx={{\n              alignItems: \"center\",\n              justifyContent: \"center\",\n              flex: 1,\n            }}\n          >\n            <HeaderLink pages={[`/${Page.HOME}`]}>Portfolio</HeaderLink>\n            <HeaderLink pages={[`/${Page.SEND}`, Page.REQUEST]}>\n              Send & Request\n            </HeaderLink>\n            {/* <HeaderLink page={Page.REQUEST}>Request</HeaderLink>\n            <HeaderLink page={Page.SEND}>Send</HeaderLink> */}\n            <HeaderLink pages={[`/${Page.LOANS}`]}>Loans</HeaderLink>\n            {/* <HeaderLink page={Page.INVITE}>Invite</HeaderLink> */}\n            <Link\n              href=\"https://docs.poof.cash\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              style={{ textDecoration: \"none\" }}\n            >\n              <Text\n                sx={{\n                  color: \"text\",\n                  borderBottom: \"none\",\n                  mx: 1,\n                  pb: 1,\n                  \":hover\": {\n                    borderBottom: \"2px solid\",\n                  },\n                }}\n                variant=\"subtitle\"\n              >\n                Docs\n              </Text>\n            </Link>\n          </Flex>\n          <Flex\n            sx={{ alignItems: \"center\", justifyContent: \"flex-end\", flex: 1 }}\n          >\n            <AccountProfile />\n          </Flex>\n        </Flex>\n      </Container>\n    </>\n  );\n};\n","import React from \"react\";\nimport { MobileHeader } from \"components/Header/MobileHeader\";\nimport { DesktopHeader } from \"components/Header/DesktopHeader\";\nimport { Breakpoint, useBreakpoint } from \"hooks/useBreakpoint\";\n\nexport const Header: React.FC = () => {\n  const breakpoint = useBreakpoint();\n\n  if (breakpoint === Breakpoint.MOBILE) {\n    return <MobileHeader />;\n  }\n\n  return <DesktopHeader />;\n};\n","import { LogoIcon } from \"icons/LogoIcon\";\nimport { Flex, Text } from \"theme-ui\";\nimport { Link } from \"react-router-dom\";\n\nexport const FullLogo: React.FC = () => {\n  return (\n    <Link style={{ textDecoration: \"none\" }} to=\"/\">\n      <Flex sx={{ alignItems: \"center\" }}>\n        <LogoIcon size={42} />\n        <Text\n          sx={{\n            fontWeight: 600,\n            fontSize: 28,\n            lineHeight: \"38px\",\n            color: \"purple300\",\n          }}\n        >\n          poof\n        </Text>\n      </Flex>\n    </Link>\n  );\n};\n","import { Box, Flex, Text } from \"theme-ui\";\n\ninterface Props {\n  text: string;\n}\n\nexport const DividerWithText: React.FC<Props> = ({ text }) => {\n  return (\n    <Flex sx={{ alignItems: \"center\" }}>\n      <Box\n        sx={{\n          borderBottom: \"1.25px solid #E0E0E0\",\n          height: 0,\n          width: \"100%\",\n          mr: 4,\n        }}\n      />\n      <Text>{text}</Text>\n      <Box\n        sx={{\n          borderBottom: \"1.25px solid #E0E0E0\",\n          height: 0,\n          width: \"100%\",\n          ml: 4,\n        }}\n      />\n    </Flex>\n  );\n};\n","import React from \"react\";\nimport { PoofAccountGlobal } from \"hooks/poofAccount\";\nimport { useHistory, Link } from \"react-router-dom\";\nimport { Button, Text, Input, Box, Link as ThemeLink } from \"theme-ui\";\nimport { isPrivateKey } from \"utils/eth\";\nimport { toast } from \"react-toastify\";\nimport { Page } from \"state/global\";\nimport { DividerWithText } from \"components/DividerWithText\";\n\nexport const PickLogin: React.FC = () => {\n  const privateKeyInput = React.useRef<any>(null);\n  const passwordInput = React.useRef<any>(null);\n  const {\n    unlockPoofAccount,\n    savePoofAccount,\n    poofAccount,\n    disconnectPoofAccount,\n  } = PoofAccountGlobal.useContainer();\n  const history = useHistory();\n\n  if (poofAccount) {\n    return (\n      <form\n        onSubmit={(e) => {\n          const password = passwordInput?.current.value ?? \"\";\n          const res = unlockPoofAccount(password);\n          if (!res) {\n            toast(\"Incorrect password. Please try again.\");\n          } else {\n            history.push(`/${Page.HOME}`);\n          }\n          e.preventDefault();\n        }}\n      >\n        <Text variant=\"form\" sx={{ mb: 2 }}>\n          Password\n        </Text>\n        <Input\n          name=\"password\"\n          type=\"password\"\n          ref={passwordInput}\n          placeholder=\"Enter password\"\n          autoComplete=\"off\"\n          mb={2}\n          autoFocus\n        />\n        <Button\n          variant=\"tertiary\"\n          sx={{ width: \"100%\" }}\n          mt={2}\n          mb={3}\n          type=\"submit\"\n        >\n          Log in\n        </Button>\n        <Button\n          variant=\"secondary\"\n          onClick={disconnectPoofAccount}\n          sx={{ width: \"100%\" }}\n        >\n          <ThemeLink>Log out</ThemeLink>\n        </Button>\n      </form>\n    );\n  }\n\n  return (\n    <form\n      onSubmit={(e) => {\n        const privateKey = privateKeyInput?.current.value;\n        if (!isPrivateKey(privateKey)) {\n          toast(\"Invalid Poof private key. Please try again.\");\n        } else {\n          savePoofAccount(privateKey, () => {\n            history.push(`/${Page.HOME}`);\n          });\n        }\n        e.preventDefault();\n      }}\n    >\n      <Text variant=\"form\" sx={{ mb: 2 }}>\n        Poof private key\n      </Text>\n      <Input\n        name=\"password\"\n        type=\"password\"\n        ref={privateKeyInput}\n        placeholder=\"Enter your Poof private key here\"\n        autoComplete=\"off\"\n        mb={2}\n      />\n      <Button\n        variant=\"submit\"\n        sx={{ width: \"100%\" }}\n        mt={2}\n        mb={4}\n        type=\"submit\"\n      >\n        Log in\n      </Button>\n      <DividerWithText text=\"or\" />\n      <Box mt={4}>\n        <Link to={Page.SETUP_CREATE}>\n          <Button sx={{ width: \"100%\" }} variant=\"secondary\">\n            Create a Poof wallet\n          </Button>\n        </Link>\n      </Box>\n    </form>\n  );\n};\n","import React from \"react\";\nimport { Button, Flex, useColorMode, Heading } from \"theme-ui\";\nimport { Moon, Sun } from \"phosphor-react\";\nimport { FullLogo } from \"components/FullLogo\";\nimport { PickLogin } from \"pages/SetupAccount/PickLogin\";\nimport { PoofAccountGlobal } from \"hooks/poofAccount\";\n\nexport const MobileLogin: React.FC = () => {\n  const [colorMode, setColorMode] = useColorMode();\n  const { poofAccount } = PoofAccountGlobal.useContainer();\n\n  return (\n    <>\n      <Flex\n        sx={{\n          justifyContent: \"space-between\",\n          width: \"100%\",\n          mb: [\"25%\", \"10%\"],\n        }}\n      >\n        <FullLogo />\n        <Button\n          sx={{\n            width: \"36px\",\n            height: \"36px\",\n            backgroundColor: \"secondaryBackground\",\n            p: 0,\n            pt: 1,\n          }}\n          onClick={() => {\n            if (colorMode === \"dark\") {\n              setColorMode(\"default\");\n            } else {\n              setColorMode(\"dark\");\n            }\n          }}\n        >\n          {colorMode === \"dark\" ? (\n            <Moon size={24} color=\"#7C71FC\" />\n          ) : (\n            <Sun size={24} color=\"#7C71FC\" />\n          )}\n        </Button>\n      </Flex>\n      <Heading as=\"h1\" mb={6}>\n        Welcome {poofAccount ? \"back\" : \"\"}\n      </Heading>\n      <PickLogin />\n    </>\n  );\n};\n","import React from \"react\";\nimport { Box, Text } from \"theme-ui\";\nimport { PickLogin } from \"pages/SetupAccount/PickLogin\";\nimport { PoofAccountGlobal } from \"hooks/poofAccount\";\n\nexport const DesktopLogin: React.FC = () => {\n  const { poofAccount } = PoofAccountGlobal.useContainer();\n\n  return (\n    <Box mt=\"25%\">\n      <Text sx={{ display: \"block\" }} variant=\"title\">\n        Log In\n      </Text>\n      <Text sx={{ display: \"block\", mb: 4 }} variant=\"regularGray\">\n        {poofAccount ? (\n          <>Enter your password to unlock your Poof wallet</>\n        ) : (\n          <>Enter your Poof private key* to enter your Poof account</>\n        )}\n      </Text>\n      <PickLogin />\n      {!poofAccount && (\n        <Box mt={4}>\n          <Text variant=\"form\">\n            *Your key never leaves the browser and stays encrypted at rest. If\n            this is your first time here, you are encouraged to create a new\n            Poof wallet rather than use a private key from an existing wallet.\n          </Text>\n        </Box>\n      )}\n    </Box>\n  );\n};\n","import React from \"react\";\nimport { MobileLogin } from \"pages/SetupAccount/Login/MobileLogin\";\nimport { DesktopLogin } from \"pages/SetupAccount/Login/DesktopLogin\";\nimport { Breakpoint, useBreakpoint } from \"hooks/useBreakpoint\";\n\nexport const Login: React.FC = () => {\n  const breakpoint = useBreakpoint();\n\n  if (breakpoint === Breakpoint.MOBILE) {\n    return <MobileLogin />;\n  }\n\n  return <DesktopLogin />;\n};\n","export const ClipboardIcon = () => (\n  <svg\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M16 4H18C18.5304 4 19.0391 4.21071 19.4142 4.58579C19.7893 4.96086 20 5.46957 20 6V20C20 20.5304 19.7893 21.0391 19.4142 21.4142C19.0391 21.7893 18.5304 22 18 22H6C5.46957 22 4.96086 21.7893 4.58579 21.4142C4.21071 21.0391 4 20.5304 4 20V6C4 5.46957 4.21071 4.96086 4.58579 4.58579C4.96086 4.21071 5.46957 4 6 4H8\"\n      stroke=\"#F1F4F4\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      d=\"M15 2H9C8.44772 2 8 2.44772 8 3V5C8 5.55228 8.44772 6 9 6H15C15.5523 6 16 5.55228 16 5V3C16 2.44772 15.5523 2 15 2Z\"\n      stroke=\"#F1F4F4\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n  </svg>\n);\n","import { ClipboardIcon } from \"icons/ClipboardIcon\";\nimport React from \"react\";\nimport { Flex, Input, Text } from \"theme-ui\";\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\nimport { downloadFile } from \"utils/file\";\n\ninterface IProps {\n  privateKey: string;\n}\n\nexport const PoofPrivateKey: React.FC<IProps> = ({ privateKey }) => {\n  return (\n    <Flex>\n      <Input\n        sx={{\n          backgroundColor: \"box\",\n          borderRadius: \"6px 0px 0px 6px\",\n          border: \"none\",\n          maxWidth: \"80rem\",\n        }}\n        readOnly\n        value={privateKey}\n      />\n      <CopyToClipboard\n        onCopy={() => {\n          alert(\"Copied to clipboard.\");\n          downloadFile(\"poof_private_key\", privateKey);\n        }}\n        text={privateKey}\n      >\n        <Flex\n          sx={{\n            alignItems: \"center\",\n            borderRadius: \"0px 6px 6px 0px\",\n            backgroundColor: \"#7C71FD\",\n            p: \"14px\",\n            cursor: \"pointer\",\n          }}\n        >\n          <ClipboardIcon />\n          <Text\n            sx={{\n              pr: 2,\n              fontWeight: 600,\n              fontSize: 18,\n              lineHeight: \"20px\",\n              color: \"#F1F4F4\",\n              ml: 1,\n            }}\n          >\n            Copy\n          </Text>\n        </Flex>\n      </CopyToClipboard>\n    </Flex>\n  );\n};\n","// From https://stackoverflow.com/questions/13405129/javascript-create-and-save-file\nexport const downloadFile = (filename: string, text: string) => {\n  const file = new Blob([text], { type: \"text/plain\" });\n  const a = document.createElement(\"a\");\n  const url = URL.createObjectURL(file);\n  a.href = url;\n  a.download = filename;\n  document.body.appendChild(a);\n  a.click();\n  setTimeout(function () {\n    document.body.removeChild(a);\n    window.URL.revokeObjectURL(url);\n  }, 0);\n};\n","import React from \"react\";\nimport Web3 from \"web3\";\nimport { Button, Checkbox, Flex, Text } from \"theme-ui\";\nimport { useTranslation } from \"react-i18next\";\nimport { PoofPrivateKey } from \"components/PoofPrivateKey\";\nimport { PoofAccountGlobal } from \"hooks/poofAccount\";\nimport { Page } from \"state/global\";\nimport { useHistory, Link } from \"react-router-dom\";\n\nconst web3 = new Web3();\n\nexport const CreateAccount: React.FC = () => {\n  const { t } = useTranslation();\n  const privateKey = React.useMemo(\n    () => web3.eth.accounts.create().privateKey.slice(2),\n    []\n  );\n  const [confirmed, setConfirmed] = React.useState(false);\n  const { savePoofAccount } = PoofAccountGlobal.useContainer();\n  const history = useHistory();\n\n  return (\n    <Flex\n      sx={{\n        flexDirection: \"column\",\n        mt: [0, \"20%\"],\n      }}\n    >\n      <Text sx={{ mb: 2 }} variant=\"title\">\n        {t(\"setup.create.title\")}\n      </Text>\n      <Text sx={{ mb: 5 }} variant=\"regularGray\">\n        {t(\"setup.create.subtitle\")}\n      </Text>\n      <PoofPrivateKey privateKey={privateKey} />\n      <Flex\n        sx={{ mt: 4, alignItems: \"center\" }}\n        onClick={() => setConfirmed(!confirmed)}\n      >\n        <Checkbox readOnly checked={confirmed} />\n        <Text sx={{ pt: 1 }}>I backed up my Poof private key</Text>\n      </Flex>\n      <Flex sx={{ justifyContent: \"center\", mt: 4 }}>\n        <Link to={`/${Page.SETUP}`}>\n          <Button variant=\"secondary\" mr={2}>\n            Back\n          </Button>\n        </Link>\n        <Button\n          disabled={!confirmed}\n          onClick={() => {\n            savePoofAccount(privateKey, () => {\n              history.push(`/${Page.HOME}`);\n            });\n          }}\n        >\n          Continue\n        </Button>\n      </Flex>\n    </Flex>\n  );\n};\n","export const LoginIllustration: React.FC = () => {\n  return (\n    <svg\n      width=\"405\"\n      height=\"444\"\n      viewBox=\"0 0 405 444\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <rect\n        x=\"10.9775\"\n        y=\"172.642\"\n        width=\"184.848\"\n        height=\"308.079\"\n        rx=\"5.36957\"\n        transform=\"rotate(-30 10.9775 172.642)\"\n        fill=\"#ECE6FE\"\n      />\n      <path\n        d=\"M13.6623 177.292C12.1796 174.724 13.0595 171.44 15.6277 169.957L166.178 83.0369C168.746 81.5541 172.03 82.434 173.512 85.0023L180.56 97.209L20.7099 189.499L13.6623 177.292Z\"\n        fill=\"#CCC3FC\"\n      />\n      <g filter=\"url(#filter0_f)\">\n        <path\n          d=\"M251.99 361.592C251.372 360.523 250.393 360.48 249.171 360.876L248.765 361.011L247.39 358.63C248.288 358.187 248.984 358.405 249.354 358.96L250.005 358.584C249.452 357.626 248.321 357.386 247.052 358.044L246.612 357.282L246.268 357.48L246.703 358.234C245.451 359.031 245.17 360.111 245.734 361.087C246.26 361.999 247.168 362.219 248.409 361.812L248.711 361.712L250.22 364.326C249.172 364.831 248.402 364.507 247.948 363.827L247.297 364.203C247.914 365.272 249.101 365.653 250.558 364.911L250.993 365.665L251.337 365.466L250.907 364.722C252.244 363.901 252.656 362.746 251.99 361.592ZM248.274 361.171C247.326 361.483 246.74 361.263 246.413 360.695C246.08 360.119 246.162 359.402 247.041 358.82L248.378 361.136L248.274 361.171ZM250.569 364.136L249.098 361.588L249.315 361.512C250.15 361.241 250.876 361.231 251.322 362.003C251.74 362.728 251.543 363.524 250.569 364.136ZM257.019 361.07L257.679 360.688L256.664 358.931L257.408 358.501L257.097 357.962L256.353 358.391L253.921 354.178L253.26 354.559L252.642 360.534L252.954 361.073L256.004 359.312L257.019 361.07ZM253.256 360.179L253.749 355.406L255.693 358.772L253.256 360.179ZM259.451 350.985L260.89 353.478C260.188 353.077 259.332 353.162 258.615 353.576C257.49 354.225 256.876 355.609 257.88 357.349C258.878 359.078 260.39 359.248 261.515 358.598C262.231 358.184 262.733 357.485 262.737 356.677L263.21 357.495L263.87 357.114L260.111 350.604L259.451 350.985ZM261.304 357.975C260.449 358.469 259.28 358.313 258.512 356.983C257.744 355.653 258.194 354.563 259.049 354.069C259.896 353.581 261.083 353.726 261.851 355.056C262.619 356.386 262.151 357.487 261.304 357.975ZM266.899 355.489C267.876 354.925 268.619 354 268.007 352.94C267.534 352.122 266.81 352.155 265.897 352.422L264.877 352.738C264.177 352.944 263.785 352.823 263.57 352.451C263.28 351.949 263.556 351.417 264.273 351.004C264.933 350.623 265.536 350.572 266.038 351.163L266.596 350.84C265.978 349.92 264.986 349.898 263.963 350.488C262.902 351.101 262.46 351.988 262.949 352.835C263.325 353.486 263.979 353.653 264.944 353.369L265.979 353.057C266.608 352.88 267.053 352.834 267.343 353.336C267.713 353.978 267.278 354.576 266.608 354.963C265.966 355.333 265.181 355.477 264.696 354.852L264.091 355.201C264.716 356.154 265.83 356.107 266.899 355.489ZM268.815 347.687C267.624 348.374 267.17 349.219 267.728 350.187L267.814 350.336L268.447 349.97L268.388 349.868C268.017 349.226 268.255 348.692 269.082 348.215C269.891 347.747 270.504 347.778 270.993 348.624L271.143 348.885C271.224 349.024 271.06 349.255 270.591 349.625L269.611 350.377C268.628 351.143 268.301 351.865 268.768 352.674C269.278 353.558 270.171 353.601 271.101 353.064C272.291 352.376 272.439 351.386 272.414 351.065L272.442 351.049L272.926 351.886L273.549 351.526L271.653 348.243C270.982 347.081 270.08 346.957 268.815 347.687ZM271.911 350.215C272.126 350.587 272.106 351.776 270.915 352.464C270.33 352.802 269.745 352.842 269.407 352.256C269.16 351.828 269.23 351.391 270.025 350.771L270.921 350.067C271.326 349.759 271.495 349.537 271.449 349.415L271.911 350.215ZM276.944 349.69C278.348 348.879 278.84 347.541 278.175 346.388C277.579 345.355 276.528 345.255 275.737 345.538C276.326 344.925 276.4 344.151 276.008 343.472C275.476 342.551 274.376 342.257 273.111 342.987C271.855 343.712 271.429 344.863 272.229 346.249L272.861 345.884C272.239 344.805 272.625 344.036 273.425 343.574C274.253 343.096 275.002 343.234 275.4 343.922C275.722 344.481 275.735 345.254 274.609 345.904L274.377 346.038L274.677 346.559L274.947 346.403C276.054 345.764 276.995 345.891 277.483 346.737C277.999 347.63 277.56 348.566 276.639 349.097C275.616 349.688 274.644 349.443 274.07 348.472L273.438 348.837C274.183 350.106 275.465 350.544 276.944 349.69ZM280.157 347.711L284.389 345.268L284.061 344.7L280.573 346.714L280.536 346.649C280.079 345.858 280.397 344.968 281.06 343.755C281.698 342.605 282.216 341.612 281.582 340.514C280.975 339.463 279.773 339.141 278.498 339.877C277.187 340.634 276.897 341.892 277.568 343.055L277.665 343.222L278.316 342.846L278.241 342.716C277.688 341.758 278.007 340.916 278.826 340.444C279.644 339.971 280.482 340.133 280.938 340.923C281.432 341.779 280.956 342.587 280.329 343.755C279.466 345.332 279.352 346.316 280.012 347.46L280.157 347.711ZM288.397 342.953L289.058 342.572L288.043 340.814L288.787 340.385L288.476 339.845L287.732 340.275L285.299 336.062L284.639 336.443L284.021 342.417L284.332 342.957L287.383 341.195L288.397 342.953ZM284.635 342.063L285.127 337.289L287.071 340.656L284.635 342.063ZM289.168 333.729C287.894 334.464 287.454 335.871 288.26 337.266C289.049 338.634 290.409 338.927 291.609 338.235C292.399 337.778 292.889 337.037 292.826 336.155C293.628 337.565 294.057 339.103 292.671 339.903C291.825 340.392 291.07 340.158 290.676 339.604L290.09 339.942C290.57 340.731 291.671 341.199 292.973 340.448C294.843 339.368 294.352 337.358 293.364 335.647C292.08 333.424 290.591 332.907 289.168 333.729ZM291.414 337.64C290.447 338.198 289.472 337.906 288.898 336.911C288.318 335.906 288.518 334.836 289.485 334.277C290.443 333.724 291.485 334.09 292.06 335.085C292.634 336.08 292.382 337.082 291.414 337.64ZM298.875 337.028C300.298 336.207 300.712 334.454 299.434 332.241C298.167 330.046 296.437 329.52 295.014 330.341C293.591 331.163 293.173 332.93 294.44 335.124C295.718 337.338 297.452 337.85 298.875 337.028ZM298.547 336.461C297.394 337.127 296.071 336.489 295.072 334.759C294.079 333.039 294.188 331.574 295.342 330.909C296.495 330.243 297.808 330.886 298.802 332.606C299.8 334.336 299.7 335.795 298.547 336.461Z\"\n          fill=\"#5352FC\"\n        />\n      </g>\n      <rect\n        x=\"0.916871\"\n        y=\"170.71\"\n        width=\"183.505\"\n        height=\"306.737\"\n        rx=\"4.69838\"\n        transform=\"rotate(-30 0.916871 170.71)\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M40.9707 196.401L176.407 118.207\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M156.417 396.359L291.853 318.165\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M166.807 413.153L169.03 411.87C171.076 410.689 171.432 408.921 170.229 406.838C169.026 404.754 167.317 404.179 165.271 405.36L163.048 406.643L166.807 413.153ZM167.286 411.749L164.504 406.931L165.667 406.26C167.211 405.369 168.293 405.761 169.243 407.407C170.188 409.044 169.992 410.186 168.448 411.077L167.286 411.749ZM176.026 404.507C175.049 402.815 173.662 402.624 172.415 403.343C171.169 404.063 170.544 405.428 171.569 407.205C172.579 408.953 174.061 409.114 175.372 408.357C176.358 407.788 176.919 406.869 176.589 405.633L175.752 406.116C175.875 406.802 175.571 407.263 174.976 407.606C174.083 408.122 173.288 407.948 172.622 406.944L176.202 404.877C176.162 404.764 176.123 404.675 176.026 404.507ZM172.235 406.275C171.791 405.291 172.049 404.534 172.83 404.083C173.667 403.6 174.438 403.862 174.951 404.707L172.235 406.275ZM178.171 400.02C177.455 400.434 177.029 401.113 177.047 401.81L176.606 401.047L175.667 401.59L179.48 408.193L180.419 407.651L178.958 405.121C179.553 405.485 180.354 405.456 181.071 405.042C182.149 404.419 182.788 403.034 181.779 401.285C180.764 399.528 179.25 399.397 178.171 400.02ZM180.419 404.365C179.675 404.794 178.638 404.674 177.956 403.492C177.274 402.311 177.688 401.353 178.432 400.923C179.185 400.488 180.204 400.62 180.886 401.801C181.568 402.982 181.172 403.93 180.419 404.365ZM186.387 401.973C187.596 401.275 188.298 399.828 187.3 398.098C186.301 396.368 184.696 396.253 183.487 396.951C182.288 397.643 181.585 399.09 182.584 400.82C183.583 402.55 185.187 402.666 186.387 401.973ZM185.931 401.182C185.149 401.633 184.164 401.495 183.477 400.305C182.79 399.114 183.163 398.192 183.944 397.741C184.725 397.29 185.719 397.423 186.407 398.613C187.094 399.804 186.712 400.731 185.931 401.182ZM191.487 399.029C192.547 398.416 193.278 397.449 192.66 396.379C192.183 395.552 191.414 395.574 190.525 395.839L189.496 396.16C188.939 396.333 188.592 396.248 188.404 395.923C188.168 395.513 188.405 395.066 189.01 394.717C189.587 394.384 190.105 394.358 190.541 394.899L191.332 394.443C190.711 393.475 189.703 393.362 188.578 394.012C187.462 394.656 187.002 395.579 187.512 396.462C187.888 397.113 188.557 397.347 189.592 397.035L190.612 396.719C191.132 396.567 191.488 396.56 191.713 396.951C192.014 397.472 191.678 397.963 191.083 398.307C190.487 398.651 189.847 398.723 189.429 398.171L188.583 398.659C189.212 399.685 190.324 399.7 191.487 399.029ZM191.602 391.274C191.899 391.102 192.02 390.71 191.843 390.403C191.666 390.096 191.266 390.005 190.968 390.177C190.67 390.348 190.55 390.741 190.727 391.047C190.904 391.354 191.304 391.446 191.602 391.274ZM194.412 397.216L195.351 396.673L192.559 391.837L191.62 392.379L194.412 397.216ZM198.24 394.076C197.756 394.355 197.456 394.243 197.182 393.769L195.614 391.053L196.572 390.5L196.148 389.765L195.19 390.318L194.487 389.1L193.547 389.642L194.251 390.86L193.46 391.317L193.884 392.052L194.675 391.595L196.334 394.469C196.882 395.418 197.648 395.434 198.438 394.978C198.643 394.86 198.838 394.747 199.027 394.601L198.603 393.866L198.24 394.076Z\"\n        fill=\"#5352FC\"\n      />\n      <rect\n        x=\"49.0249\"\n        y=\"210.352\"\n        width=\"102.022\"\n        height=\"13.4239\"\n        rx=\"2.68479\"\n        transform=\"rotate(-30 49.0249 210.352)\"\n        fill=\"#CCC3FC\"\n      />\n      <rect\n        x=\"63.4556\"\n        y=\"235.347\"\n        width=\"79.8724\"\n        height=\"13.4239\"\n        rx=\"2.68479\"\n        transform=\"rotate(-30 63.4556 235.347)\"\n        fill=\"#CCC3FC\"\n      />\n      <path\n        d=\"M75.7105 239.122C77.809 236.748 76.7353 233.105 80.7334 230.797C85.0699 228.293 87.7671 231.773 91.1541 229.818C95.4905 227.314 94.6101 222.785 98.5129 220.532C102.849 218.028 105.898 221.306 109.367 219.303C112.836 217.3 113.691 211.769 117.593 209.516C121.496 207.262 124.545 210.54 130.182 207.285\"\n        stroke=\"#5352FC\"\n        strokeWidth=\"1.34239\"\n        strokeLinecap=\"round\"\n      />\n      <path\n        d=\"M164.247 22.1612C163.55 21.8957 163.55 20.6696 164.246 20.4016C167.219 19.2574 172.116 17.0648 174.702 14.2186C177.09 11.5902 179.066 5.94485 180.084 2.61249C180.318 1.84758 181.374 1.83419 181.622 2.59345C182.709 5.9233 184.796 11.5852 187.155 14.2186C189.515 16.8526 194.589 19.1821 197.572 20.3955C198.252 20.6721 198.241 21.851 197.556 22.1123C194.561 23.2545 189.468 25.4823 187.029 28.205C184.629 30.8836 182.658 36.4287 181.62 39.7903C181.38 40.5674 180.286 40.5626 180.051 39.7837C179.037 36.4227 177.104 30.8856 174.702 28.205C172.294 25.5175 167.279 23.3163 164.247 22.1612Z\"\n        fill=\"#ECE6FE\"\n      />\n      <rect\n        x=\"220.824\"\n        y=\"10.0679\"\n        width=\"183.908\"\n        height=\"308.079\"\n        rx=\"9.24238\"\n        fill=\"white\"\n      />\n      <rect\n        x=\"220.824\"\n        y=\"11.4103\"\n        width=\"183.505\"\n        height=\"306.737\"\n        rx=\"4.69838\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M193.32 76.3128C193.291 76.3008 193.215 76.239 193.214 76.0545C193.214 75.87 193.291 75.8057 193.321 75.7929C195.102 75.0402 197.525 73.8244 198.949 72.257C199.638 71.499 200.246 70.4105 200.758 69.2948C201.275 68.1686 201.715 66.9651 202.055 65.9394C202.068 65.9019 202.12 65.8269 202.262 65.8251C202.404 65.8234 202.456 65.8968 202.469 65.9328C202.829 66.9584 203.291 68.1635 203.822 69.2912C204.348 70.4084 204.964 71.4968 205.642 72.2536C206.32 73.0105 207.296 73.6979 208.297 74.2854C209.308 74.8785 210.388 75.3944 211.307 75.796C211.339 75.81 211.405 75.8679 211.403 76.0271C211.402 76.1864 211.334 76.2446 211.301 76.2584C210.377 76.6408 209.29 77.1377 208.268 77.7228C207.255 78.3028 206.265 78.9923 205.565 79.7734C204.884 80.5339 204.28 81.6011 203.77 82.6984C203.256 83.8048 202.816 84.9859 202.472 86.0069C202.461 86.0401 202.406 86.1237 202.244 86.123C202.083 86.1223 202.028 86.0382 202.017 86.0045C201.68 84.9839 201.247 83.804 200.738 82.6985C200.234 81.602 199.634 80.535 198.952 79.7734C198.267 79.009 197.303 78.3336 196.311 77.763C195.311 77.1876 194.242 76.6961 193.32 76.3128Z\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M126.201 55.5057C126.172 55.4937 126.095 55.4318 126.095 55.2474C126.095 55.0629 126.172 54.9986 126.202 54.9858C127.982 54.233 130.405 53.0172 131.829 51.4499C132.518 50.6919 133.126 49.6033 133.638 48.4877C134.155 47.3615 134.596 46.158 134.936 45.1323C134.948 45.0948 135 45.0197 135.142 45.018C135.285 45.0162 135.337 45.0897 135.349 45.1256C135.709 46.1512 136.171 47.3563 136.702 48.4841C137.229 49.6012 137.844 50.6897 138.522 51.4464C139.201 52.2034 140.176 52.8907 141.177 53.4783C142.188 54.0713 143.268 54.5873 144.187 54.9889C144.219 55.0029 144.285 55.0608 144.284 55.22C144.282 55.3793 144.215 55.4374 144.181 55.4513C143.257 55.8336 142.171 56.3306 141.149 56.9156C140.135 57.4957 139.145 58.1852 138.445 58.9663C137.764 59.7268 137.161 60.794 136.651 61.8913C136.136 62.9976 135.696 64.1787 135.352 65.1998C135.341 65.233 135.286 65.3165 135.125 65.3159C134.963 65.3152 134.908 65.2311 134.897 65.1973C134.56 64.1768 134.127 62.9969 133.619 61.8913C133.114 60.7949 132.515 59.7278 131.832 58.9663C131.148 58.2019 130.183 57.5265 129.191 56.9559C128.191 56.3805 127.123 55.889 126.201 55.5057Z\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M158.411 21.4921C158.385 21.4823 158.368 21.4672 158.352 21.4389C158.333 21.4049 158.317 21.35 158.317 21.2823C158.317 21.2147 158.333 21.1593 158.352 21.1247C158.369 21.0956 158.386 21.08 158.412 21.07C159.913 20.4924 161.907 19.6475 163.857 18.5835C165.798 17.5245 167.741 16.2249 169.106 14.722C170.381 13.3185 171.511 11.1581 172.438 8.98343C173.373 6.79312 174.13 4.52068 174.643 2.84054L174.043 2.61249L174.643 2.84054C174.652 2.81037 174.666 2.79172 174.689 2.7755C174.716 2.75595 174.76 2.739 174.814 2.73833C174.868 2.73765 174.912 2.7535 174.939 2.77221C174.962 2.78767 174.976 2.80572 174.986 2.83552C175.534 4.5133 176.336 6.7871 177.302 8.97931C178.262 11.1562 179.411 13.3166 180.667 14.7185C181.923 16.1207 183.859 17.403 185.81 18.4741C187.774 19.5528 189.812 20.4483 191.315 21.0597C191.342 21.0705 191.358 21.0863 191.372 21.1117C191.388 21.1424 191.403 21.1915 191.402 21.2519C191.401 21.3123 191.386 21.3613 191.369 21.392C191.354 21.4175 191.337 21.433 191.31 21.4433C189.8 22.0193 187.753 22.8718 185.771 23.9279C183.801 24.9772 181.838 26.2565 180.54 27.7051C179.263 29.1306 178.133 31.274 177.202 33.4352C176.265 35.6103 175.504 37.8649 174.981 39.56C174.972 39.5892 174.958 39.6082 174.933 39.6254C174.903 39.6461 174.855 39.6638 174.796 39.6635C174.736 39.6633 174.688 39.6451 174.658 39.6241C174.633 39.6067 174.619 39.5874 174.611 39.5581C174.099 37.863 173.353 35.6099 172.428 33.436C171.509 31.2759 170.388 29.1327 169.109 27.7051C167.827 26.2743 165.892 25.0105 163.941 23.9705C161.977 22.9237 159.939 22.0745 158.411 21.4921Z\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M231.331 55.2676C231.301 55.2539 231.213 55.1751 231.212 54.9578C231.212 54.7405 231.3 54.6583 231.332 54.6434C232.459 54.1158 233.793 53.3629 234.651 52.4185C235.482 51.5046 236.161 49.9278 236.628 48.6379C236.642 48.5991 236.707 48.5124 236.874 48.5104C237.041 48.5084 237.105 48.5932 237.119 48.6298C237.61 49.923 238.312 51.5026 239.129 52.415C239.947 53.3279 241.363 54.1116 242.522 54.6598C242.555 54.6753 242.631 54.7468 242.629 54.9332C242.628 55.1198 242.55 55.1922 242.515 55.2079C241.348 55.7359 239.919 56.5044 239.075 57.4469C238.264 58.352 237.598 59.8555 237.13 61.1197C237.117 61.1544 237.047 61.2507 236.857 61.25C236.667 61.2493 236.597 61.1523 236.584 61.117C236.123 59.8544 235.466 58.3531 234.654 57.4469C233.838 56.5359 232.475 55.7906 231.331 55.2676Z\"\n        fill=\"#7C71FC\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M235.074 31.0801C235.029 31.0594 234.989 30.9954 234.988 30.8971C234.988 30.7988 235.029 30.7338 235.074 30.7125C235.515 30.5076 236.039 30.2133 236.366 29.8479C236.68 29.4978 236.941 28.8737 237.121 28.3627C237.139 28.3107 237.192 28.2678 237.271 28.2669C237.35 28.2659 237.403 28.3074 237.422 28.3586C237.611 28.8709 237.882 29.4969 238.191 29.847C238.501 30.1974 239.055 30.5039 239.507 30.7176C239.553 30.7389 239.589 30.7997 239.588 30.8886C239.588 30.9777 239.55 31.0383 239.504 31.059C239.048 31.2642 238.49 31.564 238.17 31.9258C237.863 32.2743 237.606 32.872 237.426 33.3743C237.407 33.4259 237.351 33.4709 237.265 33.4705C237.18 33.4702 237.124 33.4247 237.105 33.3729C236.928 32.8712 236.675 32.2745 236.367 31.9258C236.057 31.5753 235.522 31.2838 235.074 31.0801Z\"\n        fill=\"#7C71FC\"\n        stroke=\"white\"\n        strokeWidth=\"0.335598\"\n      />\n      <path\n        d=\"M233.904 24.9029L233.904 24.9038C233.556 25.3978 233.298 25.9932 233.127 26.6864C232.956 27.3621 232.871 28.1124 232.871 28.9361V32.5924C232.871 34.3544 233.208 35.747 233.903 36.7505L233.903 36.7505L233.905 36.7532C234.626 37.7521 235.7 38.2447 237.097 38.2447C238.493 38.2447 239.559 37.7521 240.264 36.7519C240.976 35.7481 241.322 34.3549 241.322 32.5924V28.9361C241.322 28.1125 241.237 27.3622 241.067 26.6864C240.896 25.9931 240.629 25.3974 240.264 24.9033C239.915 24.3916 239.47 23.993 238.929 23.7097C238.4 23.4238 237.787 23.2838 237.097 23.2838C236.39 23.2838 235.768 23.4237 235.238 23.7102C234.714 23.9939 234.269 24.3925 233.904 24.9029ZM231.103 28.7837C231.103 26.5065 231.64 24.7646 232.691 23.5352C233.739 22.3091 235.2 21.6896 237.097 21.6896C238.993 21.6896 240.454 22.3091 241.503 23.5352C242.554 24.7646 243.09 26.5065 243.09 28.7837V32.7447C243.09 35.0915 242.553 36.8483 241.504 38.0423C240.456 39.2352 238.995 39.8388 237.097 39.8388C235.199 39.8388 233.737 39.2352 232.689 38.0423C231.64 36.8483 231.103 35.0915 231.103 32.7447V28.7837Z\"\n        fill=\"#7C71FC\"\n        stroke=\"white\"\n        strokeWidth=\"0.335598\"\n      />\n      <path\n        d=\"M382.675 274.389C382.645 274.375 382.557 274.296 382.557 274.079C382.556 273.862 382.645 273.78 382.677 273.765C383.804 273.237 385.138 272.484 385.996 271.54C386.826 270.626 387.505 269.049 387.973 267.759C387.987 267.72 388.051 267.634 388.218 267.632C388.385 267.63 388.449 267.715 388.463 267.751C388.954 269.044 389.656 270.624 390.473 271.536C391.291 272.449 392.707 273.233 393.866 273.781C393.899 273.797 393.975 273.868 393.974 274.055C393.972 274.241 393.894 274.314 393.859 274.329C392.692 274.857 391.263 275.626 390.419 276.568C389.608 277.473 388.943 278.977 388.474 280.241C388.461 280.276 388.391 280.372 388.201 280.371C388.011 280.371 387.941 280.274 387.928 280.238C387.468 278.976 386.811 277.474 385.999 276.568C385.183 275.657 383.819 274.912 382.675 274.389Z\"\n        fill=\"#7C71FC\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M386.033 298.981C385.988 298.96 385.948 298.896 385.947 298.798C385.947 298.699 385.988 298.634 386.033 298.613C386.474 298.408 386.998 298.114 387.325 297.748C387.639 297.398 387.9 296.774 388.08 296.263C388.098 296.211 388.151 296.168 388.23 296.167C388.309 296.166 388.362 296.208 388.381 296.259C388.57 296.771 388.841 297.397 389.15 297.748C389.46 298.098 390.013 298.404 390.466 298.618C390.512 298.639 390.548 298.7 390.547 298.789C390.547 298.878 390.509 298.939 390.463 298.959C390.007 299.165 389.449 299.465 389.129 299.826C388.822 300.175 388.565 300.773 388.385 301.275C388.366 301.326 388.31 301.371 388.224 301.371C388.139 301.371 388.083 301.325 388.064 301.273C387.887 300.772 387.634 300.175 387.326 299.826C387.016 299.476 386.481 299.184 386.033 298.981Z\"\n        fill=\"#7C71FC\"\n        stroke=\"white\"\n        strokeWidth=\"0.335598\"\n      />\n      <path\n        d=\"M384.863 292.804L384.863 292.804C384.515 293.298 384.257 293.894 384.086 294.587C383.915 295.263 383.83 296.013 383.83 296.837V300.493C383.83 302.255 384.167 303.648 384.862 304.651L384.862 304.651L384.864 304.654C385.585 305.653 386.659 306.145 388.056 306.145C389.452 306.145 390.518 305.653 391.223 304.653C391.935 303.649 392.281 302.256 392.281 300.493V296.837C392.281 296.013 392.196 295.263 392.026 294.587C391.855 293.894 391.588 293.298 391.223 292.804C390.874 292.292 390.429 291.894 389.888 291.61C389.359 291.324 388.746 291.184 388.056 291.184C387.349 291.184 386.727 291.324 386.197 291.611C385.673 291.895 385.228 292.293 384.863 292.804ZM382.062 296.684C382.062 294.407 382.599 292.665 383.65 291.436C384.698 290.21 386.159 289.59 388.056 289.59C389.952 289.59 391.413 290.21 392.462 291.436C393.513 292.665 394.049 294.407 394.049 296.684V300.645C394.049 302.992 393.512 304.749 392.463 305.943C391.415 307.136 389.954 307.739 388.056 307.739C386.157 307.739 384.696 307.136 383.648 305.943C382.599 304.749 382.062 302.992 382.062 300.645V296.684Z\"\n        fill=\"#7C71FC\"\n        stroke=\"white\"\n        strokeWidth=\"0.335598\"\n      />\n      <path\n        d=\"M315.951 106.496H335.635L355.32 126.18L355.147 160.887H335.635V126.18L315.951 106.496ZM315.951 106.496H310.598L302.31 109.95L297.993 106.323H292.123L277.791 125.662V161.06M333.736 108.914L351.693 126.18V157.606H339.261V126.18L322.167 108.914H333.736Z\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M277.273 160.714H293.849L328.901 119.619L320.786 111.331L283.834 154.498\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M253.978 94.3559C253.672 94.0143 253.233 93.7314 252.818 93.5119C253.227 93.2896 253.658 93.0034 253.975 92.6547C254.281 92.3183 254.534 91.8273 254.731 91.3634C254.934 91.8271 255.191 92.3169 255.49 92.6512C255.79 92.9859 256.23 93.2733 256.645 93.4996C256.224 93.7221 255.776 94.0095 255.466 94.3559C255.165 94.6912 254.915 95.1685 254.72 95.6222C254.527 95.1689 254.279 94.6918 253.978 94.3559Z\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M275.044 80.1971C274.738 79.8555 274.298 79.5726 273.883 79.353C274.292 79.1307 274.724 78.8446 275.04 78.4959C275.346 78.1595 275.6 77.6685 275.796 77.2046C275.999 77.6683 276.256 78.1581 276.556 78.4924C276.856 78.8271 277.295 79.1145 277.711 79.3408C277.289 79.5632 276.842 79.8507 276.531 80.1971C276.231 80.5324 275.981 81.0097 275.786 81.4634C275.593 81.0101 275.345 80.533 275.044 80.1971Z\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M260.95 78.8336C260.77 78.6325 260.54 78.4627 260.313 78.3234C260.537 78.182 260.763 78.0109 260.947 77.8085C261.127 77.6104 261.279 77.3543 261.404 77.1001C261.532 77.3537 261.684 77.6085 261.86 77.8051C262.037 78.0018 262.265 78.1722 262.493 78.3143C262.26 78.4564 262.025 78.6294 261.842 78.8336C261.667 79.029 261.518 79.2764 261.395 79.5221C261.273 79.2766 261.125 79.0294 260.95 78.8336Z\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M306.468 80.5958H311.648L313.03 81.8045\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M297.835 80.5958H303.36\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M306.468 91.8192H302.842L304.742 87.6752\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M302.038 96.6523C302.038 96.6523 303.193 97.9947 305.028 97.9947C306.862 97.9947 308.079 96.6523 308.079 96.6523\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M295.072 91.6467L299.043 94.2368C299.043 94.2368 299.043 96.8268 299.043 97.8628C299.043 98.8988 300.252 99.4168 304.223 102.698\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M317.347 89.5746L314.239 91.992M314.239 91.992V97.8627C314.239 100.28 313.746 101.823 308.713 104.079C303.706 106.324 300.598 107.705 299.907 108.05M314.239 91.992L311.13 94.2367V98.0354C311.13 98.8987 310.923 99.8311 307.332 101.489C303.74 103.146 301.979 103.964 301.116 104.424C300.252 104.885 297.835 106.151 297.835 106.151\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M295.245 99.5895L301.115 104.252\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M317.173 97.5174C317.173 102.49 315.274 104.252 310.439 106.496L302.324 109.95L295.072 103.906V84.9126V77.1425H311.303L317.173 83.0132V84.9126V87.6753C317.173 88.884 317.173 92.5446 317.173 97.5174ZM317.173 97.5174V102.87C317.116 104.021 317.691 106.496 320.454 106.496C322.626 106.496 325.546 106.496 327.534 106.496M314.929 77.1425L320.454 83.0132V102.87C320.454 105.115 321.801 106.496 325.807 106.496C326.505 106.496 327.074 106.496 327.534 106.496M328.915 106.496C327.246 106.496 323.908 106.185 323.908 102.87C323.908 99.5549 323.908 88.0782 323.908 83.0132L318.382 77.1425M328.915 106.496C328.546 106.496 328.074 106.496 327.534 106.496M328.915 106.496C329.438 106.496 329.709 106.496 327.534 106.496M322.181 77.1425L327.534 83.0132V102.87C327.591 104.079 327.879 106.496 332.714 106.496C333.145 106.496 331.62 106.496 327.534 106.496\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M291.791 76.9697L291.791 102.697C291.791 104.769 287.82 106.324 286.438 106.324C285.057 106.324 291.791 106.324 291.791 106.324C293.172 106.324 295.072 104.908 295.072 102.697\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M291.791 73.1711L286.957 76.9699H330.815L326.67 73.1711M291.791 73.1711H326.67M291.791 73.1711V67.8184L319.418 48.9974C320.051 49.2852 322.872 50.586 329.088 53.4868C335.304 56.3877 335.937 61.9476 335.477 64.365L326.67 59.7029L321.318 67.8184L326.67 73.1711\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M298.18 84.7399C298.18 83.4048 299.339 82.3225 300.77 82.3225C302.2 82.3225 303.36 83.4048 303.36 84.7399\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M306.814 84.7399C306.814 83.4048 307.973 82.3225 309.404 82.3225C310.834 82.3225 311.994 83.4048 311.994 84.7399\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M264.841 160.887V108.525V98.7261L266.74 98.7261L268.64 98.7261V160.887H264.841Z\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M259.661 88.0207L266.74 80.7686M259.661 88.0207L262.941 98.5535M259.661 88.0207L263.805 91.1287M266.74 88.7113L263.805 91.1287M266.74 88.7113L269.675 91.1287M266.74 88.7113V80.7686M263.805 91.1287L265.531 95.9635M265.531 95.9635H266.74M265.531 95.9635L262.941 98.5535M267.949 95.9635L269.675 91.1287M267.949 95.9635H266.74M267.949 95.9635L270.366 98.5535M269.675 91.1287L273.82 88.0207M266.74 80.7686L273.82 88.0207M273.82 88.0207L270.366 98.5535M270.366 98.5535H266.74M266.74 98.5535H262.941M266.74 98.5535V95.9635\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M268.812 106.842L274.337 104.597L275.201 99.0714C274.971 99.5894 274.234 100.833 273.129 101.661C272.024 102.49 269.79 103.388 268.812 103.733\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M264.668 106.842L259.143 104.597L258.279 99.0714C258.509 99.5894 259.246 100.833 260.351 101.661C261.456 102.49 263.69 103.388 264.668 103.733\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M268.64 103.906L266.74 105.633L264.841 103.906\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M268.64 107.014L266.74 108.741L264.841 107.014\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M268.64 103.906L266.74 105.633L264.841 103.906\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M268.64 107.014L266.74 108.741L264.841 107.014\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M268.64 100.798L266.74 102.525L264.841 100.798\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <rect\n        x=\"260.006\"\n        y=\"127.734\"\n        width=\"14.8496\"\n        height=\"13.1229\"\n        fill=\"white\"\n      />\n      <path\n        d=\"M265.532 133.26H261.133C259.661 133.26 259.661 136.023 261.133 136.023M274.683 129.461L272.439 127.389H262.769C262.769 128.368 263.091 130.325 264.377 130.325H269.042C269.042 132.569 270.373 133.26 271.403 133.26M274.683 129.461V138.785M274.683 129.461C274.683 129.058 275.547 128.425 276.237 128.425C276.928 128.425 277.791 129.116 277.791 129.461V138.785C277.791 139.131 276.928 139.821 276.237 139.821C275.547 139.821 274.683 139.131 274.683 138.785M264.841 130.325H261.042C259.661 130.325 259.661 133.26 261.042 133.26M274.683 138.785L272.417 141.203H260.048C260.048 140.339 260.01 138.785 261.38 138.785H265.532M265.532 136.023H261.087C259.518 136.023 259.78 138.785 261.087 138.785\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M318.713 119.101V123.245\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M316.642 121.173H320.786\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M307.663 132.224V136.368\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M305.591 134.296H309.735\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M295.576 145.692V149.836\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M293.504 147.764H297.648\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <circle\n        cx=\"313.016\"\n        cy=\"127.562\"\n        r=\"1.5735\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <circle\n        cx=\"301.619\"\n        cy=\"141.721\"\n        r=\"1.5735\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <circle\n        cx=\"289.532\"\n        cy=\"155.189\"\n        r=\"1.5735\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M277.944 131.168H280.573V137.078H277.944V131.168Z\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M280.726 160.542V125.835L294.885 106.323\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M283.834 160.542V125.835L297.993 106.323\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <circle\n        cx=\"302.828\"\n        cy=\"112.194\"\n        r=\"2.09151\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M300.583 111.849H293.849\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M305.059 111.754L316.642 107.187\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M304.728 111.849H320.268\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M300.411 111.504L296.267 109.086\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M327.52 118.065L290.741 160.887\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M299.202 154.326H320.268M292.468 160.714L335.635 160.887V154.326H333.736\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M291.95 144.908C291.95 137.699 289 130.326 283.834 126.081\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M294.54 142.317C294.54 135.108 290.727 127.908 285.561 123.663\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M335.635 127.118C331.628 130.411 328.954 135.587 327.956 141.108\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M333.909 124.699C329.28 128.503 325.738 134.679 325.051 141.108\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M348.606 150.141C348.565 150.015 348.457 149.924 348.327 149.905L346.525 149.645L345.719 148.021C345.602 147.785 345.217 147.785 345.1 148.021L344.295 149.645L342.493 149.905C342.362 149.924 342.254 150.015 342.214 150.141C342.173 150.266 342.207 150.403 342.302 150.495L343.605 151.759L343.297 153.543C343.275 153.672 343.328 153.803 343.434 153.88C343.54 153.958 343.682 153.968 343.798 153.907L345.41 153.064L347.022 153.907C347.072 153.934 347.127 153.947 347.182 153.947C347.254 153.947 347.325 153.924 347.385 153.88C347.492 153.803 347.545 153.672 347.522 153.543L347.215 151.759L348.518 150.495C348.612 150.403 348.646 150.266 348.606 150.141ZM346.603 151.39C346.521 151.469 346.484 151.584 346.503 151.696L346.723 152.971L345.57 152.368C345.52 152.342 345.465 152.329 345.41 152.329C345.355 152.329 345.3 152.342 345.25 152.368L344.096 152.971L344.316 151.696C344.336 151.584 344.298 151.469 344.216 151.39L343.287 150.488L344.573 150.302C344.685 150.286 344.782 150.216 344.833 150.114L345.41 148.951L345.986 150.114C346.037 150.216 346.134 150.286 346.246 150.302L347.532 150.488L346.603 151.39Z\"\n        fill=\"#7C71FC\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"0.503397\"\n      />\n      <path\n        d=\"M329.957 153.595C329.917 153.47 329.809 153.379 329.678 153.36L327.876 153.099L327.071 151.475C326.954 151.24 326.569 151.24 326.452 151.475L325.646 153.099L323.844 153.36C323.714 153.379 323.606 153.47 323.565 153.595C323.525 153.72 323.559 153.858 323.653 153.949L324.956 155.213L324.649 156.997C324.626 157.127 324.679 157.257 324.786 157.335C324.892 157.412 325.033 157.422 325.149 157.362L326.761 156.518L328.373 157.362C328.424 157.388 328.479 157.401 328.533 157.401C328.605 157.401 328.677 157.379 328.737 157.335C328.843 157.257 328.896 157.127 328.874 156.997L328.566 155.213L329.869 153.949C329.964 153.858 329.998 153.72 329.957 153.595ZM327.955 154.844C327.873 154.924 327.835 155.038 327.855 155.151L328.075 156.426L326.921 155.822C326.871 155.796 326.816 155.783 326.761 155.783C326.706 155.783 326.651 155.796 326.601 155.822L325.448 156.426L325.668 155.151C325.687 155.038 325.65 154.924 325.568 154.844L324.639 153.943L325.925 153.757C326.037 153.741 326.134 153.67 326.185 153.568L326.761 152.406L327.338 153.568C327.389 153.67 327.486 153.741 327.598 153.757L328.884 153.943L327.955 154.844Z\"\n        fill=\"#7C71FC\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"0.503397\"\n      />\n      <path\n        d=\"M348.606 139.432C348.565 139.307 348.457 139.215 348.327 139.196L346.525 138.936L345.719 137.312C345.602 137.077 345.217 137.077 345.1 137.312L344.295 138.936L342.493 139.196C342.362 139.215 342.254 139.307 342.214 139.432C342.173 139.557 342.207 139.695 342.302 139.786L343.605 141.05L343.297 142.834C343.275 142.963 343.328 143.094 343.434 143.172C343.54 143.249 343.682 143.259 343.798 143.199L345.41 142.355L347.022 143.199C347.072 143.225 347.127 143.238 347.182 143.238C347.254 143.238 347.325 143.216 347.385 143.172C347.492 143.094 347.545 142.963 347.522 142.834L347.215 141.05L348.518 139.786C348.612 139.695 348.646 139.557 348.606 139.432ZM346.603 140.681C346.521 140.76 346.484 140.875 346.503 140.988L346.723 142.263L345.57 141.659C345.52 141.633 345.465 141.62 345.41 141.62C345.355 141.62 345.3 141.633 345.25 141.659L344.096 142.263L344.316 140.988C344.336 140.875 344.298 140.76 344.216 140.681L343.287 139.78L344.573 139.594C344.685 139.577 344.782 139.507 344.833 139.405L345.41 138.243L345.986 139.405C346.037 139.507 346.134 139.577 346.246 139.594L347.532 139.78L346.603 140.681Z\"\n        fill=\"#7C71FC\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"0.503397\"\n      />\n      <path\n        d=\"M348.606 128.723C348.565 128.598 348.457 128.507 348.327 128.488L346.525 128.227L345.719 126.603C345.602 126.368 345.217 126.368 345.1 126.603L344.295 128.227L342.493 128.488C342.362 128.507 342.254 128.598 342.214 128.723C342.173 128.849 342.207 128.986 342.302 129.078L343.605 130.341L343.297 132.125C343.275 132.255 343.328 132.386 343.434 132.463C343.54 132.54 343.682 132.551 343.798 132.49L345.41 131.647L347.022 132.49C347.072 132.516 347.127 132.529 347.182 132.529C347.254 132.529 347.325 132.507 347.385 132.463C347.492 132.386 347.545 132.255 347.522 132.125L347.215 130.341L348.518 129.078C348.612 128.986 348.646 128.849 348.606 128.723ZM346.603 129.972C346.521 130.052 346.484 130.166 346.503 130.279L346.723 131.554L345.57 130.951C345.52 130.924 345.465 130.911 345.41 130.911C345.355 130.911 345.3 130.924 345.25 130.951L344.096 131.554L344.316 130.279C344.336 130.166 344.298 130.052 344.216 129.972L343.287 129.071L344.573 128.885C344.685 128.869 344.782 128.798 344.833 128.697L345.41 127.534L345.986 128.697C346.037 128.798 346.134 128.869 346.246 128.885L347.532 129.071L346.603 129.972Z\"\n        fill=\"#7C71FC\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"0.503397\"\n      />\n      <path\n        d=\"M331.78 159.348C333.183 157.47 333.762 155.531 333.503 153.585C333.287 151.97 332.469 150.335 331.136 148.857C330.518 148.17 329.929 147.67 329.561 147.382C329.818 147.176 329.988 146.82 329.988 146.415C329.988 146.009 329.816 145.653 329.558 145.448C330.029 144.941 330.917 143.746 330.917 141.934C330.917 141.796 330.826 141.684 330.714 141.684H328.99C328.993 141.506 328.989 141.329 328.969 141.151C328.955 141.027 328.869 140.935 328.768 140.935H324.544C324.443 140.935 324.358 141.027 324.344 141.151C324.324 141.329 324.32 141.506 324.322 141.684H322.598C322.486 141.684 322.395 141.796 322.395 141.934C322.395 143.746 323.283 144.941 323.754 145.448C323.496 145.653 323.324 146.009 323.324 146.415C323.324 146.82 323.495 147.176 323.751 147.382C323.384 147.67 322.795 148.17 322.176 148.857C320.844 150.335 320.026 151.97 319.81 153.585C319.55 155.531 320.13 157.47 321.533 159.348C322.171 160.204 322.861 160.971 324.272 160.971H329.04C330.451 160.971 331.141 160.204 331.78 159.348ZM328.956 142.185H330.505C330.409 143.977 329.314 145.065 329.092 145.267C329.08 145.267 329.068 145.263 329.055 145.263H327.81C328.178 144.658 328.801 143.471 328.956 142.185ZM324.728 141.436H328.585C328.666 143.106 327.556 144.869 327.293 145.263H326.02C325.756 144.869 324.646 143.106 324.728 141.436ZM322.807 142.185H324.357C324.511 143.471 325.135 144.658 325.503 145.263H324.257C324.245 145.263 324.233 145.267 324.22 145.267C323.999 145.066 322.903 143.984 322.807 142.185ZM323.73 146.415C323.73 146.056 323.966 145.763 324.257 145.763H329.055C329.346 145.763 329.583 146.056 329.583 146.415C329.583 146.775 329.346 147.067 329.055 147.067H324.257C323.966 147.067 323.73 146.775 323.73 146.415ZM321.83 159.009C320.517 157.25 319.972 155.453 320.21 153.669C320.667 150.241 323.875 147.86 324.285 147.568H329.027C329.438 147.86 332.646 150.241 333.103 153.669C333.341 155.453 332.795 157.25 331.482 159.009C330.885 159.808 330.289 160.47 329.04 160.47H324.272C323.024 160.47 322.428 159.808 321.83 159.009Z\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"0.838996\"\n      />\n      <path\n        d=\"M316.987 215.105H297.303L277.618 195.421L277.791 160.714H297.303V195.421L316.987 215.105ZM316.987 215.105H322.34L330.628 211.652L334.945 215.278H340.815L355.147 195.939V160.542M299.202 212.688L281.245 195.421V163.995H293.677V195.421L310.771 212.688H299.202Z\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M355.665 160.887H339.089L304.037 201.982L312.152 210.27L349.104 167.103\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M378.96 227.245C379.266 227.587 379.705 227.87 380.12 228.089C379.711 228.312 379.28 228.598 378.963 228.947C378.657 229.283 378.404 229.774 378.207 230.238C378.004 229.774 377.747 229.284 377.448 228.95C377.148 228.615 376.708 228.328 376.293 228.102C376.714 227.879 377.162 227.592 377.472 227.245C377.773 226.91 378.023 226.433 378.218 225.979C378.411 226.432 378.659 226.909 378.96 227.245Z\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M357.894 241.404C358.2 241.746 358.64 242.029 359.054 242.248C358.646 242.471 358.214 242.757 357.898 243.105C357.592 243.442 357.338 243.933 357.142 244.397C356.939 243.933 356.682 243.443 356.382 243.109C356.082 242.774 355.643 242.487 355.227 242.26C355.649 242.038 356.096 241.751 356.407 241.404C356.707 241.069 356.957 240.592 357.152 240.138C357.345 240.591 357.593 241.068 357.894 241.404Z\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M371.988 242.768C372.168 242.969 372.398 243.139 372.625 243.278C372.401 243.419 372.175 243.59 371.991 243.793C371.811 243.991 371.659 244.247 371.534 244.501C371.406 244.248 371.254 243.993 371.078 243.796C370.901 243.6 370.673 243.429 370.445 243.287C370.678 243.145 370.913 242.972 371.096 242.768C371.271 242.572 371.42 242.325 371.543 242.079C371.665 242.325 371.813 242.572 371.988 242.768Z\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M326.47 241.006H321.29L319.908 239.797\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M335.103 241.006H329.578\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M326.47 229.782H330.096L328.196 233.926\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M330.614 224.429H325.088\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M337.866 229.955L333.895 227.365C333.895 227.365 333.895 224.775 333.895 223.739C333.895 222.703 332.686 222.185 328.715 218.904\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M315.591 232.027L318.699 229.609M318.699 229.609V223.739C318.699 221.321 319.192 219.778 324.225 217.523C329.232 215.278 332.34 213.896 333.031 213.551M318.699 229.609L321.807 227.365V223.566C321.807 222.703 322.015 221.77 325.606 220.113C329.198 218.455 330.959 217.638 331.822 217.177C332.686 216.717 335.103 215.45 335.103 215.45\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M337.693 222.012L331.823 217.35\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M315.765 224.084C315.765 219.111 317.664 217.35 322.499 215.105L330.614 211.652L337.866 217.695V236.689V244.459H321.635L315.765 238.588V236.689V233.926C315.765 232.717 315.765 229.057 315.765 224.084ZM315.765 224.084V218.731C315.822 217.58 315.247 215.105 312.484 215.105C310.312 215.105 307.392 215.105 305.404 215.105M318.009 244.459L312.484 238.588V218.731C312.484 216.486 311.137 215.105 307.131 215.105C306.433 215.105 305.864 215.105 305.404 215.105M304.023 215.105C305.692 215.105 309.03 215.416 309.03 218.731C309.03 222.046 309.03 233.523 309.03 238.588L314.556 244.459M304.023 215.105C304.392 215.105 304.864 215.105 305.404 215.105M304.023 215.105C303.5 215.105 303.229 215.105 305.404 215.105M310.757 244.459L305.404 238.588V218.731C305.347 217.522 305.059 215.105 300.224 215.105C299.793 215.105 301.318 215.105 305.404 215.105\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M341.147 244.632L341.147 218.904C341.147 216.832 345.118 215.278 346.499 215.278C347.881 215.278 341.147 215.278 341.147 215.278C339.765 215.278 337.866 216.694 337.866 218.904\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M341.147 248.43L345.981 244.632H302.123L306.268 248.43M341.147 248.43H306.268M341.147 248.43V253.783L313.52 272.604C312.886 272.316 310.066 271.015 303.85 268.115C297.634 265.214 297.001 259.654 297.461 257.236L306.268 261.899L311.62 253.783L306.268 248.43\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <circle\n        cx=\"332.168\"\n        cy=\"238.071\"\n        r=\"1.20828\"\n        transform=\"rotate(-180 332.168 238.071)\"\n        fill=\"#7C71FC\"\n      />\n      <path\n        d=\"M334.758 236.862C334.758 238.197 333.598 239.279 332.168 239.279C330.737 239.279 329.578 238.197 329.578 236.862\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M326.124 236.862C326.124 238.197 324.965 239.279 323.534 239.279C322.104 239.279 320.944 238.197 320.944 236.862\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <circle\n        cx=\"323.535\"\n        cy=\"238.071\"\n        r=\"1.20828\"\n        transform=\"rotate(-180 323.535 238.071)\"\n        fill=\"#7C71FC\"\n      />\n      <path\n        d=\"M368.097 160.714V213.077V222.875L366.198 222.875L364.298 222.875V160.714H368.097Z\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M373.277 233.581L366.198 240.833M373.277 233.581L369.997 223.048M373.277 233.581L369.133 230.473M366.198 232.89L369.133 230.473M366.198 232.89L363.263 230.473M366.198 232.89V240.833M369.133 230.473L367.407 225.638M367.407 225.638H366.198M367.407 225.638L369.997 223.048M364.989 225.638L363.263 230.473M364.989 225.638H366.198M364.989 225.638L362.572 223.048M363.263 230.473L359.118 233.581M366.198 240.833L359.118 233.581M359.118 233.581L362.572 223.048M362.572 223.048H366.198M366.198 223.048H369.997M366.198 223.048V225.638\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M364.125 214.76L358.6 217.005L357.737 222.53C357.967 222.012 358.704 220.769 359.809 219.94C360.914 219.111 363.147 218.213 364.125 217.868\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M368.27 214.76L373.795 217.005L374.658 222.53C374.428 222.012 373.691 220.769 372.586 219.94C371.481 219.111 369.248 218.213 368.27 217.868\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M364.298 217.695L366.198 215.969L368.097 217.695\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M364.298 214.587L366.198 212.86L368.097 214.587\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M364.298 217.695L366.198 215.969L368.097 217.695\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M364.298 214.587L366.198 212.86L368.097 214.587\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M364.298 220.803L366.198 219.077L368.097 220.803\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <rect\n        x=\"372.932\"\n        y=\"193.867\"\n        width=\"14.8496\"\n        height=\"13.1229\"\n        transform=\"rotate(-180 372.932 193.867)\"\n        fill=\"white\"\n      />\n      <path\n        d=\"M367.406 188.341H371.805C373.277 188.341 373.277 185.579 371.805 185.579M358.255 192.14L360.499 194.212H370.169C370.169 193.234 369.847 191.277 368.561 191.277H363.896C363.896 189.032 362.565 188.341 361.535 188.341M358.255 192.14V182.816M358.255 192.14C358.255 192.543 357.391 193.176 356.701 193.176C356.01 193.176 355.147 192.485 355.147 192.14V182.816C355.147 182.471 356.01 181.78 356.701 181.78C357.391 181.78 358.255 182.471 358.255 182.816M368.097 191.277H371.896C373.277 191.277 373.277 188.341 371.896 188.341M358.255 182.816L360.521 180.399H372.89C372.89 181.262 372.928 182.816 371.558 182.816H367.406M367.406 185.579H371.851C373.42 185.579 373.158 182.816 371.851 182.816\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path d=\"M314.225 202.5V198.356\" stroke=\"#7C71FC\" strokeWidth=\"1.34239\" />\n      <path\n        d=\"M316.296 200.428H312.152\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M325.275 189.377V185.233\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M327.347 187.305H323.203\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M337.362 175.909V171.765\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M339.434 173.837H335.29\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <circle\n        cx=\"319.922\"\n        cy=\"194.039\"\n        r=\"1.5735\"\n        transform=\"rotate(-180 319.922 194.039)\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <circle\n        cx=\"331.319\"\n        cy=\"179.881\"\n        r=\"1.5735\"\n        transform=\"rotate(-180 331.319 179.881)\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <circle\n        cx=\"343.406\"\n        cy=\"166.412\"\n        r=\"1.5735\"\n        transform=\"rotate(-180 343.406 166.412)\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M354.994 190.433H352.365V184.523H354.994V190.433Z\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M352.212 161.06V195.766L338.053 215.278\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M349.104 161.06V195.766L334.945 215.278\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <circle\n        cx=\"330.11\"\n        cy=\"209.407\"\n        r=\"2.09151\"\n        transform=\"rotate(-180 330.11 209.407)\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M332.355 209.752H339.089\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M327.879 209.749L316.296 214.415\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path d=\"M328.21 209.752H312.67\" stroke=\"#7C71FC\" strokeWidth=\"1.34239\" />\n      <path\n        d=\"M332.527 210.098L336.671 212.515\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M305.418 203.536L342.197 160.714\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M333.736 167.276H312.67M340.47 160.887L297.303 160.714V167.276H299.202\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M340.988 176.861C340.988 184.071 343.938 191.443 349.104 195.688\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M338.398 179.452C338.398 186.661 342.211 193.861 347.376 198.106\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M297.303 194.652C301.31 191.359 303.984 186.183 304.982 180.661\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M299.029 197.07C303.658 193.266 307.2 187.09 307.887 180.661\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"1.34239\"\n      />\n      <path\n        d=\"M284.332 171.629C284.373 171.754 284.481 171.845 284.611 171.864L286.413 172.125L287.219 173.749C287.336 173.984 287.721 173.984 287.838 173.749L288.643 172.125L290.445 171.864C290.576 171.845 290.684 171.754 290.724 171.629C290.765 171.503 290.731 171.366 290.636 171.274L289.333 170.011L289.641 168.227C289.663 168.097 289.61 167.966 289.504 167.889C289.398 167.812 289.256 167.801 289.14 167.862L287.528 168.705L285.916 167.862C285.866 167.836 285.811 167.823 285.756 167.823C285.684 167.823 285.613 167.845 285.553 167.889C285.446 167.966 285.393 168.097 285.416 168.227L285.723 170.011L284.42 171.274C284.326 171.366 284.292 171.503 284.332 171.629ZM286.335 170.38C286.417 170.3 286.454 170.186 286.435 170.073L286.215 168.798L287.368 169.401C287.418 169.428 287.473 169.441 287.528 169.441C287.583 169.441 287.638 169.428 287.688 169.401L288.842 168.798L288.622 170.073C288.602 170.186 288.64 170.3 288.722 170.38L289.651 171.281L288.365 171.467C288.253 171.483 288.156 171.554 288.105 171.655L287.528 172.818L286.952 171.655C286.901 171.554 286.804 171.483 286.692 171.467L285.406 171.281L286.335 170.38Z\"\n        fill=\"#7C71FC\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"0.503397\"\n      />\n      <path\n        d=\"M302.981 168.174C303.021 168.3 303.129 168.391 303.26 168.41L305.062 168.67L305.867 170.294C305.984 170.529 306.369 170.529 306.486 170.294L307.292 168.67L309.094 168.41C309.224 168.391 309.332 168.3 309.373 168.174C309.413 168.049 309.379 167.912 309.285 167.82L307.982 166.556L308.289 164.772C308.312 164.643 308.259 164.512 308.152 164.435C308.046 164.357 307.905 164.347 307.789 164.408L306.177 165.251L304.565 164.408C304.514 164.381 304.459 164.368 304.404 164.368C304.333 164.368 304.261 164.391 304.201 164.435C304.095 164.512 304.042 164.643 304.064 164.772L304.372 166.556L303.069 167.82C302.974 167.912 302.94 168.049 302.981 168.174ZM304.983 166.925C305.065 166.846 305.103 166.731 305.083 166.619L304.863 165.344L306.017 165.947C306.067 165.973 306.122 165.986 306.177 165.986C306.232 165.986 306.287 165.973 306.337 165.947L307.49 165.344L307.27 166.619C307.251 166.731 307.288 166.846 307.37 166.925L308.299 167.827L307.013 168.013C306.901 168.029 306.804 168.099 306.753 168.201L306.177 169.364L305.6 168.201C305.549 168.099 305.452 168.029 305.34 168.013L304.054 167.827L304.983 166.925Z\"\n        fill=\"#7C71FC\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"0.503397\"\n      />\n      <path\n        d=\"M284.332 182.338C284.373 182.463 284.481 182.554 284.611 182.573L286.413 182.834L287.219 184.458C287.336 184.693 287.721 184.693 287.838 184.458L288.643 182.834L290.445 182.573C290.576 182.554 290.684 182.463 290.724 182.338C290.765 182.212 290.731 182.075 290.636 181.983L289.333 180.719L289.641 178.936C289.663 178.806 289.61 178.675 289.504 178.598C289.398 178.52 289.256 178.51 289.14 178.571L287.528 179.414L285.916 178.571C285.866 178.544 285.811 178.531 285.756 178.531C285.684 178.531 285.613 178.554 285.553 178.598C285.446 178.675 285.393 178.806 285.416 178.936L285.723 180.719L284.42 181.983C284.326 182.075 284.292 182.212 284.332 182.338ZM286.335 181.088C286.417 181.009 286.454 180.894 286.435 180.782L286.215 179.507L287.368 180.11C287.418 180.136 287.473 180.149 287.528 180.149C287.583 180.149 287.638 180.136 287.688 180.11L288.842 179.507L288.622 180.782C288.602 180.894 288.64 181.009 288.722 181.088L289.651 181.99L288.365 182.176C288.253 182.192 288.156 182.262 288.105 182.364L287.528 183.527L286.952 182.364C286.901 182.262 286.804 182.192 286.692 182.176L285.406 181.99L286.335 181.088Z\"\n        fill=\"#7C71FC\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"0.503397\"\n      />\n      <path\n        d=\"M284.332 193.046C284.373 193.171 284.481 193.263 284.611 193.282L286.413 193.542L287.219 195.166C287.336 195.401 287.721 195.401 287.838 195.166L288.643 193.542L290.445 193.282C290.576 193.263 290.684 193.171 290.724 193.046C290.765 192.921 290.731 192.783 290.636 192.692L289.333 191.428L289.641 189.644C289.663 189.515 289.61 189.384 289.504 189.306C289.398 189.229 289.256 189.219 289.14 189.279L287.528 190.123L285.916 189.279C285.866 189.253 285.811 189.24 285.756 189.24C285.684 189.24 285.613 189.262 285.553 189.306C285.446 189.384 285.393 189.515 285.416 189.644L285.723 191.428L284.42 192.692C284.326 192.783 284.292 192.921 284.332 193.046ZM286.335 191.797C286.417 191.718 286.454 191.603 286.435 191.49L286.215 190.215L287.368 190.819C287.418 190.845 287.473 190.858 287.528 190.858C287.583 190.858 287.638 190.845 287.688 190.819L288.842 190.215L288.622 191.49C288.602 191.603 288.64 191.718 288.722 191.797L289.651 192.698L288.365 192.884C288.253 192.901 288.156 192.971 288.105 193.073L287.528 194.235L286.952 193.073C286.901 192.971 286.804 192.901 286.692 192.884L285.406 192.698L286.335 191.797Z\"\n        fill=\"#7C71FC\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"0.503397\"\n      />\n      <path\n        d=\"M301.158 162.421C299.755 164.3 299.175 166.239 299.435 168.184C299.651 169.799 300.469 171.434 301.802 172.913C302.42 173.599 303.009 174.1 303.377 174.388C303.12 174.594 302.95 174.949 302.95 175.354C302.95 175.76 303.122 176.116 303.38 176.322C302.909 176.828 302.021 178.023 302.021 179.835C302.021 179.974 302.112 180.086 302.224 180.086H303.948C303.945 180.263 303.949 180.441 303.969 180.618C303.983 180.742 304.069 180.834 304.17 180.834H308.394C308.495 180.834 308.58 180.742 308.594 180.618C308.614 180.441 308.618 180.263 308.616 180.086H310.34C310.452 180.086 310.543 179.974 310.543 179.835C310.543 178.023 309.655 176.828 309.184 176.322C309.442 176.116 309.614 175.76 309.614 175.354C309.614 174.949 309.443 174.594 309.186 174.388C309.554 174.1 310.143 173.599 310.762 172.913C312.094 171.434 312.912 169.799 313.128 168.184C313.388 166.239 312.808 164.3 311.405 162.421C310.767 161.566 310.077 160.798 308.666 160.798H303.898C302.487 160.798 301.797 161.566 301.158 162.421ZM303.982 179.585H302.433C302.529 177.792 303.624 176.704 303.846 176.502C303.858 176.503 303.87 176.507 303.883 176.507H305.128C304.76 177.112 304.137 178.299 303.982 179.585ZM308.21 180.333H304.353C304.272 178.663 305.382 176.901 305.645 176.507H306.918C307.182 176.901 308.292 178.663 308.21 180.333ZM310.131 179.585H308.581C308.427 178.299 307.803 177.112 307.435 176.507H308.681C308.693 176.507 308.705 176.503 308.718 176.502C308.939 176.703 310.035 177.786 310.131 179.585ZM309.208 175.354C309.208 175.714 308.972 176.006 308.681 176.006H303.883C303.592 176.006 303.355 175.714 303.355 175.354C303.355 174.995 303.592 174.702 303.883 174.702H308.681C308.972 174.702 309.208 174.995 309.208 175.354ZM311.107 162.761C312.421 164.519 312.966 166.316 312.728 168.101C312.271 171.529 309.063 173.91 308.653 174.201H303.911C303.5 173.91 300.292 171.529 299.835 168.101C299.597 166.316 300.143 164.519 301.456 162.761C302.053 161.961 302.649 161.299 303.898 161.299H308.666C309.914 161.299 310.51 161.961 311.107 162.761Z\"\n        stroke=\"#7C71FC\"\n        strokeWidth=\"0.838996\"\n      />\n      <defs>\n        <filter\n          id=\"filter0_f\"\n          x=\"241.429\"\n          y=\"325.947\"\n          width=\"62.798\"\n          height=\"43.7448\"\n          filterUnits=\"userSpaceOnUse\"\n          colorInterpolationFilters=\"sRGB\"\n        >\n          <feFlood floodOpacity=\"0\" result=\"BackgroundImageFix\" />\n          <feBlend\n            mode=\"normal\"\n            in=\"SourceGraphic\"\n            in2=\"BackgroundImageFix\"\n            result=\"shape\"\n          />\n          <feGaussianBlur\n            stdDeviation=\"2.01359\"\n            result=\"effect1_foregroundBlur\"\n          />\n        </filter>\n      </defs>\n    </svg>\n  );\n};\n","import React from \"react\";\nimport { Login } from \"pages/SetupAccount/Login\";\nimport { CreateAccount } from \"pages/SetupAccount/CreateAccount\";\nimport { Box, Flex, Grid } from \"theme-ui\";\nimport { Route, Switch } from \"react-router-dom\";\nimport { Page } from \"state/global\";\nimport { Breakpoint, useBreakpoint } from \"hooks/useBreakpoint\";\nimport { LoginIllustration } from \"assets/LoginIllustration\";\n\nexport const SetupAccount: React.FC = () => {\n  const breakpoint = useBreakpoint();\n\n  return (\n    <Grid\n      sx={{\n        gridGap: 4,\n        gridTemplateColumns: [\"100%\", \"50% 50%\"],\n        mt: [\"15%\", 0],\n      }}\n    >\n      <Flex sx={{ flexDirection: \"column\", mr: [0, 4] }}>\n        <Switch>\n          <Route exact path={`/${Page.SETUP}`}>\n            <Login />\n          </Route>\n          <Route exact path={`/${Page.SETUP_CREATE}`}>\n            <CreateAccount />\n          </Route>\n        </Switch>\n      </Flex>\n      <Box\n        sx={{\n          display: breakpoint === Breakpoint.MOBILE ? \"none\" : \"flex\",\n          left: \"50vw\",\n          position: \"absolute\",\n          height: \"100vh\",\n          width: \"50vw\",\n          backgroundColor: \"secondaryBackground\",\n          my: -4,\n          justifyContent: \"center\",\n          alignItems: \"center\",\n        }}\n      >\n        <LoginIllustration />\n      </Box>\n    </Grid>\n  );\n};\n","import { PoofAccountGlobal } from \"hooks/poofAccount\";\nimport { Redirect, Route, RouteProps } from \"react-router-dom\";\nimport { Page } from \"state/global\";\n\nexport const PrivateRoute: React.FC<RouteProps> = ({ children, ...rest }) => {\n  const { poofAccount, privateKey } = PoofAccountGlobal.useContainer();\n  return (\n    <Route\n      {...rest}\n      render={({ location }) => {\n        if (!poofAccount || !privateKey) {\n          return (\n            <Redirect\n              to={{\n                pathname: `/${Page.SETUP}`,\n                state: { from: location },\n              }}\n            />\n          );\n        }\n        return children;\n      }}\n    />\n  );\n};\n","import React from \"react\";\nimport { PoofKitGlobal } from \"hooks/usePoofKit\";\nimport { Box, Donut, Flex, Text } from \"theme-ui\";\n\nexport const PoofKitLoading: React.FC = () => {\n  const { progress } = PoofKitGlobal.useContainer();\n\n  if (progress >= 1) {\n    return null;\n  }\n  return (\n    <Box\n      sx={{\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        transform: \"translate(-50%, -50%)\",\n        width: \"100%\",\n        height: \"100%\",\n        background: \"#000000aa\",\n      }}\n    >\n      <Flex\n        sx={{\n          flexDirection: \"column\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          width: \"100%\",\n          height: \"100%\",\n        }}\n      >\n        <Donut min={0} max={1} value={progress} mb={3} />\n        <Text sx={{ display: \"block\", color: \"white\" }}>\n          Downloading zkSNARK proof dependencies...\n        </Text>\n      </Flex>\n    </Box>\n  );\n};\n","import { PoofAccountGlobal } from \"hooks/poofAccount\";\nimport { Redirect, Route, RouteProps } from \"react-router-dom\";\nimport { Page } from \"state/global\";\nimport { PoofKitLoading } from \"./Loaders/PoofKitLoading\";\n\nexport const PrivateRouteWithDep: React.FC<RouteProps> = ({\n  children,\n  ...rest\n}) => {\n  const { poofAccount, privateKey } = PoofAccountGlobal.useContainer();\n  return (\n    <>\n      <Route\n        {...rest}\n        render={({ location }) => {\n          if (!poofAccount || !privateKey) {\n            return (\n              <Redirect\n                to={{\n                  pathname: `/${Page.SETUP}`,\n                  state: { from: location },\n                }}\n              />\n            );\n          }\n          return children;\n        }}\n      />\n      <PoofKitLoading />\n    </>\n  );\n};\n","import { useMemo } from \"react\";\nimport { createContainer } from \"unstated-next\";\nimport { WalletGlobal } from \"hooks/useWallet\";\n\nfunction usePools(params: any | undefined) {\n  const { pools } = params;\n  const { network } = WalletGlobal.useContainer();\n\n  const value = useMemo(() => {\n    if (pools && network.chainId) {\n      return { pools: pools };\n    }\n\n    return { pools: [] };\n  }, [pools, network.chainId]);\n\n  return value;\n}\n\nexport const Pools = createContainer(usePools);\n","import { createContext, useState, useMemo, useEffect } from 'react';\nimport Web3 from \"web3\";\nimport { StableToken, newKitFromWeb3 } from \"@celo/contractkit\";\nimport AggregatorAbi from \"abis/Aggregator.json\";\nimport { toWei } from \"web3-utils\";\nimport localForage from \"localforage\";\nimport { Pools } from \"contexts/pools\";\n\nconst getEthBasedConversionRate = async (rpcAddress, contractAddress) => {\n    const w3 = new Web3(rpcAddress);\n    const oracle = new w3.eth.Contract(AggregatorAbi, contractAddress);\n    const r = (await oracle.methods.latestRoundData().call()).answer / 1e8;\n    return r;\n};\n\nconst getCeloKitBasedConversionRate = async (rpcAddress, currency, tokenName) => {\n    let convRate = 0;\n\n    const kit = newKitFromWeb3(new Web3(rpcAddress));\n    const exchange = await kit.contracts.getExchange(StableToken.cUSD);\n    const gs = await exchange.quoteGoldSell(toWei(\"1\"));\n    convRate = parseFloat(gs.toFixed()) / 1e18;\n\n    if (currency.toUpperCase() !== 'CELO') {\n        const kit = newKitFromWeb3(new Web3(rpcAddress));\n        const exchange = await kit.contracts.getExchange(tokenName);\n        const gs = await exchange.quoteGoldSell(toWei(\"1\"));\n        let token2currency = parseFloat(gs.toFixed()) / 1e18;\n\n        convRate = convRate / token2currency;\n    }\n\n    return convRate;\n};\n\nconst getConversionRateChainlink = async (currency) => {\n    switch (currency.toUpperCase()) {\n        case 'AVAX':\n            return await getEthBasedConversionRate(\"https://api.avax.network/ext/bc/C/rpc\", \"0x0A77230d17318075983913bC2145DB16C7366156\");\n        case 'ETH':\n            return await getEthBasedConversionRate(process.env.REACT_APP_ETHEREUM_RPC || \"\", \"0x5f4eC3Df9cbd43714FE2740f5E3616155c5b8419\");\n        case 'MATIC':\n            return await getEthBasedConversionRate(process.env.REACT_APP_POLYGON_RPC || \"\", \"0xAB594600376Ec9fD91F8e885dADF0CE036862dE0\");\n        case 'CELO':\n            return await getCeloKitBasedConversionRate(\"https://forno.celo.org\", currency, StableToken.cUSD);\n        case 'CEUR':\n            return await getCeloKitBasedConversionRate(\"https://forno.celo.org\", currency, StableToken.cEUR);\n        case 'CUSD':\n            return await getCeloKitBasedConversionRate(\"https://forno.celo.org\", currency, StableToken.cUSD); //XXX: Is this 1? Is cUSD treated as USD and priced with 1.00?\n        case 'FTM':\n            return await getEthBasedConversionRate(\"https://rpc.ftm.tools\", \"0xf4766552D15AE4d256Ad41B6cf2933482B0680dc\");\n        default:\n            return 0;\n    }\n};\n\nconst getConversionRate = async (currency) => {\n    const CACHE_KEY = `currency-exchange-rate:${currency}:cUSD`\n    let cl = await localForage.getItem(CACHE_KEY);\n    if (cl !== null) {\n        return cl\n    };\n\n    cl = await getConversionRateChainlink(currency);\n    await localForage.setItem(CACHE_KEY, cl);\n\n    return cl;\n};\n\nexport const CurrenciesContext = createContext({\n    currencies: {},\n    setCurrency: (currency, value) => {},\n    setCurrencies: (val) => {},\n    convert: (value, from, to) => 0.00,\n    toUSD: (value, from) => 0.00,\n\n});\n\nexport const CurrenciesProvider = ({children}) => {\n    const { pools } = Pools.useContainer();\n\n\n    const [currencies, setCurrencies] = useState({});\n\n    const convert = (value, from, to = 'USD') => {\n        const rate = currencies[from];\n        if (rate === undefined) {\n            return 0.00;\n        }\n\n        return (parseFloat(value) * rate);\n    };\n\n    useEffect(() => {\n        const call = async () => {\n            const result = {};\n            try {\n                await Promise.all(\n                    pools.map(async (pool, idx) => {\n                        const c = currencies[pool.symbol];\n                        if (c) {\n                            result[pool.symbol] = c;\n                            return;\n                        }\n\n                        result[pool.symbol] = await getConversionRate(pool.symbol);\n                    })\n                );\n                // setCurrencies(result);\n            } catch (e) {\n                console.log('Error fetching currency exchange rates: ', e);\n            }\n            setCurrencies(result);\n        };\n        if (pools !== undefined) {\n            call();\n        }\n    }, [pools]); //eslint-disable-line\n\n    const value = useMemo(\n        () => {\n            return {\n                // setPools,\n                currencies,\n                setCurrency: (currency, value) => {\n                    setCurrencies({ ...currencies, [currency]: value});\n                    \n                },\n                setCurrencies,\n                convert,\n                toUSD: (value, from) => convert(value, from, 'USD'),\n            }\n        },\n        [pools, currencies] //eslint-disable-line\n    );\n\n    return <CurrenciesContext.Provider value={value}>{children}</CurrenciesContext.Provider>;\n};","import { useState, useMemo } from \"react\";\nimport { createContainer } from \"unstated-next\";\nimport { useWeb3 } from \"hooks/useWeb3\";\nimport Web3 from \"web3\";\nimport DataProvider from \"abis/MoolaProtocolDataProvider.json\";\nimport { AbiItem, toBN } from \"web3-utils\";\nimport { PoofKitGlobal } from \"hooks/usePoofKit\";\nimport { MoolaProtocolDataProvider } from \"generated/MoolaProtocolDataProvider\";\nimport { Network } from \"config\";\nimport { PoofKit } from \"@poofcash/poof-v2-kit\";\nimport LendingPoolAbi from \"abis/LendingPool.json\";\nimport { LendingPool } from \"generated/LendingPool\";\n\nconst getAaveApr = async (\n  web3: Web3,\n  lendingPoolAddress: string,\n  reserveAddress: string\n) => {\n  const lendingPool = (new web3.eth.Contract(\n    LendingPoolAbi as AbiItem[],\n    lendingPoolAddress\n  ) as unknown) as LendingPool;\n  const currentLiquidityRate = (\n    await lendingPool.methods.getReserveData(reserveAddress).call()\n  )[3];\n  return (\n    Number(\n      toBN(currentLiquidityRate).div(toBN(\"100000000000000000000\")).toString()\n    ) / 100000\n  );\n};\n\nconst getMoolaAPR = async (\n  poofKit: PoofKit,\n  web3: Web3,\n  network: Network,\n  symbol: string\n) => {\n  if ([42220, 44787].includes(network.chainId)) {\n    let dataProvider: MoolaProtocolDataProvider | null = null;\n    if (network.chainId === 44787) {\n      dataProvider = (new web3.eth.Contract(\n        DataProvider as AbiItem[],\n        \"0x31ccB9dC068058672D96E92BAf96B1607855822E\"\n      ) as unknown) as MoolaProtocolDataProvider;\n    } else if (network.chainId === 42220) {\n      dataProvider = (new web3.eth.Contract(\n        DataProvider as AbiItem[],\n        \"0x43d067ed784D9DD2ffEda73775e2CC4c560103A1\"\n      ) as unknown) as MoolaProtocolDataProvider;\n    }\n\n    const poolMatch = await poofKit.poolMatch(symbol);\n    if (dataProvider && poolMatch?.tokenAddress) {\n      const reserveData = await dataProvider.methods\n        .getReserveData(poolMatch.tokenAddress)\n        .call();\n      return (\n        Number(\n          toBN(reserveData.liquidityRate)\n            .div(toBN(\"100000000000000000000\"))\n            .toString()\n        ) / 100000\n      );\n    }\n  }\n  return 0;\n};\n\nfunction useAPR() {\n  const [aprs, setAprs] = useState<Map<string, number>>(new Map());\n  const { web3, network } = useWeb3();\n  const { poofKit } = PoofKitGlobal.useContainer();\n\n  const value = useMemo(\n    () => {\n      const getAPR = async (symbol: string) => {\n        const s = symbol.toLowerCase(); //symbol\n        const k = s + \".\" + network.chainId; //cache key, network aware\n\n        const c = aprs.get(k);\n        if (c !== undefined) {\n          return c;\n        }\n\n        //calculate values\n        let r: number = 0;\n        switch (s) {\n          case \"cusd\":\n          case \"ceur\":\n          case \"celo\":\n            r = await getMoolaAPR(poofKit, web3, network, symbol);\n            break;\n          case \"avax\":\n            r = await getAaveApr(\n              web3,\n              \"0x4F01AeD16D97E3aB5ab2B501154DC9bb0F1A5A2C\",\n              \"0xB31f66AA3C1e785363F0875A1B74E27b85FD66c7\"\n            );\n            break;\n          case \"ftm\":\n            r = await getAaveApr(\n              web3,\n              \"0x9FAD24f572045c7869117160A571B2e50b10d068\",\n              \"0x21be370d5312f44cb42ce377bc9b8a0cef1a4c83\"\n            );\n            break;\n          case \"matic\":\n            r = await getAaveApr(\n              web3,\n              \"0x8dff5e27ea6b7ac08ebfdf9eb090f32ee9a30fcf\",\n              \"0x0d500b1d8e8ef31e21c99d1db9a6444d3adf1270\"\n            );\n            break;\n          case \"eth\":\n            r = await getAaveApr(\n              web3,\n              \"0x7d2768de32b0b80b7a3454c06bdac94a69ddc7a9\",\n              \"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2\"\n            );\n            break;\n          default:\n            break;\n        }\n        //cache calcualted values\n        aprs.set(k, r);\n        setAprs(aprs);\n\n        return r;\n      };\n\n      return {\n        getAPR,\n      };\n    },\n    [aprs, network.chainId] //eslint-disable-line\n  );\n\n  return value;\n}\n\nexport const APR = createContainer(useAPR);\n","import { atom } from \"recoil\";\n\nexport const borrowAmount = atom({\n  key: \"BORROW_AMOUNT\",\n  default: \"0\",\n});\n\nexport const borrowCurrency = atom({\n  key: \"BORROW_CURRENCY\",\n  default: \"pUSD\",\n});\n\nexport const borrowRecipient = atom({\n  key: \"BORROW_RECIPIENT\",\n  default: \"\",\n});\n\nexport const borrowResolvedRecipient = atom<string | null>({\n  key: \"BORROW_RESOLVED_RECIPIENT\",\n  default: null,\n});\n\nexport const borrowLoading = atom({\n  key: \"BORROW_LOADING\",\n  default: false,\n});\n\nexport const borrowTxHash = atom({\n  key: \"BORROW_TX_HASH\",\n  default: \"\",\n});\n","import React from \"react\";\nimport { toBN, toWei } from \"web3-utils\";\nimport { useRecoilState } from \"recoil\";\nimport {\n  borrowAmount,\n  borrowCurrency,\n  borrowLoading,\n  borrowResolvedRecipient,\n} from \"pages/BorrowPage/state\";\nimport { useRelayer } from \"hooks/useRelayer\";\nimport { PoofKitGlobal } from \"hooks/usePoofKit\";\nimport { getNewAccountEvents } from \"utils/getPoofEvents\";\nimport Web3 from \"web3\";\nimport { useWeb3 } from \"hooks/useWeb3\";\n\nexport function useBorrow() {\n  const [amount] = useRecoilState(borrowAmount);\n  const [currency] = useRecoilState(borrowCurrency);\n  const [recipient] = useRecoilState(borrowResolvedRecipient);\n  const [, setLoading] = useRecoilState(borrowLoading);\n  const { relayer } = useRelayer(amount, currency);\n  const { poofKit, progress } = PoofKitGlobal.useContainer();\n  const { web3 } = useWeb3();\n\n  const borrow = React.useCallback(\n    async (privateKey: string) => {\n      if (progress < 1) {\n        alert(\"Poof kit still loading\");\n        return;\n      }\n      if (!relayer) {\n        alert(\"Relayer is not defined\");\n        return;\n      }\n      if (!recipient) {\n        alert(\"Recipient not resolved\");\n        return;\n      }\n      const poolMatch = await poofKit.poolMatch(currency);\n      if (poolMatch) {\n        try {\n          setLoading(true);\n          const accountEvents = await getNewAccountEvents(\n            web3 as Web3,\n            poolMatch\n          );\n          return await poofKit.withdraw(\n            privateKey,\n            currency,\n            toBN(0),\n            toBN(toWei(amount)),\n            recipient,\n            relayer.url,\n            accountEvents\n          );\n        } catch (e) {\n          throw e;\n        } finally {\n          setLoading(false);\n        }\n      }\n    },\n    [progress, relayer, recipient, poofKit, currency, setLoading, web3, amount]\n  );\n\n  return borrow;\n}\n","import React from \"react\";\nimport { Button, Container, Flex, Text } from \"theme-ui\";\nimport { BackButton } from \"components/BackButton\";\nimport { ActionDrawer } from \"components/ActionDrawer\";\nimport { LabelWithBalance } from \"components/LabelWithBalance\";\nimport { SummaryTable } from \"components/SummaryTable\";\nimport { humanFriendlyNumber } from \"utils/number\";\nimport { useRelayer } from \"hooks/useRelayer\";\nimport { useRecoilState } from \"recoil\";\nimport {\n  borrowAmount,\n  borrowCurrency,\n  borrowLoading,\n  borrowTxHash,\n} from \"../state\";\nimport { PoofAccountGlobal } from \"hooks/poofAccount\";\nimport { useBorrow } from \"hooks/actions/useBorrow\";\nimport { ProofGenLoading } from \"components/Loaders/ProofGenLoading\";\n\ninterface IProps {\n  onBackClick: () => void;\n  onConfirmClick: () => void;\n}\n\nexport const PRECISION = 7;\n\nexport const ConfirmBorrow: React.FC<IProps> = ({\n  onBackClick,\n  onConfirmClick,\n}) => {\n  const [amount] = useRecoilState(borrowAmount);\n  const [currency] = useRecoilState(borrowCurrency);\n  const [txHash] = useRecoilState(borrowTxHash);\n  const [loading, setLoading] = useRecoilState(borrowLoading);\n\n  const { relayer, relayerFee } = useRelayer(amount, currency);\n  const { actWithPoofAccount } = PoofAccountGlobal.useContainer();\n  const borrow = useBorrow();\n\n  const finalBorrowAmount = Number(amount) + Number(relayerFee);\n\n  const handleBorrow = async () => {\n    actWithPoofAccount(\n      async (privateKey) => {\n        try {\n          await borrow(privateKey);\n          onConfirmClick();\n          if (!txHash) {\n            alert(\n              \"No response from relayer. Check your account in the explorer or try again\"\n            );\n          }\n        } catch (e: any) {\n          if (e.response) {\n            console.error(e.response.data.error);\n          } else {\n            console.debug(e);\n            alert(e.message);\n          }\n        } finally {\n          setLoading(false);\n        }\n      },\n      () => {}\n    );\n  };\n\n  return (\n    <Container>\n      <BackButton onClick={onBackClick} />\n      <br />\n      <Text sx={{ mb: 1 }} variant=\"subtitle\">\n        Transaction Summary\n      </Text>\n      <br />\n      <Text sx={{ mb: 4 }} variant=\"regularGray\">\n        Please review the transaction before continuing\n      </Text>\n      <br />\n\n      <SummaryTable\n        title=\"Summary\"\n        lineItems={[\n          {\n            label: \"Borrow Amount\",\n            value: `${humanFriendlyNumber(amount)} ${currency}`,\n          },\n          {\n            label: `Relayer Fee (${relayer?.relayerFee}%) + Gas`,\n            value: `${\n              relayerFee ? humanFriendlyNumber(relayerFee) : \"-\"\n            } ${currency}`,\n          },\n        ]}\n        totalItem={{\n          label: \"Total\",\n          value: `${humanFriendlyNumber(finalBorrowAmount)} ${currency}`,\n        }}\n      />\n      <ActionDrawer>\n        {loading ? (\n          <Flex sx={{ justifyContent: \"flex-end\" }}>\n            <ProofGenLoading />\n          </Flex>\n        ) : (\n          <Flex sx={{ justifyContent: \"space-between\" }}>\n            <LabelWithBalance\n              label=\"Total\"\n              amount={finalBorrowAmount}\n              currency={currency}\n            />\n            <Button onClick={handleBorrow}>Borrow</Button>\n          </Flex>\n        )}\n      </ActionDrawer>\n    </Container>\n  );\n};\n","import { ActionDrawer } from \"components/ActionDrawer\";\nimport { LabelWithBalance } from \"components/LabelWithBalance\";\nimport { BlockscoutTxLink } from \"components/Links\";\nimport moment from \"moment\";\nimport React from \"react\";\nimport { Button, Container, Flex, Text } from \"theme-ui\";\nimport { SummaryTable } from \"components/SummaryTable\";\nimport { humanFriendlyNumber } from \"utils/number\";\nimport { shortenAccount } from \"utils/account\";\nimport { useRelayer } from \"hooks/useRelayer\";\nimport { useRecoilState } from \"recoil\";\nimport {\n  borrowAmount,\n  borrowCurrency,\n  borrowRecipient,\n  borrowTxHash,\n} from \"../state\";\n\ninterface IProps {\n  onDoneClick: () => void;\n}\n\nexport const BorrowReceipt: React.FC<IProps> = ({ onDoneClick }) => {\n  const [amount] = useRecoilState(borrowAmount);\n  const [currency] = useRecoilState(borrowCurrency);\n  const [recipient] = useRecoilState(borrowRecipient);\n  const [txHash] = useRecoilState(borrowTxHash);\n  const { relayerFee } = useRelayer(amount, currency);\n\n  const finalBorrowAmount = Number(amount) + Number(relayerFee);\n\n  return (\n    <Container>\n      <Text sx={{ display: \"block\", mb: 1 }} variant=\"subtitle\">\n        Alakazam!\n      </Text>\n      <Text sx={{ display: \"block\", mb: 4 }} variant=\"regularGray\">\n        You have successfully borrowed {currency}.{\" \"}\n        <BlockscoutTxLink tx={txHash}>View transaction</BlockscoutTxLink>.\n      </Text>\n\n      <SummaryTable\n        title=\"Transaction\"\n        lineItems={[\n          {\n            label: \"Time completed\",\n            value: moment().format(\"h:mm a\"),\n          },\n          {\n            label: \"Account\",\n            value: shortenAccount(recipient),\n          },\n          {\n            label: \"Borrow amount\",\n            value: `${humanFriendlyNumber(amount)} ${currency}`,\n          },\n        ]}\n        totalItem={{\n          label: \"Est. Borrow\",\n          value: `${humanFriendlyNumber(finalBorrowAmount)} ${currency}`,\n        }}\n      />\n\n      <ActionDrawer>\n        <Flex sx={{ justifyContent: \"space-between\" }}>\n          <LabelWithBalance\n            label=\"Withdrew\"\n            amount={finalBorrowAmount}\n            currency={currency}\n          />\n          <Button\n            onClick={() => {\n              onDoneClick();\n            }}\n            variant=\"done\"\n          >\n            Done\n          </Button>\n        </Flex>\n      </ActionDrawer>\n    </Container>\n  );\n};\n","import React, { useState } from \"react\";\nimport {\n  Box,\n  Button,\n  Container,\n  Flex,\n  Input,\n  Link,\n  Spinner,\n  Text,\n} from \"theme-ui\";\nimport { ActionDrawer } from \"components/ActionDrawer\";\nimport { LabelWithBalance } from \"components/LabelWithBalance\";\nimport { Breakpoint, useBreakpoint } from \"hooks/useBreakpoint\";\nimport { useDebounce } from \"hooks/useDebounce\";\nimport { isValidHttpUrl } from \"utils/url.utils\";\nimport axios from \"axios\";\nimport { useRelayer } from \"hooks/useRelayer\";\nimport { useRecoilState } from \"recoil\";\nimport {\n  borrowAmount,\n  borrowCurrency,\n  borrowLoading,\n  borrowRecipient,\n  borrowResolvedRecipient,\n  borrowTxHash,\n} from \"../state\";\nimport { deployments } from \"@poofcash/poof-v2-kit\";\nimport { fromWei, isAddress, toBN, toWei } from \"web3-utils\";\nimport { useHiddenBalances } from \"hooks/useHiddenBalances\";\nimport { useBorrow } from \"hooks/actions/useBorrow\";\nimport { PoofAccountGlobal } from \"hooks/poofAccount\";\nimport { SummaryTable } from \"components/SummaryTable\";\nimport { humanFriendlyNumber } from \"utils/number\";\nimport { isNom } from \"utils/nom\";\nimport { useNom } from \"hooks/useNom\";\nimport { ethers } from \"ethers\";\nimport { ProofGenLoading } from \"components/Loaders/ProofGenLoading\";\nimport { StyledSelect } from \"components/StyledSelect\";\nimport { WalletGlobal } from \"hooks/useWallet\";\nimport Modal from \"../../../components/Modal\";\nimport { Cog, X as Close } from \"../../../assets/icons\";\nimport { Grid } from \"@theme-ui/components\";\nimport { useRequestParams } from \"../../../hooks/useRequestParams\";\n\ninterface IProps {\n  onBorrowClick: () => void;\n}\n\nexport const PickBorrow: React.FC<IProps> = ({ onBorrowClick }) => {\n  const { network } = WalletGlobal.useContainer();\n  const [amount, setAmount] = useRecoilState(borrowAmount);\n  const [currency, setCurrency] = useRecoilState(borrowCurrency);\n\n  React.useEffect(() => {\n    setCurrency(\n      deployments[network.chainId].find((d) => d.pSymbol === \"pUSD\")?.pSymbol ||\n        deployments[network.chainId][0].pSymbol\n    );\n  }, [network.chainId, setCurrency]);\n  const [recipient, setRecipient] = useRecoilState(borrowRecipient);\n  const [settingsOpened, setSettingsOpened] = useState(false);\n  const [resolvedRecipient, setResolvedRecipient] = useRecoilState(\n    borrowResolvedRecipient\n  );\n  const [, setTxHash] = useRecoilState(borrowTxHash);\n  const [loading] = useRecoilState(borrowLoading);\n  const { actWithPoofAccount } = PoofAccountGlobal.useContainer();\n  const [hiddenBalances] = useHiddenBalances(currency);\n  const borrow = useBorrow();\n\n  const {\n    relayer,\n    setSelectedRelayer,\n    relayerOptions,\n    usingCustomRelayer,\n    setUsingCustomRelayer,\n    setCustomRelayer,\n    relayerFee,\n  } = useRelayer(\n    hiddenBalances?.[0] ? fromWei(hiddenBalances[0].amount.toString()) : null,\n    currency\n  );\n  const breakpoint = useBreakpoint();\n  const [customRelayerError, setCustomRelayerError] = React.useState<\n    string | null\n  >(null);\n\n  const nom = useNom();\n  React.useEffect(() => {\n    if (isNom(recipient)) {\n      nom.methods\n        .resolve(\n          ethers.utils.formatBytes32String(recipient.replace(\".nom\", \"\"))\n        )\n        .call()\n        .then((r) => {\n          setResolvedRecipient(r);\n        })\n        .catch(console.error);\n    } else if (isAddress(recipient)) {\n      setResolvedRecipient(recipient);\n    } else {\n      setResolvedRecipient(null);\n    }\n  }, [recipient, nom, setResolvedRecipient]);\n\n  const [customRelayerUrl, setCustomRelayerUrl] = React.useState(\"\");\n  const onCustomRelayerUrlChange = useDebounce((relayerUrl) => {\n    if (isValidHttpUrl(relayerUrl)) {\n      axios\n        .get(relayerUrl + \"/status\")\n        .then(({ data }) =>\n          setCustomRelayer({\n            url: relayerUrl,\n            relayerFee: data.poofServiceFee,\n            miningServiceFee: data.miningServiceFee,\n            gasPrices: data.gasPrices,\n            celoPrices: data.celoPrices,\n          })\n        )\n        .catch((err) =>\n          setCustomRelayerError(\n            `${err.message}. Make sure you remove the \"/\" at the end of your url`\n          )\n        );\n      setCustomRelayerError(null);\n    } else if (relayerUrl !== \"\") {\n      setCustomRelayerError(\"Invalid custom relayer url format\");\n    }\n  }, 200);\n\n  const finalBorrowAmount = Number(amount) + Number(relayerFee);\n  let maxBorrow = \"0\";\n  if (hiddenBalances?.[0] && relayerFee) {\n    maxBorrow = fromWei(\n      hiddenBalances[0].amount\n        .sub(toBN(hiddenBalances[0].debt.toString()))\n        .sub(toBN(toWei(relayerFee)))\n        .toString()\n    );\n  }\n\n  const borrowButton = (\n    <Button\n      variant=\"primary\"\n      onClick={() => {\n        if (!resolvedRecipient) {\n          alert(\"Recipient address is not valid\");\n          return;\n        }\n        actWithPoofAccount(\n          async (privateKey) => {\n            try {\n              const txHash = await borrow(privateKey);\n              if (txHash) {\n                setTxHash(txHash);\n                onBorrowClick();\n              } else {\n                alert(\n                  \"No response from relayer. It's possible that the transaction still succeeded. Check your balance in 5 minutes before retrying the transaction.\"\n                );\n              }\n            } catch (e: any) {\n              if (e.response) {\n                console.error(e.response.data.error);\n              } else {\n                console.error(e);\n                alert(e.message);\n              }\n            }\n          },\n          () => {}\n        );\n      }}\n    >\n      Borrow\n    </Button>\n  );\n\n  const currencyOptions = deployments[network.chainId].map((entry, idx) => ({\n    value: entry.pSymbol,\n    label: entry.pSymbol,\n  }));\n\n  const params = useRequestParams();\n  if (params.currency) {\n    const currencyFromUrl = params.currency;\n    const foundCurrency = deployments[network.chainId].find(\n      (currency) => currency.symbol === currencyFromUrl\n    );\n    if (foundCurrency) {\n      setCurrency(foundCurrency.pSymbol);\n    }\n  }\n\n  const relayerSelectOptions = relayerOptions\n    ? [\n        ...relayerOptions.map((relayerOption) => ({\n          value: relayerOption.url,\n          label: `${relayerOption.url} - ${relayerOption.relayerFee}%`,\n        })),\n        { value: \"custom\", label: \"Custom\" },\n      ]\n    : [];\n  return (\n    <div>\n      <Modal modalClosed={() => setSettingsOpened(false)} show={settingsOpened}>\n        <Flex\n          sx={{\n            background: \"elementBackground\",\n            justifyContent: \"space-between\",\n            alignItems: \"center\",\n          }}\n        >\n          <Text sx={{ fontWeight: [400], fontSize: [18], lineHeight: \"20px\" }}>\n            Transaction settings\n          </Text>\n          <Button\n            variant=\"ghost\"\n            onClick={() => setSettingsOpened(false)}\n            sx={{\n              margin: 0,\n              padding: 0,\n              height: \"24px !important\",\n              color: \"text\",\n            }}\n          >\n            <Close size={24} />\n          </Button>\n        </Flex>\n\n        <Flex\n          sx={{\n            flexDirection: \"column\",\n            justifyContent: \"center\",\n            alignItems: \"flex-start\",\n          }}\n        >\n          <Text variant=\"form\" sx={{ mt: 4, mb: 2 }}>\n            Relayer\n          </Text>\n          <StyledSelect\n            value={relayer ? relayer.url : \"custom\"}\n            options={relayerSelectOptions}\n            onSelect={(o) => {\n              if (o.value === \"custom\") {\n                setCustomRelayer(undefined);\n                setUsingCustomRelayer(true);\n              } else {\n                setSelectedRelayer(\n                  relayerOptions?.find(\n                    (relayerOption) => relayerOption.url === o.value\n                  )\n                );\n                setUsingCustomRelayer(false);\n              }\n            }}\n          ></StyledSelect>\n\n          {usingCustomRelayer && (\n            <>\n              <Text variant=\"form\" sx={{ mt: 4, mb: 2 }}>\n                Custom relayer url\n              </Text>\n              <Input\n                disabled={loading}\n                name=\"customRelayer\"\n                type=\"text\"\n                value={customRelayerUrl}\n                onChange={(event) => {\n                  const relayerUrl = event.target.value;\n                  setCustomRelayerUrl(relayerUrl);\n                  onCustomRelayerUrlChange(relayerUrl);\n                }}\n                placeholder=\"Enter custom relayer address (protocol://...)\"\n              />\n              <Text sx={{ mt: 2, color: \"red\" }} variant=\"form\">\n                {customRelayerError}\n              </Text>\n            </>\n          )}\n          <Button\n            disabled={usingCustomRelayer && customRelayerError !== null}\n            onClick={() => setSettingsOpened(false)}\n            variant=\"submit\"\n          >\n            Save\n          </Button>\n        </Flex>\n      </Modal>\n\n      <Box mb={3} mt={3}>\n        <Grid columns={\"1fr 2fr\"} gap={20}>\n          <Flex sx={{ flexDirection: \"column\" }} mb={1}>\n            <Text variant=\"form\">Currency</Text>\n            <StyledSelect\n              value={currency}\n              options={currencyOptions}\n              onSelect={(e) => setCurrency(e.value)}\n            />\n          </Flex>\n          <Box>\n            <Flex sx={{ width: \"100%\", justifyContent: \"space-between\" }}>\n              <Text variant=\"form\">Amount</Text>\n              <Text sx={{ whiteSpace: \"nowrap\" }} variant=\"form\">\n                <Link\n                  sx={{ maxWidth: \"100%\" }}\n                  onClick={() => {\n                    if (hiddenBalances?.[0]) {\n                      setAmount(maxBorrow);\n                    }\n                  }}\n                >\n                  Borrow max: {humanFriendlyNumber(maxBorrow)} {currency}\n                </Link>\n              </Text>\n            </Flex>\n            <Input\n              sx={{ width: \"100%\" }}\n              placeholder=\"Enter an amount to completeRequest\"\n              onChange={(e) => {\n                const input = e.target.value;\n                if (!isNaN(Number(input))) {\n                  setAmount(input);\n                }\n              }}\n              value={amount}\n            />\n          </Box>\n        </Grid>\n      </Box>\n\n      <Text variant=\"form\" sx={{ display: \"block\", mb: 1 }}>\n        Recipient address\n      </Text>\n      <Input\n        mb={2}\n        disabled={loading}\n        name=\"recipientAddress\"\n        type=\"text\"\n        onChange={(e) => setRecipient(e.target.value)}\n        value={recipient}\n        placeholder=\"Enter wallet address or .nom\"\n      />\n      {recipient !== \"\" && !resolvedRecipient && (\n        <>\n          <Text sx={{ mt: 2, color: \"red\" }} variant=\"form\">\n            Invalid address, please try again.\n          </Text>\n          <br />\n        </>\n      )}\n      <Button\n        variant=\"ghost\"\n        onClick={() => setSettingsOpened(true)}\n        sx={{ paddingLeft: \"0\", color: \"purple400\", lineHeight: \"18px\" }}\n      >\n        <Flex sx={{ alignItems: \"center\" }}>\n          <Cog size={18} />\n          <Text\n            sx={{\n              ml: \"4px\",\n              color: \"purple400\",\n              fontSize: \"14px\",\n              lineHeight: \"18px\",\n            }}\n          >\n            Show transaction settings\n          </Text>\n        </Flex>\n      </Button>\n\n      {breakpoint === Breakpoint.DESKTOP && (\n        <Container mt={4}>\n          {loading ? <ProofGenLoading /> : borrowButton}\n        </Container>\n      )}\n\n      {breakpoint === Breakpoint.MOBILE && (\n        <>\n          <Box mt={6}>\n            <SummaryTable\n              lineItems={[\n                {\n                  label: \"Borrow Amount\",\n                  value: `${humanFriendlyNumber(amount)} ${currency}`,\n                },\n                {\n                  label: `Relayer Fee (${relayer?.relayerFee}%) + Gas`,\n                  value: `${\n                    relayerFee ? humanFriendlyNumber(relayerFee) : \"-\"\n                  } ${currency}`,\n                },\n              ]}\n              totalItem={{\n                label: \"Total\",\n                value: `${humanFriendlyNumber(finalBorrowAmount)} ${currency}`,\n              }}\n            />\n          </Box>\n          <ActionDrawer>\n            <Flex\n              sx={{ justifyContent: \"space-between\", alignItems: \"center\" }}\n            >\n              <LabelWithBalance\n                label=\"Total\"\n                amount={amount}\n                currency={currency}\n              />\n              {loading ? <Spinner /> : borrowButton}\n            </Flex>\n          </ActionDrawer>\n        </>\n      )}\n    </div>\n  );\n};\n","export const LoansIllustration: React.FC = () => {\n  return (\n    <svg\n      width=\"192\"\n      height=\"226\"\n      viewBox=\"0 0 192 226\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        d=\"M6 148V220\"\n        stroke=\"#7C71FC\"\n        stroke-width=\"1.75\"\n        stroke-linecap=\"round\"\n        stroke-linejoin=\"round\"\n      />\n      <path\n        d=\"M6 208H138C138 201.635 135.471 195.53 130.971 191.03C126.47 186.529 120.365 184 114 184H84C84 177.635 81.4714 171.53 76.9706 167.03C72.4697 162.529 66.3652 160 60 160H6\"\n        fill=\"#ECE6FE\"\n      />\n      <path\n        d=\"M6 208H138C138 201.635 135.471 195.53 130.971 191.03C126.47 186.529 120.365 184 114 184H84C84 177.635 81.4714 171.53 76.9706 167.03C72.4697 162.529 66.3652 160 60 160H6\"\n        stroke=\"#7C71FC\"\n        stroke-width=\"1.75\"\n        stroke-linecap=\"round\"\n        stroke-linejoin=\"round\"\n      />\n      <path\n        d=\"M54 184H84\"\n        stroke=\"#7C71FC\"\n        stroke-width=\"1.75\"\n        stroke-linecap=\"round\"\n        stroke-linejoin=\"round\"\n      />\n      <path\n        d=\"M114 76.0001C114 80.7277 114.931 85.409 116.74 89.7767C118.55 94.1444 121.201 98.1131 124.544 101.456C127.887 104.799 131.856 107.451 136.223 109.26C140.591 111.069 145.272 112 150 112C154.728 112 159.409 111.069 163.777 109.26C168.144 107.451 172.113 104.799 175.456 101.456C178.799 98.1131 181.45 94.1444 183.26 89.7767C185.069 85.409 186 80.7277 186 76.0001C186 71.2725 185.069 66.5912 183.26 62.2235C181.45 57.8558 178.799 53.8872 175.456 50.5443C172.113 47.2014 168.144 44.5496 163.777 42.7405C159.409 40.9313 154.728 40.0001 150 40.0001C145.272 40.0001 140.591 40.9313 136.223 42.7405C131.856 44.5496 127.887 47.2014 124.544 50.5443C121.201 53.8872 118.55 57.8558 116.74 62.2235C114.931 66.5912 114 71.2725 114 76.0001Z\"\n        fill=\"#F5F2FF\"\n        stroke=\"#7C71FC\"\n        stroke-width=\"1.75\"\n        stroke-linecap=\"round\"\n        stroke-linejoin=\"round\"\n      />\n      <path\n        d=\"M150 136C150 139.884 149.058 143.709 147.255 147.148C145.452 150.588 142.841 153.538 139.646 155.746C136.452 157.954 132.769 159.354 128.915 159.825C125.06 160.297 121.148 159.826 117.516 158.453C113.883 157.081 110.638 154.847 108.059 151.944C105.479 149.041 103.643 145.555 102.707 141.786C101.771 138.018 101.764 134.078 102.686 130.306C103.608 126.533 105.431 123.041 108 120.128\"\n        stroke=\"#7C71FC\"\n        stroke-width=\"1.75\"\n        stroke-linecap=\"round\"\n        stroke-linejoin=\"round\"\n      />\n      <path\n        d=\"M16.9395 24.4412C16.1709 24.1483 16.1714 22.7961 16.9392 22.5006C20.2183 21.2386 25.6189 18.8204 28.4707 15.6815C31.1044 12.7827 33.2842 6.55648 34.4063 2.88129C34.6639 2.03768 35.8287 2.02291 36.1021 2.86028C37.3013 6.53272 39.6028 12.7771 42.2049 15.6815C44.8076 18.5864 50.4038 21.1556 53.6939 22.4938C54.444 22.7989 54.431 24.0991 53.6756 24.3872C50.3728 25.647 44.7557 28.104 42.0653 31.1068C39.4186 34.0609 37.2452 40.1765 36.1007 43.884C35.8362 44.741 34.629 44.7358 34.3698 43.8767C33.2515 40.1699 31.1195 34.0631 28.4707 31.1068C25.8152 28.1428 20.2835 25.7151 16.9395 24.4412Z\"\n        fill=\"#ECE6FE\"\n      />\n      <path\n        d=\"M49.0037 84.1642C48.9719 84.1509 48.8874 84.0827 48.8872 83.8793C48.887 83.6758 48.9718 83.6048 49.0052 83.5907C50.9686 82.7605 53.6412 81.4197 55.2116 79.6911C55.9712 78.8551 56.6422 77.6545 57.2068 76.4242C57.7768 75.1821 58.2627 73.8547 58.6375 72.7235C58.6512 72.6822 58.7084 72.5994 58.8655 72.5974C59.0225 72.5955 59.0797 72.6765 59.0936 72.7162C59.4904 73.8473 60.0002 75.1764 60.5861 76.4201C61.1665 77.6522 61.8455 78.8527 62.5932 79.6873C63.3412 80.5221 64.4172 81.2802 65.5214 81.9281C66.6361 82.5822 67.8273 83.1513 68.8408 83.5941C68.8763 83.6096 68.949 83.6735 68.9473 83.8491C68.9457 84.0248 68.8714 84.0889 68.8344 84.1042C67.8154 84.5258 66.6168 85.0739 65.4897 85.7191C64.3723 86.3589 63.28 87.1193 62.5082 87.9808C61.7567 88.8195 61.0917 89.9965 60.529 91.2067C59.9617 92.4269 59.4764 93.7295 59.0972 94.8555C59.0849 94.8922 59.024 94.9843 58.846 94.9836C58.6679 94.9829 58.6071 94.8901 58.5948 94.8529C58.2232 93.7273 57.7461 92.426 57.185 91.2067C56.6285 89.9975 55.9676 88.8207 55.2151 87.9808C54.4598 87.1377 53.3958 86.3928 52.302 85.7635C51.1989 85.1289 50.0208 84.5868 49.0037 84.1642Z\"\n        stroke=\"#7C71FC\"\n        stroke-width=\"1.4805\"\n      />\n      <path\n        d=\"M91.9783 25.5807C91.9465 25.5674 91.862 25.4992 91.8618 25.2958C91.8616 25.0923 91.9464 25.0213 91.9798 25.0072C93.9432 24.1771 96.6158 22.8362 98.1863 21.1076C98.9458 20.2716 99.6168 19.071 100.181 17.8407C100.751 16.5986 101.237 15.2712 101.612 14.14C101.626 14.0987 101.683 14.0159 101.84 14.0139C101.997 14.012 102.054 14.093 102.068 14.1327C102.465 15.2638 102.975 16.5929 103.561 17.8366C104.141 19.0687 104.82 20.2692 105.568 21.1038C106.316 21.9386 107.392 22.6967 108.496 23.3446C109.611 23.9987 110.802 24.5678 111.815 25.0107C111.851 25.0261 111.924 25.09 111.922 25.2656C111.92 25.4413 111.846 25.5054 111.809 25.5207C110.79 25.9423 109.591 26.4904 108.464 27.1357C107.347 27.7754 106.255 28.5358 105.483 29.3973C104.731 30.236 104.066 31.413 103.504 32.6232C102.936 33.8434 102.451 35.146 102.072 36.2721C102.059 36.3087 101.999 36.4008 101.821 36.4001C101.643 36.3994 101.582 36.3066 101.569 36.2694C101.198 35.1438 100.721 33.8425 100.16 32.6232C99.6031 31.414 98.9422 30.2372 98.1897 29.3973C97.4344 28.5542 96.3705 27.8093 95.2766 27.18C94.1735 26.5454 92.9954 26.0033 91.9783 25.5807Z\"\n        stroke=\"#7C71FC\"\n        stroke-width=\"1.4805\"\n      />\n      <path\n        d=\"M10.5011 23.7033C10.4729 23.6925 10.454 23.6758 10.4366 23.6445C10.4157 23.6071 10.3977 23.5466 10.3977 23.4719C10.3977 23.3973 10.4157 23.3362 10.437 23.298C10.4548 23.2659 10.4743 23.2487 10.5028 23.2377C12.158 22.6007 14.3568 21.6689 16.5079 20.4954C18.6487 19.3275 20.7913 17.8941 22.2972 16.2367C23.7035 14.6887 24.949 12.3061 25.972 9.90768C27.0024 7.49203 27.8377 4.9858 28.4035 3.1328C28.4136 3.09953 28.429 3.07896 28.454 3.06107C28.4842 3.03951 28.5325 3.02082 28.592 3.02007C28.6516 3.01933 28.7001 3.03681 28.7304 3.05744C28.7554 3.07449 28.771 3.0944 28.7817 3.12727C29.3859 4.97766 30.2708 7.48539 31.3365 9.90313C32.3948 12.304 33.6616 14.6867 35.0469 16.2328C36.4324 17.7793 38.5677 19.1934 40.7192 20.3748C42.8858 21.5645 45.1329 22.5521 46.7906 23.2264C46.82 23.2383 46.8378 23.2556 46.8531 23.2837C46.8717 23.3176 46.8874 23.3718 46.8867 23.4384C46.8861 23.5049 46.8693 23.559 46.8499 23.5928C46.8338 23.6209 46.8154 23.6381 46.7856 23.6494C45.1202 24.2846 42.8626 25.2248 40.6759 26.3897C38.5034 27.5469 36.3387 28.9578 34.9073 30.5555C33.4987 32.1276 32.2527 34.4915 31.226 36.875C30.1927 39.2739 29.3533 41.7605 28.7762 43.63C28.7663 43.6622 28.7511 43.6831 28.7236 43.7021C28.6906 43.7249 28.6373 43.7445 28.5718 43.7442C28.5064 43.7439 28.4532 43.7239 28.4202 43.7007C28.3927 43.6814 28.3775 43.6602 28.3678 43.6279C27.8038 41.7584 26.9812 39.2735 25.9612 36.8759C24.9476 34.4936 23.7113 32.13 22.3006 30.5555C20.8868 28.9774 18.7525 27.5836 16.6002 26.4366C14.4339 25.2821 12.1872 24.3456 10.5011 23.7033Z\"\n        stroke=\"#7C71FC\"\n        stroke-width=\"1.4805\"\n      />\n    </svg>\n  );\n};\n","import React from \"react\";\nimport { Container, Grid, Text } from \"theme-ui\";\nimport { useTranslation } from \"react-i18next\";\nimport { PickBorrow } from \"../MobileBorrowPage/PickBorrow\";\nimport { Breakpoint, useBreakpoint } from \"hooks/useBreakpoint\";\nimport { LoansIllustration } from \"../../../assets/LoansIllustration\";\nimport { Flex } from \"@theme-ui/components\";\n\ninterface IProps {\n  onBorrowClick: () => void;\n}\n\nexport const DoBorrow: React.FC<IProps> = ({ onBorrowClick }) => {\n  const { t } = useTranslation();\n  const breakpoint = useBreakpoint();\n\n  return (\n    <Grid sx={{ gridTemplateColumns: [\"auto\", \"1.3fr 1fr\"], gridGap: 6 }}>\n      <Container>\n        <Text sx={{ display: \"block\" }} variant=\"title\">\n          {t(\"borrow.desktop.title\")}\n        </Text>\n        <Text sx={{ display: \"block\", mb: 4 }} variant=\"regularGray\">\n          {t(\"borrow.desktop.subtitle\")}\n        </Text>\n        <PickBorrow onBorrowClick={onBorrowClick} />\n      </Container>\n      {breakpoint === Breakpoint.DESKTOP && (\n        <Flex sx={{ variant: \"flex.centered\" }}>\n          <LoansIllustration />\n        </Flex>\n      )}\n    </Grid>\n  );\n};\n","import React from \"react\";\nimport { ConfirmBorrow } from \"pages/BorrowPage/MobileBorrowPage/ConfirmBorrow\";\nimport { BorrowReceipt } from \"pages/BorrowPage/MobileBorrowPage/BorrowReceipt\";\nimport { DoBorrow } from \"../DesktopBorrowPage/DoBorrow\";\n\nenum BorrowStep {\n  PICKER = \"PICKER\",\n  CONFIRM = \"CONFIRM\",\n  RECEIPT = \"RECEIPT\",\n}\n\nexport const MobileBorrowPage = () => {\n  const [borrowStep, setBorrowStep] = React.useState(BorrowStep.PICKER);\n\n  switch (borrowStep) {\n    case BorrowStep.PICKER:\n      return (\n        <DoBorrow\n          onBorrowClick={() => {\n            setBorrowStep(BorrowStep.RECEIPT);\n          }}\n        />\n      );\n    // This path is never displayed\n    case BorrowStep.CONFIRM:\n      return (\n        <ConfirmBorrow\n          onBackClick={() => setBorrowStep(BorrowStep.PICKER)}\n          onConfirmClick={() => setBorrowStep(BorrowStep.RECEIPT)}\n        />\n      );\n    case BorrowStep.RECEIPT:\n      return (\n        <BorrowReceipt\n          onDoneClick={() => {\n            setBorrowStep(BorrowStep.PICKER);\n          }}\n        />\n      );\n  }\n};\n","import { BlockscoutTxLink } from \"components/Links\";\nimport moment from \"moment\";\nimport React from \"react\";\nimport { Button, Container, Text } from \"theme-ui\";\nimport { GrayBox } from \"components/GrayBox\";\nimport { SummaryTable } from \"components/SummaryTable\";\nimport { humanFriendlyNumber } from \"utils/number\";\nimport { useRecoilState } from \"recoil\";\nimport {\n  borrowAmount,\n  borrowCurrency,\n  borrowRecipient,\n  borrowTxHash,\n} from \"../state\";\nimport { useRelayer } from \"hooks/useRelayer\";\n\ninterface IProps {\n  onDoneClick: () => void;\n}\n\nexport const BorrowReceipt: React.FC<IProps> = ({ onDoneClick }) => {\n  const [amount] = useRecoilState(borrowAmount);\n  const [currency] = useRecoilState(borrowCurrency);\n  const [txHash] = useRecoilState(borrowTxHash);\n  const [recipient] = useRecoilState(borrowRecipient);\n\n  const { relayerFee } = useRelayer(amount, currency);\n\n  const finalBorrowAmount = Number(amount) + Number(relayerFee);\n\n  return (\n    <Container>\n      <Text sx={{ display: \"block\", mb: 1 }} variant=\"subtitle\">\n        Alakazam!\n      </Text>\n      <Text sx={{ display: \"block\", mb: 4 }} variant=\"regularGray\">\n        You have successfully borrowed {currency}.{\" \"}\n        <BlockscoutTxLink tx={txHash}>View transaction</BlockscoutTxLink>.\n      </Text>\n\n      <GrayBox>\n        <Text sx={{ mb: 3 }} variant=\"subtitle\">\n          Receipt\n        </Text>\n        <br />\n        <SummaryTable\n          title=\"Transaction\"\n          lineItems={[\n            {\n              label: \"Time completed\",\n              value: moment().format(\"h:mm a\"),\n            },\n            {\n              label: \"Account\",\n              value: recipient,\n            },\n            {\n              label: \"Borrow amount\",\n              value: `${humanFriendlyNumber(amount)} ${currency}`,\n            },\n          ]}\n          totalItem={{\n            label: \"Est. Borrow\",\n            value: `${humanFriendlyNumber(finalBorrowAmount)} ${currency}`,\n          }}\n        />\n      </GrayBox>\n\n      <Button sx={{ mt: 2, px: 6 }} variant=\"done\" onClick={onDoneClick}>\n        Done\n      </Button>\n    </Container>\n  );\n};\n","import React from \"react\";\nimport { DoBorrow } from \"pages/BorrowPage/DesktopBorrowPage/DoBorrow\";\nimport { BorrowReceipt } from \"pages/BorrowPage/DesktopBorrowPage/BorrowReceipt\";\n\nenum BorrowStep {\n  DO = \"DO\",\n  RECEIPT = \"RECEIPT\",\n}\n\nexport const DesktopBorrowPage = () => {\n  const [completeRequestStep, setBorrowStep] = React.useState(BorrowStep.DO);\n  switch (completeRequestStep) {\n    case BorrowStep.DO:\n      return (\n        <DoBorrow\n          onBorrowClick={() => {\n            setBorrowStep(BorrowStep.RECEIPT);\n          }}\n        />\n      );\n    case BorrowStep.RECEIPT:\n      return (\n        <BorrowReceipt\n          onDoneClick={() => {\n            setBorrowStep(BorrowStep.DO);\n          }}\n        />\n      );\n  }\n};\n","import React from \"react\";\nimport { MobileBorrowPage } from \"pages/BorrowPage/MobileBorrowPage\";\nimport { DesktopBorrowPage } from \"pages/BorrowPage/DesktopBorrowPage\";\nimport { Breakpoint, useBreakpoint } from \"hooks/useBreakpoint\";\n\nconst BorrowPage: React.FC = () => {\n  const breakpoint = useBreakpoint();\n\n  if (breakpoint === Breakpoint.MOBILE) {\n    return <MobileBorrowPage />;\n  }\n\n  return <DesktopBorrowPage />;\n};\n\nexport default BorrowPage;\n","import { atom } from \"recoil\";\n\nexport const repayAmount = atom({\n  key: \"REPAY_AMOUNT\",\n  default: \"0\",\n});\n\nexport const repayCurrency = atom({\n  key: \"REPAY_CURRENCY\",\n  default: \"pUSD\",\n});\n\nexport enum RepayStage {\n  START,\n  SIGNING,\n  TXN_SENDING,\n  PROVING,\n}\n\nexport const repayStage = atom({\n  key: \"REPAY_STAGE\",\n  default: RepayStage.START,\n});\n\nexport const repayTxHash = atom({\n  key: \"REPAY_TX_HASH\",\n  default: \"\",\n});\n","import React from \"react\";\nimport { Button, Container, Flex, Text } from \"theme-ui\";\nimport { BackButton } from \"components/BackButton\";\nimport { ActionDrawer } from \"components/ActionDrawer\";\nimport { LabelWithBalance } from \"components/LabelWithBalance\";\nimport { SummaryTable } from \"components/SummaryTable\";\nimport { humanFriendlyNumber } from \"utils/number\";\nimport { useRecoilState } from \"recoil\";\nimport { repayAmount, repayCurrency, RepayStage, repayStage } from \"../state\";\nimport { NETWORK_COST } from \"config\";\nimport { ProofGenLoading } from \"components/Loaders/ProofGenLoading\";\nimport { WalletGlobal } from \"hooks/useWallet\";\n\ninterface IProps {\n  onBackClick: () => void;\n  onConfirmClick: () => void;\n}\n\nexport const ConfirmRepay: React.FC<IProps> = ({\n  onBackClick,\n  onConfirmClick,\n}) => {\n  const { gasCurrency } = WalletGlobal.useContainer();\n  const [amount] = useRecoilState(repayAmount);\n  const [currency] = useRecoilState(repayCurrency);\n  const [stage] = useRecoilState(repayStage);\n  const totalCost = Number(amount) + Number(NETWORK_COST);\n\n  let button = (\n    <Button onClick={onConfirmClick} variant=\"primary\">\n      Repay\n    </Button>\n  );\n\n  return (\n    <Container>\n      <BackButton onClick={onBackClick} />\n      <br />\n      <Text sx={{ mb: 1 }} variant=\"subtitle\">\n        Transaction Summary\n      </Text>\n      <br />\n      <Text sx={{ mb: 4 }} variant=\"regularGray\">\n        Please review the transaction before continuing\n      </Text>\n      <br />\n      <SummaryTable\n        title=\"Summary\"\n        lineItems={[\n          {\n            label: \"Repay Amount\",\n            value: `${humanFriendlyNumber(amount)} ${currency}`,\n          },\n          {\n            label: \"Est. Network Fee\",\n            value: `${humanFriendlyNumber(NETWORK_COST)} ${gasCurrency}`,\n          },\n        ]}\n        totalItem={{\n          label: \"Est. Total\",\n          value:\n            currency === gasCurrency\n              ? `${humanFriendlyNumber(\n                  Number(amount) + Number(NETWORK_COST)\n                )} ${gasCurrency}`\n              : `${humanFriendlyNumber(\n                  Number(amount)\n                )} ${currency} + ${humanFriendlyNumber(\n                  NETWORK_COST\n                )} ${gasCurrency}`,\n        }}\n      />\n\n      <ActionDrawer>\n        {stage !== RepayStage.START ? (\n          <Flex sx={{ justifyContent: \"flex-end\" }}>\n            <ProofGenLoading />\n          </Flex>\n        ) : (\n          <Flex sx={{ justifyContent: \"space-between\" }}>\n            <LabelWithBalance\n              label=\"Total\"\n              amount={totalCost.toString()}\n              currency={currency}\n            />\n            {button}\n          </Flex>\n        )}\n      </ActionDrawer>\n    </Container>\n  );\n};\n","import React from \"react\";\nimport { Button, Container, Flex, Text } from \"theme-ui\";\nimport moment from \"moment\";\nimport { BlockscoutTxLink } from \"components/Links\";\nimport { ActionDrawer } from \"components/ActionDrawer\";\nimport { LabelWithBalance } from \"components/LabelWithBalance\";\nimport { SummaryTable } from \"components/SummaryTable\";\nimport { humanFriendlyNumber } from \"utils/number\";\nimport { shortenAccount } from \"utils/account\";\nimport { repayAmount, repayCurrency, repayTxHash } from \"../state\";\nimport { useRecoilState } from \"recoil\";\nimport { PoofAccountGlobal } from \"hooks/poofAccount\";\nimport { NETWORK_COST } from \"config\";\nimport { WalletGlobal } from \"hooks/useWallet\";\n\ninterface IProps {\n  onDoneClick: () => void;\n}\n\nexport const RepayReceipt: React.FC<IProps> = ({ onDoneClick }) => {\n  const { gasCurrency } = WalletGlobal.useContainer();\n  const [amount] = useRecoilState(repayAmount);\n  const [currency] = useRecoilState(repayCurrency);\n  const [txHash] = useRecoilState(repayTxHash);\n  const { address } = PoofAccountGlobal.useContainer();\n\n  return (\n    <Container>\n      <Text sx={{ display: \"block\", mb: 1 }} variant=\"subtitle\">\n        Alakazam!\n      </Text>\n      <Text sx={{ display: \"block\", mb: 4 }} variant=\"regular\">\n        You have completed repayment.{\" \"}\n        <BlockscoutTxLink tx={txHash}>View transaction</BlockscoutTxLink>.\n      </Text>\n\n      <SummaryTable\n        title=\"Transaction\"\n        lineItems={[\n          {\n            label: \"Time completed\",\n            value: moment().format(\"h:mm a\"),\n          },\n          {\n            label: \"Account\",\n            value: shortenAccount(address),\n          },\n          {\n            label: \"Est. total amount\",\n            value:\n              currency === gasCurrency\n                ? `${humanFriendlyNumber(\n                    Number(amount) + Number(NETWORK_COST)\n                  )} ${gasCurrency}`\n                : `${humanFriendlyNumber(\n                    amount\n                  )} ${currency} + ${humanFriendlyNumber(\n                    NETWORK_COST\n                  )} ${gasCurrency}`,\n          },\n        ]}\n        totalItem={{\n          label: \"Repayed\",\n          value: `${humanFriendlyNumber(amount)} ${currency}`,\n        }}\n      />\n\n      <ActionDrawer>\n        <Flex sx={{ justifyContent: \"space-between\" }}>\n          <LabelWithBalance\n            label=\"Repayed\"\n            amount={amount}\n            currency={currency}\n          />\n          <Button\n            onClick={() => {\n              onDoneClick();\n            }}\n            variant=\"done\"\n          >\n            Done\n          </Button>\n        </Flex>\n      </ActionDrawer>\n    </Container>\n  );\n};\n","import React from \"react\";\nimport { Button, Text, Spinner, Grid } from \"@theme-ui/components\";\nimport { Box, Flex, Input, Link } from \"theme-ui\";\nimport { ActionDrawer } from \"components/ActionDrawer\";\nimport { LabelWithBalance } from \"components/LabelWithBalance\";\nimport { Breakpoint, useBreakpoint } from \"hooks/useBreakpoint\";\nimport { deployments } from \"@poofcash/poof-v2-kit\";\nimport { useRecoilState } from \"recoil\";\nimport { repayAmount, repayCurrency, RepayStage, repayStage } from \"../state\";\nimport { useRepay } from \"hooks/actions/useRepay\";\nimport { SummaryTable } from \"components/SummaryTable\";\nimport { humanFriendlyNumber } from \"utils/number\";\nimport { useTokenBalance } from \"hooks/useTokenBalance\";\nimport { fromWei, toBN } from \"web3-utils\";\nimport { useHiddenBalances } from \"hooks/useHiddenBalances\";\nimport { ProofGenLoading } from \"components/Loaders/ProofGenLoading\";\nimport { WalletGlobal } from \"hooks/useWallet\";\nimport { StyledSelect } from \"../../../components/StyledSelect\";\nimport { useRequestParams } from \"../../../hooks/useRequestParams\";\n\ninterface IProps {\n  onRepayClick?: () => void;\n}\n\n// pass props and State interface to Component class\nexport const PickRepay: React.FC<IProps> = ({ onRepayClick }) => {\n  const { network, address, connect } = WalletGlobal.useContainer();\n  const [connected, setConnected] = React.useState(false);\n  const [amount, setAmount] = useRecoilState(repayAmount);\n  const [currency, setCurrency] = useRecoilState(repayCurrency);\n  React.useEffect(() => {\n    setCurrency(\n      deployments[network.chainId].find((d) => d.pSymbol === \"pUSD\")?.pSymbol ||\n        deployments[network.chainId][0].pSymbol\n    );\n  }, [network.chainId, setCurrency]);\n  const [stage, setStage] = useRecoilState(repayStage);\n  const [balance] = useTokenBalance(currency, address);\n  const [hiddenBalances] = useHiddenBalances(currency);\n\n  const maxRepay = Math.min(\n    Number(fromWei(hiddenBalances?.[0]?.debt.toString() ?? toBN(0))),\n    Number(fromWei(balance?.pBalance ?? toBN(0)))\n  ).toString();\n\n  const breakpoint = useBreakpoint();\n\n  const repay = useRepay();\n\n  let button = (\n    <Button\n      onClick={() =>\n        connect()\n          .then(() => setConnected(true))\n          .catch((e) => {\n            console.error(e);\n            alert(e.message);\n          })\n      }\n    >\n      Connect Wallet\n    </Button>\n  );\n  if (connected) {\n    button = (\n      <Button\n        onClick={async () => {\n          try {\n            await repay();\n            onRepayClick && onRepayClick();\n          } catch (e: any) {\n            console.error(e);\n            alert(e.message);\n          } finally {\n            setStage(RepayStage.START);\n          }\n        }}\n        disabled={\n          isNaN(Number(amount)) ||\n          Number(amount) === 0 ||\n          Number(amount) > Number(maxRepay)\n        }\n      >\n        Repay\n      </Button>\n    );\n  }\n\n  const currencyOptions = deployments[network.chainId].map((entry, idx) => ({\n    value: entry.pSymbol,\n    label: entry.pSymbol,\n  }));\n\n  const params = useRequestParams();\n  if (params.currency) {\n    const currencyFromUrl = params.currency;\n    console.log(deployments[network.chainId]);\n    const foundCurrency = deployments[network.chainId].find(\n      (currency) => currency.pSymbol === currencyFromUrl\n    );\n    if (foundCurrency) {\n      setCurrency(foundCurrency.pSymbol);\n    }\n  }\n\n  return (\n    <>\n      <Box mb={3} mt={3}>\n        <Grid columns={\"1fr 2fr\"} gap={20}>\n          <Flex sx={{ flexDirection: \"column\" }} mb={1}>\n            <Text variant=\"form\">Currency</Text>\n            <StyledSelect\n              value={currency}\n              options={currencyOptions}\n              onSelect={(e) => setCurrency(e.value)}\n            />\n          </Flex>\n          <Box mb={4}>\n            <Flex sx={{ width: \"100%\", justifyContent: \"space-between\" }}>\n              <Text variant=\"form\">Amount</Text>\n              {connected && (\n                <Text sx={{ whiteSpace: \"nowrap\" }} variant=\"form\">\n                  <Link\n                    sx={{ maxWidth: \"100%\" }}\n                    onClick={() => {\n                      if (balance) {\n                        setAmount(maxRepay);\n                      }\n                    }}\n                  >\n                    max: {maxRepay} {currency}\n                  </Link>\n                </Text>\n              )}\n            </Flex>\n            <Input\n              sx={{ width: \"100%\" }}\n              placeholder=\"Enter an amount to repay\"\n              value={amount}\n              onChange={(e) => setAmount(e.target.value)}\n            />\n          </Box>\n        </Grid>\n      </Box>\n\n      {breakpoint === Breakpoint.DESKTOP && (\n        <Box mt={4}>\n          {stage === RepayStage.TXN_SENDING && (\n            <Flex sx={{ alignItems: \"center\" }}>\n              <Spinner mr={2} />\n              <Text>Sending transaction through the network...</Text>\n            </Flex>\n          )}\n          {stage === RepayStage.PROVING && <ProofGenLoading />}\n          {stage === RepayStage.SIGNING && (\n            <Text>To continue, sign the transaction in your wallet.</Text>\n          )}\n          {stage === RepayStage.START && button}\n        </Box>\n      )}\n\n      {breakpoint === Breakpoint.MOBILE && (\n        <>\n          <Box mt={7}>\n            <SummaryTable\n              lineItems={[\n                {\n                  label: \"Withdrawal Amount\",\n                  value: `${humanFriendlyNumber(amount)} ${currency}`,\n                },\n              ]}\n              totalItem={{\n                label: \"Total\",\n                value: `${humanFriendlyNumber(amount)} ${currency}`,\n              }}\n            />\n          </Box>\n          <ActionDrawer>\n            <Flex\n              sx={{\n                alignItems: \"center\",\n                justifyContent: \"space-between\",\n              }}\n            >\n              <LabelWithBalance\n                label=\"Total\"\n                amount={amount}\n                currency={currency}\n              />\n              {stage === RepayStage.TXN_SENDING && (\n                <Flex sx={{ alignItems: \"center\" }}>\n                  <Spinner mr={2} />\n                  <Text>Sending transaction through the network...</Text>\n                </Flex>\n              )}\n              {stage === RepayStage.PROVING && <ProofGenLoading />}\n              {stage === RepayStage.SIGNING && (\n                <Text>To continue, sign the transaction in your wallet.</Text>\n              )}\n              {stage === RepayStage.START && button}\n            </Flex>\n          </ActionDrawer>\n        </>\n      )}\n    </>\n  );\n};\n","import React from \"react\";\nimport { useRecoilState } from \"recoil\";\nimport {\n  repayAmount,\n  repayCurrency,\n  RepayStage,\n  repayStage,\n  repayTxHash,\n} from \"pages/RepayPage/state\";\nimport { PoofKitGlobal } from \"hooks/usePoofKit\";\nimport { PoofAccountGlobal } from \"hooks/poofAccount\";\nimport { toBN, toWei } from \"web3-utils\";\nimport { WalletGlobal } from \"hooks/useWallet\";\nimport { getNewAccountEvents } from \"utils/getPoofEvents\";\nimport Web3 from \"web3\";\n\nexport function useRepay() {\n  const { getConnectedWeb3, address, gasPrice } = WalletGlobal.useContainer();\n  const [, setTxHash] = useRecoilState(repayTxHash);\n  const [amount] = useRecoilState(repayAmount);\n  const [currency] = useRecoilState(repayCurrency);\n  const [, setStage] = useRecoilState(repayStage);\n  const { poofKit, progress } = PoofKitGlobal.useContainer();\n  const { poofAccount, privateKey } = PoofAccountGlobal.useContainer();\n\n  // TODO: TreeUpdate always should be used here\n  const repay = React.useCallback(async () => {\n    if (progress < 1) {\n      alert(\"Poof kit still loading\");\n      return;\n    }\n    if (!poofAccount || !privateKey) {\n      alert(\"No poof account or private key\");\n      return;\n    }\n    const poolMatch = await poofKit.poolMatch(currency);\n    const web3 = await getConnectedWeb3();\n    if (poolMatch) {\n      try {\n        setStage(RepayStage.PROVING);\n        const accountEvents = await getNewAccountEvents(\n          web3 as Web3,\n          poolMatch\n        );\n        const txo = await poofKit.deposit(\n          privateKey,\n          currency,\n          toBN(0),\n          toBN(toWei(amount)),\n          accountEvents\n        );\n        const params = {\n          from: address || undefined,\n          to: poolMatch.poolAddress,\n          data: txo.encodeABI(),\n          gasPrice,\n        };\n        // const gas = await web3.eth.estimateGas(params);\n        const gas = 3e6;\n        setStage(RepayStage.SIGNING);\n        await web3.eth.sendTransaction({ ...params, gas }, (err, hash) => {\n          if (err) throw err;\n          setTxHash(hash);\n          setStage(RepayStage.TXN_SENDING);\n        });\n      } catch (e) {\n        throw e;\n      }\n    }\n  }, [\n    progress,\n    poofAccount,\n    privateKey,\n    poofKit,\n    currency,\n    getConnectedWeb3,\n    setStage,\n    amount,\n    address,\n    gasPrice,\n    setTxHash,\n  ]);\n\n  return repay;\n}\n","import React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { Container, Flex, Grid, Text } from \"theme-ui\";\nimport { PickRepay } from \"pages/RepayPage/MobileRepayPage/PickRepay\";\nimport { Breakpoint, useBreakpoint } from \"hooks/useBreakpoint\";\nimport { LoansIllustration } from \"../../../assets/LoansIllustration\";\n\ninterface IProps {\n  onRepayClick?: () => void;\n}\n\nexport const DoRepay: React.FC<IProps> = ({ onRepayClick }) => {\n  const { t } = useTranslation();\n  const breakpoint = useBreakpoint();\n\n  return (\n    <>\n      <Grid sx={{ gridTemplateColumns: [\"auto\", \"1.3fr 1fr\"], gridGap: 6 }}>\n        <Container>\n          <Text sx={{ display: \"block\" }} variant=\"title\">\n            {t(\"repay.desktop.title\")}\n          </Text>\n          <Text sx={{ display: \"block\", mb: 4 }} variant=\"regularGray\">\n            {t(\"repay.desktop.subtitle\")}\n          </Text>\n          <PickRepay onRepayClick={onRepayClick} />\n        </Container>\n        {breakpoint === Breakpoint.DESKTOP && (\n          <Flex sx={{ variant: \"flex.centered\" }}>\n            <LoansIllustration />\n          </Flex>\n        )}\n      </Grid>\n    </>\n  );\n};\n","import React from \"react\";\nimport { ConfirmRepay } from \"pages/RepayPage/MobileRepayPage/ConfirmRepay\";\nimport { RepayReceipt } from \"pages/RepayPage/MobileRepayPage/RepayReceipt\";\nimport { DoRepay } from \"../DesktopRepayPage/DoRepay\";\n\nenum RepayStep {\n  PICKER = \"PICKER\",\n  CONFIRM = \"CONFIRM\",\n  RECEIPT = \"RECEIPT\",\n}\n\n// pass props and State interface to Component class\nconst MobileRepayPage = () => {\n  const [repayStep, setRepayStep] = React.useState(RepayStep.PICKER);\n\n  switch (repayStep) {\n    case RepayStep.PICKER:\n      return (\n        <DoRepay\n          onRepayClick={() => {\n            setRepayStep(RepayStep.RECEIPT);\n          }}\n        />\n      );\n    // This path is never displayed\n    case RepayStep.CONFIRM:\n      return (\n        <ConfirmRepay\n          onBackClick={() => setRepayStep(RepayStep.PICKER)}\n          onConfirmClick={() => {\n            setRepayStep(RepayStep.RECEIPT);\n          }}\n        />\n      );\n    case RepayStep.RECEIPT:\n      return (\n        <RepayReceipt\n          onDoneClick={() => {\n            setRepayStep(RepayStep.PICKER);\n          }}\n        />\n      );\n  }\n};\n\nexport default MobileRepayPage;\n","import React from \"react\";\nimport { Button, Container, Text } from \"theme-ui\";\nimport moment from \"moment\";\nimport { BlockscoutTxLink } from \"components/Links\";\nimport { SummaryTable } from \"components/SummaryTable\";\nimport { GrayBox } from \"components/GrayBox\";\nimport { humanFriendlyNumber } from \"utils/number\";\nimport { useRecoilState } from \"recoil\";\nimport { repayAmount, repayCurrency, repayTxHash } from \"../state\";\nimport { shortenAccount } from \"utils/account\";\nimport { PoofAccountGlobal } from \"hooks/poofAccount\";\nimport { NETWORK_COST } from \"config\";\nimport { WalletGlobal } from \"hooks/useWallet\";\n\ninterface IProps {\n  onDoneClick: () => void;\n}\n\nexport const RepayReceipt: React.FC<IProps> = ({ onDoneClick }) => {\n  const { gasCurrency } = WalletGlobal.useContainer();\n  const [amount] = useRecoilState(repayAmount);\n  const [currency] = useRecoilState(repayCurrency);\n  const [txHash] = useRecoilState(repayTxHash);\n  const { address } = PoofAccountGlobal.useContainer();\n\n  return (\n    <Container>\n      <Text sx={{ display: \"block\", mb: 1 }} variant=\"subtitle\">\n        Alakazam!\n      </Text>\n      <Text sx={{ display: \"block\", mb: 4 }} variant=\"regular\">\n        You have completed repayment.{\" \"}\n        <BlockscoutTxLink tx={txHash}>View transaction</BlockscoutTxLink>.\n      </Text>\n\n      <GrayBox>\n        <Text sx={{ mb: 3 }} variant=\"subtitle\">\n          Receipt\n        </Text>\n        <br />\n        <SummaryTable\n          title=\"Transaction\"\n          lineItems={[\n            {\n              label: \"Time completed\",\n              value: moment().format(\"h:mm a\"),\n            },\n            {\n              label: \"Account\",\n              value: shortenAccount(address),\n            },\n            {\n              label: \"Est. total amount\",\n              value:\n                currency === gasCurrency\n                  ? `${humanFriendlyNumber(\n                      Number(amount) + Number(NETWORK_COST)\n                    )} ${gasCurrency}`\n                  : `${humanFriendlyNumber(\n                      amount\n                    )} ${currency} + ${humanFriendlyNumber(\n                      NETWORK_COST\n                    )} ${gasCurrency}`,\n            },\n          ]}\n          totalItem={{\n            label: \"Repayed\",\n            value: `${humanFriendlyNumber(amount)} ${currency}`,\n          }}\n        />\n      </GrayBox>\n\n      <Button sx={{ mt: 2, px: 6 }} variant=\"done\" onClick={onDoneClick}>\n        Done\n      </Button>\n    </Container>\n  );\n};\n","import React from \"react\";\nimport { DoRepay } from \"pages/RepayPage/DesktopRepayPage/DoRepay\";\nimport { RepayReceipt } from \"pages/RepayPage/DesktopRepayPage/RepayReceipt\";\n\nenum RepayStep {\n  DO = \"DO\",\n  RECEIPT = \"RECEIPT\",\n}\n\nconst DesktopRepayPage = () => {\n  const [repayStep, setRepayStep] = React.useState(RepayStep.DO);\n\n  switch (repayStep) {\n    case RepayStep.DO:\n      return (\n        <DoRepay\n          onRepayClick={async () => {\n            setRepayStep(RepayStep.RECEIPT);\n          }}\n        />\n      );\n    case RepayStep.RECEIPT:\n      return (\n        <RepayReceipt\n          onDoneClick={() => {\n            setRepayStep(RepayStep.DO);\n          }}\n        />\n      );\n  }\n};\n\nexport default DesktopRepayPage;\n","import React from \"react\";\nimport MobileRepayPage from \"pages/RepayPage/MobileRepayPage\";\nimport DesktopRepayPage from \"pages/RepayPage/DesktopRepayPage\";\nimport { Breakpoint, useBreakpoint } from \"hooks/useBreakpoint\";\n\nconst RepayPage: React.FC = () => {\n  const breakpoint = useBreakpoint();\n\n  if (breakpoint === Breakpoint.MOBILE) {\n    return <MobileRepayPage />;\n  }\n\n  return <DesktopRepayPage />;\n};\n\nexport default RepayPage;\n","import React from \"react\";\nimport { Box, Card, Flex, Text } from \"@theme-ui/components\";\nimport styled from \"@emotion/styled/macro\";\nimport { Link } from \"react-router-dom\";\n\nconst HomeCard = styled(Card)({});\n\nconst Icon = styled(Box)({\n  color: \"#7C71FC\",\n  fontSize: \"32px\",\n  width: \"48px\",\n  height: \"48px\",\n  padding: \"0px\",\n  background: \"var(--theme-ui-colors-iconBackground)\",\n  borderRadius: \"106px\",\n  display: \"flex\",\n  justifyContent: \"center\",\n  alignItems: \"center\",\n  transition: \"background 300ms ease-out\",\n  [`${HomeCard}:hover &`]: {\n    background: \"var(--theme-ui-colors-iconBackgroundHover)\",\n  },\n});\n\nconst NoStyleLink = styled(Link)({\n  textDecoration: \"none\",\n  color: \"var(--theme-ui-colors-primaryButtonColor)\",\n});\n\nexport const Desktop: React.FC<{\n  to: string;\n  label: string;\n  description?: string;\n  icon?: any;\n}> = ({ to, label, description, icon }) => {\n  return (\n    <NoStyleLink to={to}>\n      <HomeCard\n        variant=\"home\"\n        sx={{\n          cursor: \"pointer\",\n          borderWidth: [\"none\", \"none\", \"1px\"],\n          borderStyle: [\"none\", \"none\", \"solid\"],\n          borderColor: [\"none\", \"none\", \"cardBorder\"],\n          padding: [\"0\", \"0\", \"26px 24px\"],\n        }}\n      >\n        <Flex\n          sx={{\n            justifyContent: \"flex-start\",\n            alignItems: \"center\",\n            flexDirection: [\"column\", \"column\", \"row\"],\n          }}\n        >\n          {icon && (\n            <Icon sx={{ margin: [\"0\", \"0\", \"0px 20px 0px 5px\"] }}>{icon}</Icon>\n          )}\n          <div>\n            <Text\n              variant=\"form\"\n              sx={{\n                display: \"block\",\n                fontSize: [14, 14, 20],\n                textAlign: [\"center\", \"left\", \"left\"],\n                fontWeight: [400],\n                lineHeight: \"28px\",\n                color: \"regularText\",\n              }}\n              mb={1}\n            >\n              {label}\n            </Text>\n            {description && (\n              <Text\n                sx={{\n                  display: \"block\",\n                  fontSize: [16],\n                  fontWeight: [400],\n                  lineHeight: \"20px\",\n                  color: \"secondaryText\",\n                }}\n              >\n                {description}\n              </Text>\n            )}\n          </div>\n        </Flex>\n      </HomeCard>\n    </NoStyleLink>\n  );\n};\n","import React from \"react\";\nimport { Desktop } from \"components/HomeButton/Desktop\";\n// import { Mobile } from \"components/HomeButton/Mobile\";\n// import { Breakpoint, useBreakpoint } from \"hooks/useBreakpoint\";\n\nexport const HomeButton: React.FC<{\n  to: string;\n  label: string;\n  description?: string;\n  icon?: any; //TODO: get proper type\n}> = ({ to, label, description, icon }) => {\n  return (\n    <Desktop to={to} label={label} description={description} icon={icon} />\n  );\n};\n","import React from \"react\";\nimport { Card, Flex, Text, Button, Box } from \"@theme-ui/components\";\nimport styled from \"@emotion/styled\";\nimport {\n  Deposit as DepositIcon,\n  Loans as LoansIcon,\n  Repay as RepayIcon,\n  Request as RequestIcon,\n  Withdrawal as SendIcon,\n} from \"assets/icons/index\";\nimport { Link } from \"react-router-dom\";\nimport { Page } from \"state/global\";\nimport { HomeButton } from \"../HomeButton\";\n\nexport const BorderedBox = styled(Card)({\n  border: \"1px solid var(--theme-ui-colors-cardBorder)\",\n  boxSizing: \"border-box\",\n  borderRadius: \"16px\",\n  backgroundColor: \"#ffffff\",\n});\n\nconst Item = styled(Box)({\n  flex: 1,\n});\n\nexport const Label = styled(Box)({\n  fontSize: \"14px\",\n  fontWeight: \"normal\",\n  lineHeight: \"20px\",\n  backgroundColor: \"none\",\n  marginBottom: \"8px\",\n});\n\n//todo: EXPORT!\nexport const Money = styled(Box)({\n  fontWeight: 400,\n  marginBottom: \"18px\",\n});\n\nconst NoStyleLink = styled(Link)({\n  textDecoration: \"none\",\n  color: \"var(--theme-ui-colors-primaryButtonColor)\",\n});\n\nconst RichLink = styled(NoStyleLink)<{ disabled?: boolean }>(\n  ({ disabled = false }) => {\n    return {\n      pointerEvents: disabled ? \"none\" : \"inherit\",\n    };\n  }\n);\n\nexport const Desktop: React.FC<{\n  walletBalance: string;\n  debtTotal: string;\n  creditAvailable: string;\n  tvl: string;\n  tvlShare: string;\n}> = ({ walletBalance, debtTotal, creditAvailable, tvl, tvlShare }) => {\n  const canRepay = parseFloat(debtTotal) > 0;\n\n  return (\n    <Card variant=\"bordered\" sx={{ padding: [\"0\", \"26px 24px\", \"26px 24px\"] }}>\n      <Flex\n        sx={{\n          width: \"100%\",\n          flexDirection: [\"column\", \"row\", \"row\"],\n          padding: \"0\",\n        }}\n      >\n        <Item\n          sx={{\n            borderBottomWidth: [\"1px\", \"none\", \"none\"],\n            borderBottomStyle: [\"solid\", \"none\", \"none\"],\n            borderBottomColor: [\"cardBorder\", \"none\", \"none\"],\n            borderRightWidth: [\"none\", \"1px\"],\n            borderRightColor: [\"none\", \"cardBorder\"],\n            borderRightStyle: [\"none\", \"solid\"],\n            padding: [\"16px\", \"16px\", \"0\"],\n          }}\n        >\n          <Box sx={{ variant: \"box.label\" }}>Wallet Balance</Box>\n          <Money\n            sx={{ color: \"regularText\", fontSize: \"36px\", lineHeight: \"49px\" }}\n          >\n            ${walletBalance}\n          </Money>\n          <div>\n            <NoStyleLink to={Page.DEPOSIT}>\n              <Button variant=\"tertiary\">\n                <DepositIcon size={20} /> Deposit\n              </Button>\n            </NoStyleLink>\n          </div>\n        </Item>\n\n        <Item\n          sx={{\n            borderRightWidth: [\"none\", \"1px\"],\n            borderRightColor: [\"none\", \"cardBorder\"],\n            borderRightStyle: [\"none\", \"solid\"],\n            paddingLeft: \"16px\",\n            display: [\"none\", \"block\"],\n          }}\n        >\n          <Box sx={{ variant: \"box.label\" }}>Stats</Box>\n          <Money\n            sx={{\n              color: \"tertiaryText\",\n              fontSize: [\"24px\", \"24px\", \"36px\"],\n              lineHeight: [\"33px\", \"33px\", \"48px\"],\n            }}\n          >\n            TVL ${tvl}\n          </Money>\n          <Flex\n            sx={{\n              justifyItems: \"flex-start\",\n              alignItems: [\"flex-start\", \"flex-start\", \"center\"],\n            }}\n          >\n            <Text\n              sx={{ display: [\"none\", \"none\", \"block\"], color: \"tertiaryText\" }}\n            >\n              Your share: {tvlShare}%\n            </Text>\n          </Flex>\n        </Item>\n\n        <Item\n          sx={{\n            borderRight: \"none\",\n            padding: [\"16px\", \"16px\", \"0 0 0 16px\"],\n          }}\n        >\n          <Box sx={{ variant: \"box.label\" }}>Loans</Box>\n          <Money\n            sx={{\n              color: \"tertiaryText\",\n              fontSize: [\"24px\", \"24px\", \"36px\"],\n              lineHeight: [\"33px\", \"33px\", \"48px\"],\n            }}\n          >\n            ${debtTotal}\n          </Money>\n          <Flex\n            sx={{\n              justifyItems: \"flex-start\",\n              alignItems: [\"flex-start\", \"flex-start\", \"center\"],\n            }}\n          >\n            <RichLink to={Page.REPAY} disabled={!canRepay}>\n              <Button variant=\"tertiary\" sx={{ mr: 3 }} disabled={!canRepay}>\n                <RepayIcon size={20} /> Repay\n              </Button>\n            </RichLink>\n            <Text sx={{ display: [\"none\", \"none\", \"block\"], color: \"#7187FC\" }}>\n              Available Credit: ${creditAvailable}\n            </Text>\n          </Flex>\n        </Item>\n        <Item\n          sx={{\n            gridColumnStart: \"1\",\n            gridColumnEnd: \"3\",\n            borderTopWidth: [\"1px\", \"none\", \"none\"],\n            borderTopStyle: [\"solid\", \"none\", \"none\"],\n            borderTopColor: [\"cardBorder\", \"none\", \"none\"],\n            flex: [\"1\", \"1\", \"0\"],\n            padding: [\"16px\", \"16px\", \"0\"],\n          }}\n        >\n          <Flex\n            sx={{\n              mb: 3,\n              display: [\"flex\", \"flex\", \"none\"],\n              justifyContent: \"space-around\",\n            }}\n          >\n            <HomeButton\n              to={Page.SEND}\n              label={\"Send\"}\n              icon={<SendIcon size={28} />}\n            />\n            <HomeButton\n              to={Page.REQUEST}\n              label={\"Request\"}\n              icon={<RequestIcon size={28} />}\n            />\n            <HomeButton\n              to={Page.BORROW}\n              label={\"Borrow\"}\n              icon={<LoansIcon size={28} />}\n            />\n          </Flex>\n        </Item>\n      </Flex>\n    </Card>\n  );\n};\n","import styled from \"@emotion/styled/macro\";\nimport { Box, Flex } from \"@theme-ui/components\";\nimport { getPercentage } from \"../utils/number\";\n\ninterface IProps {\n  value: number | string;\n  max: number | string;\n  showPercentage?: boolean;\n  bold?: boolean;\n}\n\nexport const ProgressContainer = styled(Flex)`\n  progress[value] {\n    width: 100%;\n    -webkit-appearance: none;\n    appearance: none;\n\n    ::-webkit-progress-bar {\n      border-radius: 60px;\n      background: rgba(113, 135, 252, 0.15);\n    }\n\n    ::-webkit-progress-value {\n      background-color: #7187fc;\n      border-bottom-left-radius: 60px;\n      border-top-left-radius: 60px;\n    }\n  }\n`;\n\nexport const ProgressBar: React.FC<IProps> = ({\n  value,\n  max,\n  showPercentage = false,\n  bold = false,\n}) => {\n  return (\n    <ProgressContainer sx={{ flexDirection: \"column\" }}>\n      <progress\n        value={value}\n        max={max}\n        style={{ height: bold ? \"12px\" : \"6px\" }}\n      />\n      <Box hidden={!showPercentage} sx={{ color: \"mediumGray\", mt: \"10px\" }}>\n        {getPercentage(value, max)}\n      </Box>\n    </ProgressContainer>\n  );\n};\n\nProgressBar.defaultProps = {\n  showPercentage: true,\n  bold: false,\n};\n","import React from \"react\";\nimport { Box, Card, Flex } from \"@theme-ui/components\";\nimport { Button, Grid, Text } from \"theme-ui\";\nimport { Link } from \"react-router-dom\";\nimport { Loans as LoansIcon } from \"../../../assets/icons\";\nimport { Repay as RepayIcon } from \"../../../assets/icons\";\nimport styled from \"@emotion/styled\";\nimport { Money } from \"../../../components/WalletSummary/Desktop\";\nimport { AssetSummary } from \"../../../hooks/useAssets\";\nimport { ProgressBar } from \"../../../components/ProgressBar\";\nimport { getPercentage } from \"../../../utils/number\";\n\nconst RichLink = styled(Link)<{ disabled?: boolean }>(\n  ({ disabled = false }) => {\n    return {\n      pointerEvents: disabled ? \"none\" : \"inherit\",\n    };\n  }\n);\n\nconst CreditSummary: React.FC<{\n  summary: AssetSummary;\n}> = ({ summary }) => {\n  const hasBorrowed: boolean = parseFloat(summary.totalLoansInUsd) > 0;\n  const canBorrow: boolean = parseFloat(summary.availableAssetsInUsd) > 0;\n\n  return (\n    <Card variant=\"bordered\">\n      <Flex sx={{ justifyContent: \"space-between\", paddingBottom: \"0\" }}>\n        <Flex sx={{ flexDirection: \"column\", paddingBottom: \"0\" }}>\n          <Box sx={{ variant: \"box.label\", paddingBottom: \"0\" }}>Borrowed</Box>\n          <Money sx={{ fontSize: \"36px\", lineHeight: \"49px\" }}>\n            ${summary.totalLoansInUsd}\n          </Money>\n        </Flex>\n      </Flex>\n      <Grid columns={1} sx={{ paddingTop: \"0\" }}>\n        <Box>\n          <ProgressBar\n            bold\n            showPercentage={false}\n            value={summary.totalLoansInUsd}\n            max={summary.availableAssetsInUsd}\n          />\n        </Box>\n        <Grid columns={\"1fr 4fr\"}>\n          <Box>\n            {getPercentage(\n              summary.totalLoansInUsd,\n              summary.availableAssetsInUsd\n            )}\n          </Box>\n          <Flex sx={{ alignItems: \"center\", justifyContent: \"flex-end\" }}>\n            <Box>Credit available</Box>\n            <Box ml={1}>${summary.availableAssetsInUsd}</Box>\n          </Flex>\n        </Grid>\n      </Grid>\n\n      <Flex>\n        <RichLink to={\"/loans/borrow\"} disabled={!canBorrow}>\n          <Button\n            variant=\"tertiary\"\n            sx={{ display: \"inline-block\" }}\n            disabled={!canBorrow}\n          >\n            <Grid\n              columns={\"auto 1fr\"}\n              gap={\"4px\"}\n              sx={{ alignItems: \"center\" }}\n            >\n              <LoansIcon size={20} />\n              Borrow\n            </Grid>\n          </Button>\n        </RichLink>\n        <RichLink to={\"/loans/repay\"} disabled={!hasBorrowed}>\n          <Button\n            variant=\"tertiary\"\n            sx={{ display: \"inline-block\" }}\n            ml={1}\n            disabled={!hasBorrowed}\n          >\n            <Grid\n              columns={\"auto 1fr\"}\n              gap={\"4px\"}\n              sx={{ alignItems: \"center\" }}\n            >\n              <RepayIcon size={20} />\n              Repay\n            </Grid>\n          </Button>\n        </RichLink>\n      </Flex>\n\n      <Flex\n        sx={{\n          flexDirection: \"column\",\n          borderTopWidth: \"1px\",\n          borderTopStyle: \"solid\",\n          borderTopColor: \"cardBorder\",\n        }}\n        pt={4}\n      >\n        <Flex sx={{ justifyContent: \"space-between\" }}>\n          <Text>Wallet balance</Text>\n          <Money>${summary.totalBalanceInUsd}</Money>\n        </Flex>\n        <Flex sx={{ justifyContent: \"space-between\" }}>\n          <Text>Credit</Text>\n          <Money>-${summary.totalLoansInUsd}</Money>\n        </Flex>\n      </Flex>\n    </Card>\n  );\n};\n\nexport default CreditSummary;\n","import React from \"react\";\nimport { Box, Card, Flex, Grid } from \"@theme-ui/components\";\nimport { Money } from \"../../../components/WalletSummary/Desktop\";\nimport { Link } from \"react-router-dom\";\nimport { Button } from \"theme-ui\";\nimport { Loans as LoansIcon } from \"../../../assets/icons\";\nimport { Repay as RepayIcon } from \"../../../assets/icons\";\nimport { ProgressBar } from \"../../../components/ProgressBar\";\nimport styled from \"@emotion/styled/macro\";\n\nconst RichLink = styled(Link)<{ disabled?: boolean }>(\n  ({ disabled = false }) => {\n    return {\n      pointerEvents: disabled ? \"none\" : \"inherit\",\n    };\n  }\n);\n\nconst StyledLink = styled(RichLink)`\n  flex: 1;\n\n  &:not(:last-child) {\n    margin-right: 8px;\n  }\n`;\n\nconst SingleCreditSummary: React.FC<{ asset: any }> = ({ asset }) => {\n  const hasBorrowed: boolean = parseFloat(asset.amount_debt) > 0;\n  const canBorrow: boolean = parseFloat(asset.credit_available) > 0;\n\n  return (\n    <Card sx={{ variant: \"cards.bordered\" }} mb={3}>\n      <Grid columns={[\"1\"]} gap={0} sx={{ height: \"100%\" }}>\n        <Flex\n          sx={{\n            alignItems: \"center\",\n            justifyContent: \"space-between\",\n            width: \"100%\",\n          }}\n          mb={4}\n        >\n          <Flex\n            sx={{\n              alignItems: \"center\",\n              justifyContent: [\"space-between\", \"flex-start\", \"flex-start\"],\n              width: \"100%\",\n            }}\n          >\n            <Flex sx={{ alignItems: \"center\" }}>{asset.icon}</Flex>\n            <Flex sx={{ flexDirection: \"column\", height: 40 }} ml={8}>\n              <Box sx={{ variant: \"box.responsiveLabel\" }}>\n                Remaining credit\n              </Box>\n              <Flex sx={{ flexGrow: 2 }}>\n                <Money sx={{ fontSize: \"16px\" }}>\n                  {asset.credit_available}\n                </Money>\n                <Box sx={{ fontWeight: [700] }} ml={2}>\n                  {asset.pSymbol}\n                </Box>\n              </Flex>\n            </Flex>\n            <Flex\n              sx={{\n                flexDirection: \"column\",\n                height: 40,\n                alignItems: [\"flex-end\", \"flex-start\", \"flex-start\"],\n              }}\n              ml={[\"auto\", \"8px\", \"90px\"]}\n            >\n              <Box sx={{ variant: \"box.responsiveLabel\" }}>Balance</Box>\n              <Money>\n                {asset.amount_debt} <strong>{asset.symbol}</strong>\n              </Money>\n            </Flex>\n          </Flex>\n          <Box\n            sx={{\n              alignItems: \"center\",\n              justifyItems: \"center\",\n              display: [\"none\", \"flex\", \"flex\"],\n            }}\n          >\n            <RichLink\n              to={`/loans/repay?currency=${asset.pSymbol}`}\n              hidden={!hasBorrowed}\n            >\n              <Button variant=\"tertiary\" sx={{ display: \"inline-block\" }}>\n                <Grid\n                  columns={\"1fr 1fr\"}\n                  gap={\"8px\"}\n                  sx={{ alignItems: \"center\" }}\n                >\n                  <RepayIcon size={20} />\n                  Repay\n                </Grid>\n              </Button>\n            </RichLink>\n            <RichLink\n              to={`/loans/borrow?currency=${asset.symbol}`}\n              hidden={!canBorrow}\n            >\n              <Button\n                variant=\"tertiary\"\n                sx={{ display: \"inline-block\" }}\n                ml={1}\n              >\n                <Grid\n                  columns={\"1fr 1fr\"}\n                  gap={\"8px\"}\n                  sx={{ alignItems: \"center\" }}\n                >\n                  <LoansIcon size={20} />\n                  Borrow\n                </Grid>\n              </Button>\n            </RichLink>\n          </Box>\n        </Flex>\n        <Box>\n          <ProgressBar value={asset.amount_debt} max={asset.credit_available} />\n        </Box>\n        <Box\n          sx={{\n            alignItems: \"center\",\n            justifyItems: \"center\",\n            display: [\"flex\", \"none\", \"none\"],\n          }}\n        >\n          {Number(asset.amount_formatted) > 0 && (\n            <StyledLink\n              to={`/loans/repay?currency=${asset.pSymbol}`}\n              style={{ flex: \"1\" }}\n              disabled={!hasBorrowed}\n            >\n              <Button\n                variant=\"primary\"\n                sx={{ display: \"inline-block\", width: \"100%\" }}\n                disabled={!hasBorrowed}\n              >\n                <Flex sx={{ alignItems: \"center\", justifyContent: \"center\" }}>\n                  <RepayIcon size={20} />\n                  <Box ml={2}>Repay</Box>\n                </Flex>\n              </Button>\n            </StyledLink>\n          )}\n          {Number(asset.credit_available) > 0 && (\n            <StyledLink\n              to={`/loans/borrow?currency=${asset.symbol}`}\n              style={{ flex: \"1\" }}\n              disabled={!canBorrow}\n            >\n              <Button\n                variant=\"primary\"\n                sx={{ display: \"inline-block\", width: \"100%\" }}\n                disabled={!canBorrow}\n              >\n                <Flex sx={{ alignItems: \"center\", justifyContent: \"center\" }}>\n                  <LoansIcon size={20} />\n                  <Box ml={2}>Borrow</Box>\n                </Flex>\n              </Button>\n            </StyledLink>\n          )}\n        </Box>\n      </Grid>\n    </Card>\n  );\n};\n\nexport default SingleCreditSummary;\n","import { Donut, Flex, Text } from \"@theme-ui/components\";\nimport moment from \"moment\";\nimport { useEffect, useState } from \"react\";\n\ninterface IProps {\n  message?: string;\n  estimatedTimeInSeconds: number;\n}\nexport const TimedSpinner: React.FC<IProps> = ({\n  message,\n  estimatedTimeInSeconds,\n}) => {\n  const [timeRemaining, setTimeRemaining] = useState(estimatedTimeInSeconds);\n  useEffect(() => {\n    const interval = setInterval(\n      () => setTimeRemaining(Math.max(timeRemaining - 1, 0)),\n      1000\n    );\n    return () => {\n      clearInterval(interval);\n    };\n  }, [timeRemaining, setTimeRemaining]);\n  return (\n    <Flex sx={{ alignItems: \"center\" }}>\n      <Donut\n        min={0}\n        max={estimatedTimeInSeconds}\n        value={estimatedTimeInSeconds - timeRemaining}\n        mr={2}\n        size={32}\n      />\n      <Text>\n        {message} About{\" \"}\n        {moment.duration(timeRemaining, \"seconds\").humanize(false)} remaining...\n      </Text>\n    </Flex>\n  );\n};\n","import React from \"react\";\nimport { Container, Grid, Text } from \"theme-ui\";\nimport { Box } from \"@theme-ui/components\";\nimport CreditSummary from \"./CreditSummary\";\nimport SingleCreditSummary from \"./SingleCreditSumarry\";\nimport { AssetsWithSummary } from \"../../hooks/useAssets\";\nimport { TimedSpinner } from \"../../components/Loaders/TimedSpinner\";\n\nconst LoansSummary: React.FC<{\n  assetsWithSummary: AssetsWithSummary;\n}> = ({ assetsWithSummary }) => {\n  function getSingleCreditSummaries() {\n    if (assetsWithSummary && assetsWithSummary.assets.length > 0) {\n      return assetsWithSummary.assets.map((asset: any) => (\n        <SingleCreditSummary asset={asset} />\n      ));\n    } else {\n      return <TimedSpinner estimatedTimeInSeconds={5} />;\n    }\n  }\n\n  return (\n    <Box>\n      <Text sx={{ display: \"block\" }} variant=\"title\" mb={2}>\n        Credit summary\n      </Text>\n      <Grid\n        sx={{ gridTemplateColumns: [\"1fr\", \"1fr\", \"1fr 3fr\"], gridGap: 20 }}\n      >\n        <Container>\n          {assetsWithSummary && (\n            <CreditSummary summary={assetsWithSummary.summary} />\n          )}\n        </Container>\n        <Container>{getSingleCreditSummaries()}</Container>\n      </Grid>\n    </Box>\n  );\n};\n\nexport default LoansSummary;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { Button, Flex, Text } from \"theme-ui\";\nimport { Link, Route, useLocation } from \"react-router-dom\";\nimport { Page } from \"state/global\";\nimport { SwitchButtons } from \"../SendAndRequestPage\";\nimport { Box, Grid } from \"@theme-ui/components\";\nimport BorrowPage from \"../BorrowPage\";\nimport RepayPage from \"../RepayPage\";\nimport LoansSummary from \"./LoansSummary\";\nimport { ArrowLeft } from \"react-feather\";\nimport { StyledLink } from \"../../components/StyledLink\";\nimport { useHiddenBalances } from \"../../hooks/useHiddenBalances\";\nimport { AssetsWithSummary, useAssets } from \"../../hooks/useAssets\";\nimport { CurrenciesContext } from \"contexts/currencies\";\n\nconst LoansPage: React.FC = () => {\n  const [current, setCurrent] = useState(Page.LOANS);\n  const location = useLocation();\n\n  const [hiddenBalances] = useHiddenBalances();\n  const { toUSD } = useContext(CurrenciesContext);\n\n  const assetsWithSummary: AssetsWithSummary = useAssets(\n    toUSD,\n    hiddenBalances,\n    {}\n  );\n\n  useEffect(() => {\n    if (location.pathname.includes(Page.BORROW)) {\n      setCurrent(Page.BORROW);\n    }\n    if (location.pathname.includes(Page.REPAY)) {\n      setCurrent(Page.REPAY);\n    }\n    if (location.pathname === \"/loans\") {\n      setCurrent(Page.LOANS);\n    }\n  }, [location]);\n\n  return (\n    <>\n      {current !== Page.LOANS && (\n        <Grid\n          sx={{\n            marginBottom: \"52px\",\n            gridTemplateColumns: \"200px 1fr 200px\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n          }}\n        >\n          <StyledLink to={\"/loans\"}>\n            <Flex sx={{ alignItems: \"center\" }}>\n              <ArrowLeft />\n              <Text\n                sx={{\n                  color: \"purple400\",\n                  textDecoration: \"none\",\n                  fontSize: \"16px\",\n                  lineHeight: \"22px\",\n                }}\n              >\n                Back to loans\n              </Text>\n            </Flex>\n          </StyledLink>\n          <Flex sx={{ justifyContent: \"center\" }}>\n            <SwitchButtons sx={{ display: \"inline-block\" }} active={current}>\n              <Link to={\"/loans/borrow\"}>\n                <Button\n                  className={current === Page.BORROW ? \"active\" : \"\"}\n                  sx={{ display: \"inline-block\" }}\n                >\n                  Borrow\n                </Button>\n              </Link>\n              <Link to={\"/loans/repay\"}>\n                <Button\n                  className={current === Page.REPAY ? \"active\" : \"\"}\n                  sx={{ display: \"inline-block\" }}\n                >\n                  Repay\n                </Button>\n              </Link>\n            </SwitchButtons>\n          </Flex>\n          <Box></Box>\n        </Grid>\n      )}\n\n      <Route\n        exact\n        path=\"/loans\"\n        render={() => <LoansSummary assetsWithSummary={assetsWithSummary} />}\n      />\n      <Route exact path=\"/loans/borrow\" component={BorrowPage} />\n      <Route exact path=\"/loans/repay\" component={RepayPage} />\n    </>\n  );\n};\nexport default LoansPage;\n","import { useEffect, useState } from \"react\";\nimport { humanFriendlyWei } from \"../utils/eth\";\nimport { humanFriendlyNumber, parseNumber, toBN } from \"../utils/number\";\nimport { logo } from \"assets/icons\";\n\nexport interface AssetSummary {\n  totalBalanceInUsd: string;\n  totalLoansInUsd: string;\n  availableAssetsInUsd: string;\n}\n\nexport interface AssetsWithSummary {\n  summary: AssetSummary;\n  assets: any[];\n}\n\nexport const useAssets = (toUSD: any, assets: any, currencyData: any = {}) => {\n  const [transformedAssets, setTransformedAssets] = useState<AssetsWithSummary>(\n    {\n      assets: [],\n      summary: {\n        totalBalanceInUsd: \"0\",\n        totalLoansInUsd: \"0\",\n        availableAssetsInUsd: \"0\",\n      },\n    }\n  );\n\n  useEffect(() => {\n    return () => {\n      let transformedAssets = { ...currencyData };\n      let total_usd = 0.0;\n      let assetsWithSummary: AssetsWithSummary;\n      if (assets) {\n        assets.forEach((a: any) => {\n          if (transformedAssets[a.symbol] === undefined) {\n            transformedAssets[a.symbol] = {\n              icon: logo(a.symbol, 40),\n              asset_pcnt: 0,\n              credit: 0,\n              credit_usd: 0,\n            };\n          }\n\n          transformedAssets[a.symbol] = {\n            ...transformedAssets[a.symbol], //DEFAULTS\n            ...a, //DATA from wallets\n            amount_formatted: humanFriendlyWei(a.amount),\n            amount_usd: humanFriendlyNumber(\n              toUSD(humanFriendlyWei(a.amount), a.symbol)\n            ),\n            amount_debt: humanFriendlyNumber(humanFriendlyWei(a.debt)),\n            amount_debt_usd: humanFriendlyNumber(\n              toUSD(humanFriendlyWei(a.debt), a.symbol)\n            ),\n            credit_available: humanFriendlyWei(\n              toBN(a.amount).sub(toBN(a.debt))\n            ),\n          };\n          total_usd += parseFloat(transformedAssets[a.symbol].amount_usd);\n        });\n        Object.entries(transformedAssets).forEach((v: any) => {\n          let [key, value] = v;\n          transformedAssets[key] = {\n            ...value,\n            asset_pcnt:\n              total_usd <= 0\n                ? 0\n                : ((parseFloat(value.amount_usd) / total_usd) * 100).toFixed(2),\n          };\n        });\n        transformedAssets = Object.entries(transformedAssets).map((v: any) => {\n          let value = v[1];\n          return value;\n        });\n\n        let totalBalanceInUsd = 0;\n        let totalLoansInUsd = 0;\n        if (transformedAssets.length > 0) {\n          totalBalanceInUsd = transformedAssets\n            .map((asset: any) => parseNumber(asset.amount_usd))\n            .reduce((val1: any, val2: any) => {\n              return val1 + val2;\n            });\n          totalLoansInUsd = transformedAssets\n            .map((asset: any) =>\n              parseFloat(\n                humanFriendlyNumber(\n                  toUSD(humanFriendlyWei(asset.debt), asset.symbol)\n                )\n              )\n            )\n            .reduce((val1: any, val2: any) => {\n              return val1 + val2;\n            });\n        }\n\n        assetsWithSummary = {\n          assets: transformedAssets,\n          summary: {\n            totalBalanceInUsd: humanFriendlyNumber(totalBalanceInUsd),\n            totalLoansInUsd: humanFriendlyNumber(totalLoansInUsd),\n            availableAssetsInUsd: humanFriendlyNumber(\n              totalBalanceInUsd - totalLoansInUsd\n            ),\n          },\n        };\n\n        setTransformedAssets(assetsWithSummary);\n      }\n    };\n  }, [assets]); //eslint-disable-line\n\n  return transformedAssets;\n};\n","import { atom } from \"recoil\";\n\nexport const depositAmount = atom({\n  key: \"DEPOSIT_AMOUNT\",\n  default: \"0\",\n});\n\nexport const depositCurrency = atom({\n  key: \"DEPOSIT_CURRENCY\",\n  default: \"cUSD\",\n});\n\nexport enum DepositStage {\n  START,\n  SIGNING,\n  TXN_SENDING,\n  PROVING,\n}\n\nexport const depositStage = atom({\n  key: \"DEPOSIT_STAGE\",\n  default: DepositStage.START,\n});\n\nexport const depositTxHash = atom({\n  key: \"DEPOSIT_TX_HASH\",\n  default: \"\",\n});\n","import React from \"react\";\nimport { Button, Container, Flex, Spinner, Text } from \"theme-ui\";\nimport { BackButton } from \"components/BackButton\";\nimport { ActionDrawer } from \"components/ActionDrawer\";\nimport { LabelWithBalance } from \"components/LabelWithBalance\";\nimport { SummaryTable } from \"components/SummaryTable\";\nimport { humanFriendlyNumber } from \"utils/number\";\nimport { useRecoilState } from \"recoil\";\nimport {\n  depositAmount,\n  depositCurrency,\n  DepositStage,\n  depositStage,\n} from \"../state\";\nimport { NETWORK_COST } from \"config\";\nimport { WalletGlobal } from \"hooks/useWallet\";\n\ninterface IProps {\n  onBackClick: () => void;\n  onConfirmClick: () => void;\n}\n\nexport const ConfirmDeposit: React.FC<IProps> = ({\n  onBackClick,\n  onConfirmClick,\n}) => {\n  const { gasCurrency } = WalletGlobal.useContainer();\n  const [amount] = useRecoilState(depositAmount);\n  const [currency] = useRecoilState(depositCurrency);\n  const [stage] = useRecoilState(depositStage);\n  const totalCost = Number(amount) + Number(NETWORK_COST);\n\n  let button = (\n    <Button onClick={onConfirmClick} variant=\"primary\">\n      Deposit\n    </Button>\n  );\n\n  return (\n    <Container>\n      <BackButton onClick={onBackClick} />\n      <br />\n      <Text sx={{ mb: 1 }} variant=\"subtitle\">\n        Transaction Summary\n      </Text>\n      <br />\n      <Text sx={{ mb: 4 }} variant=\"regularGray\">\n        Please review the transaction before continuing\n      </Text>\n      <br />\n      <SummaryTable\n        title=\"Summary\"\n        lineItems={[\n          {\n            label: \"Deposit Amount\",\n            value: `${humanFriendlyNumber(amount)} ${currency}`,\n          },\n          {\n            label: \"Est. Network Fee\",\n            value: `${humanFriendlyNumber(NETWORK_COST)} ${gasCurrency}`,\n          },\n        ]}\n        totalItem={{\n          label: \"Est. Total\",\n          value:\n            currency === gasCurrency\n              ? `${humanFriendlyNumber(\n                  Number(amount) + Number(NETWORK_COST)\n                )} ${gasCurrency}`\n              : `${humanFriendlyNumber(\n                  Number(amount)\n                )} ${currency} + ${humanFriendlyNumber(\n                  NETWORK_COST\n                )} ${gasCurrency}`,\n        }}\n      />\n\n      <ActionDrawer>\n        {stage !== DepositStage.START ? (\n          <Flex sx={{ justifyContent: \"flex-end\" }}>\n            <Spinner />\n          </Flex>\n        ) : (\n          <Flex sx={{ justifyContent: \"space-between\" }}>\n            <LabelWithBalance\n              label=\"Total\"\n              amount={totalCost.toString()}\n              currency={currency}\n            />\n            {button}\n          </Flex>\n        )}\n      </ActionDrawer>\n    </Container>\n  );\n};\n","import React from \"react\";\nimport { Button, Container, Flex, Text } from \"theme-ui\";\nimport moment from \"moment\";\nimport { BlockscoutTxLink } from \"components/Links\";\nimport { ActionDrawer } from \"components/ActionDrawer\";\nimport { LabelWithBalance } from \"components/LabelWithBalance\";\nimport { SummaryTable } from \"components/SummaryTable\";\nimport { humanFriendlyNumber } from \"utils/number\";\nimport { shortenAccount } from \"utils/account\";\nimport { depositAmount, depositCurrency, depositTxHash } from \"../state\";\nimport { useRecoilState } from \"recoil\";\nimport { PoofAccountGlobal } from \"hooks/poofAccount\";\nimport { NETWORK_COST } from \"config\";\nimport { WalletGlobal } from \"hooks/useWallet\";\n\ninterface IProps {\n  onDoneClick: () => void;\n}\n\nexport const DepositReceipt: React.FC<IProps> = ({ onDoneClick }) => {\n  const { gasCurrency } = WalletGlobal.useContainer();\n  const [amount] = useRecoilState(depositAmount);\n  const [currency] = useRecoilState(depositCurrency);\n  const [txHash] = useRecoilState(depositTxHash);\n  const { address } = PoofAccountGlobal.useContainer();\n\n  return (\n    <Container>\n      <Text sx={{ display: \"block\", mb: 1 }} variant=\"subtitle\">\n        Alakazam!\n      </Text>\n      <Text sx={{ display: \"block\", mb: 4 }} variant=\"regular\">\n        You deposit is complete.{\" \"}\n        <BlockscoutTxLink tx={txHash}>View transaction</BlockscoutTxLink>.\n      </Text>\n\n      <SummaryTable\n        title=\"Transaction\"\n        lineItems={[\n          {\n            label: \"Time completed\",\n            value: moment().format(\"h:mm a\"),\n          },\n          {\n            label: \"Account\",\n            value: shortenAccount(address),\n          },\n          {\n            label: \"Est. total amount\",\n            value:\n              currency === gasCurrency\n                ? `${humanFriendlyNumber(\n                    Number(amount) + Number(NETWORK_COST)\n                  )} ${gasCurrency}`\n                : `${humanFriendlyNumber(\n                    amount\n                  )} ${currency} + ${humanFriendlyNumber(\n                    NETWORK_COST\n                  )} ${gasCurrency}`,\n          },\n        ]}\n        totalItem={{\n          label: \"Deposited\",\n          value: `${humanFriendlyNumber(amount)} ${currency}`,\n        }}\n      />\n\n      <ActionDrawer>\n        <Flex sx={{ justifyContent: \"space-between\" }}>\n          <LabelWithBalance\n            label=\"Deposited\"\n            amount={amount}\n            currency={currency}\n          />\n          <Button\n            onClick={() => {\n              onDoneClick();\n            }}\n            variant=\"done\"\n          >\n            Done\n          </Button>\n        </Flex>\n      </ActionDrawer>\n    </Container>\n  );\n};\n","import React from \"react\";\nimport { toBN, toWei } from \"web3-utils\";\nimport { useRecoilState } from \"recoil\";\nimport { toastTx } from \"utils/toastTx\";\nimport { PoofKit } from \"@poofcash/poof-v2-kit\";\nimport {\n  depositAmount,\n  depositCurrency,\n  DepositStage,\n  depositStage,\n} from \"pages/DepositPage/state\";\nimport { WalletGlobal } from \"hooks/useWallet\";\n\nexport const useDepositApprove = () => {\n  const [amount] = useRecoilState(depositAmount);\n  const [currency] = useRecoilState(depositCurrency);\n  const [, setStage] = useRecoilState(depositStage);\n  const { getConnectedWeb3, address, gasPrice } = WalletGlobal.useContainer();\n\n  const approve = React.useCallback(async (): Promise<void> => {\n    if (!amount || !currency) {\n      alert(\"Invalid deposit\");\n      return;\n    }\n    const web3 = await getConnectedWeb3();\n    const poofKit = new PoofKit(web3);\n    const poolMatch = await poofKit.poolMatch(currency);\n    if (poolMatch) {\n      try {\n        const txo = await poofKit.approve(\n          currency,\n          toBN(toWei(amount)).mul(toBN(1001)).div(toBN(1000)) // Add 0.1% buffer\n        );\n        const params = {\n          from: address || undefined,\n          to: poolMatch.tokenAddress,\n          data: txo.encodeABI(),\n          gasPrice,\n        };\n        const gas = await txo.estimateGas(params);\n        setStage(DepositStage.SIGNING);\n        const tx = await web3.eth.sendTransaction(\n          {\n            ...params,\n            gas,\n          },\n          (err) => {\n            if (err) throw err;\n            setStage(DepositStage.TXN_SENDING);\n          }\n        );\n        setStage(DepositStage.TXN_SENDING);\n        tx.transactionHash && toastTx(tx.transactionHash);\n      } catch (error) {\n        throw error;\n      }\n    }\n  }, [amount, currency, getConnectedWeb3, setStage, address, gasPrice]);\n\n  return approve;\n};\n","import React from \"react\";\nimport { Button, Spinner, Text } from \"@theme-ui/components\";\nimport { Box, Flex, Input, Link } from \"theme-ui\";\nimport { ActionDrawer } from \"components/ActionDrawer\";\nimport { LabelWithBalance } from \"components/LabelWithBalance\";\nimport { Breakpoint, useBreakpoint } from \"hooks/useBreakpoint\";\nimport { deployments } from \"@poofcash/poof-v2-kit\";\nimport { useRecoilState } from \"recoil\";\nimport {\n  depositAmount,\n  depositCurrency,\n  DepositStage,\n  depositStage,\n} from \"../state\";\nimport { useDeposit } from \"hooks/actions/useDeposit\";\nimport { useDepositApprove } from \"hooks/actions/useDepositApprove\";\nimport { SummaryTable } from \"components/SummaryTable\";\nimport { humanFriendlyNumber } from \"utils/number\";\nimport { useTokenBalance } from \"hooks/useTokenBalance\";\nimport { fromWei, toBN, toWei } from \"web3-utils\";\nimport { ProofGenLoading } from \"components/Loaders/ProofGenLoading\";\nimport { WalletGlobal } from \"hooks/useWallet\";\nimport { StyledSelect } from \"../../../components/StyledSelect\";\nimport { ProcessingSpinner } from \"components/Loaders/ProcessingSpinner\";\n\ninterface IProps {\n  onDepositClick?: () => void;\n}\n\n// pass props and State interface to Component class\nexport const PickDeposit: React.FC<IProps> = ({ onDepositClick }) => {\n  const { connect, address, network } = WalletGlobal.useContainer();\n  const [connected, setConnected] = React.useState(false);\n  const [amount, setAmount] = useRecoilState(depositAmount);\n  const [currency, setCurrency] = useRecoilState(depositCurrency);\n  React.useEffect(() => {\n    setCurrency(\n      deployments[network.chainId].find((d) => d.symbol === \"cUSD\")?.symbol ||\n        deployments[network.chainId][0].symbol\n    );\n  }, [network.chainId, setCurrency]);\n  const [stage, setStage] = useRecoilState(depositStage);\n  const [balance, refetchBalance] = useTokenBalance(currency, address);\n\n  const maxDeposit = balance\n    ? fromWei(balance.ownerBalance.mul(toBN(1000)).div(toBN(1001))).toString()\n    : '0\"';\n\n  const breakpoint = useBreakpoint();\n\n  const deposit = useDeposit();\n  const depositApprove = useDepositApprove();\n\n  const approved = balance.allowance.gt(\n    toBN(toWei(isNaN(Number(amount)) ? \"0\" : Number(amount).toString()))\n  );\n  let button = (\n    <Button\n      onClick={async () => {\n        await connect()\n          .then(() => setConnected(true))\n          .catch((e) => {\n            console.error(e);\n          });\n      }}\n    >\n      Connect Wallet\n    </Button>\n  );\n  if (connected) {\n    button = (\n      <Button\n        onClick={async () => {\n          try {\n            if (!approved) {\n              await depositApprove();\n            }\n            await deposit();\n            refetchBalance();\n            onDepositClick && onDepositClick();\n          } catch (e: any) {\n            console.error(e);\n            alert(e.message);\n          } finally {\n            setStage(DepositStage.START);\n          }\n        }}\n        disabled={\n          isNaN(Number(amount)) ||\n          Number(amount) === 0 ||\n          Number(amount) > Number(maxDeposit)\n        }\n      >\n        Deposit\n      </Button>\n    );\n  }\n\n  const currencyOptions = deployments[network.chainId].map((entry, idx) => ({\n    value: entry.symbol,\n    label: entry.symbol,\n  }));\n\n  return (\n    <>\n      <Text variant=\"form\" sx={{ mb: 2 }}>\n        Currency\n      </Text>\n      <Box sx={{ mb: 2 }}>\n        <StyledSelect\n          value={currency}\n          options={currencyOptions}\n          onSelect={(e) => setCurrency(e.value)}\n        />\n      </Box>\n      <Box mb={4}>\n        <Flex sx={{ width: \"100%\", justifyContent: \"space-between\" }} mb={1}>\n          <Text variant=\"form\">Amount</Text>\n          {connected && (\n            <Text sx={{ whiteSpace: \"nowrap\" }} variant=\"form\">\n              <Link\n                sx={{ maxWidth: \"100%\" }}\n                onClick={() => {\n                  if (balance) {\n                    setAmount(maxDeposit);\n                  }\n                }}\n              >\n                max: {humanFriendlyNumber(maxDeposit)} {currency}\n              </Link>\n            </Text>\n          )}\n        </Flex>\n        <Input\n          sx={{ width: \"100%\" }}\n          placeholder=\"Enter an amount to deposit\"\n          value={amount}\n          onChange={(e) => setAmount(e.target.value)}\n        />\n      </Box>\n      {breakpoint === Breakpoint.DESKTOP && (\n        <Box mt={4}>\n          {stage === DepositStage.TXN_SENDING && (\n            <Flex sx={{ alignItems: \"center\" }}>\n              <Spinner mr={2} />\n              <Text>Sending transaction through the network...</Text>\n            </Flex>\n          )}\n          {stage === DepositStage.PROVING && <ProofGenLoading />}\n          {stage === DepositStage.SIGNING && (\n            <Text>To continue, sign the transaction in your wallet.</Text>\n          )}\n          {stage === DepositStage.START && button}\n        </Box>\n      )}\n\n      {breakpoint === Breakpoint.MOBILE && (\n        <>\n          <Box mt={7}>\n            <SummaryTable\n              lineItems={[\n                {\n                  label: \"Withdrawal Amount\",\n                  value: `${humanFriendlyNumber(amount)} ${currency}`,\n                },\n              ]}\n              totalItem={{\n                label: \"Total\",\n                value: `${humanFriendlyNumber(amount)} ${currency}`,\n              }}\n            />\n          </Box>\n          <ActionDrawer>\n            <Flex\n              sx={{\n                alignItems: \"center\",\n                justifyContent: \"space-between\",\n              }}\n            >\n              <LabelWithBalance\n                label=\"Total\"\n                amount={amount}\n                currency={currency}\n              />\n              {stage === DepositStage.TXN_SENDING && (\n                <Flex sx={{ alignItems: \"center\" }}>\n                  <Spinner mr={2} />\n                  <Text>Sending transaction through the network...</Text>\n                </Flex>\n              )}\n              {stage === DepositStage.SIGNING && (\n                <Text>To continue, sign the transaction in your wallet.</Text>\n              )}\n              {stage === DepositStage.START && button}\n            </Flex>\n          </ActionDrawer>\n        </>\n      )}\n    </>\n  );\n};\n","import React from \"react\";\nimport { useRecoilState } from \"recoil\";\nimport {\n  depositAmount,\n  depositCurrency,\n  DepositStage,\n  depositStage,\n  depositTxHash,\n} from \"pages/DepositPage/state\";\nimport { PoofKitGlobal } from \"hooks/usePoofKit\";\nimport { PoofAccountGlobal } from \"hooks/poofAccount\";\nimport { toBN, toWei } from \"web3-utils\";\nimport { WalletGlobal } from \"hooks/useWallet\";\nimport { getNewAccountEvents } from \"utils/getPoofEvents\";\nimport Web3 from \"web3\";\n\nexport function useDeposit() {\n  const { address, getConnectedWeb3, gasPrice } = WalletGlobal.useContainer();\n  const [, setTxHash] = useRecoilState(depositTxHash);\n  const [amount] = useRecoilState(depositAmount);\n  const [currency] = useRecoilState(depositCurrency);\n  const [, setStage] = useRecoilState(depositStage);\n  const { poofKit, progress } = PoofKitGlobal.useContainer();\n  const { poofAccount, privateKey } = PoofAccountGlobal.useContainer();\n\n  // TODO(bl): TreeUpdate always should be used here\n  const deposit = React.useCallback(async () => {\n    if (progress < 1) {\n      alert(\"Poof kit still loading\");\n      return;\n    }\n    if (!poofAccount || !privateKey) {\n      alert(\"No poof account or private key\");\n      return;\n    }\n    const poolMatch = await poofKit.poolMatch(currency);\n    const web3 = await getConnectedWeb3();\n    if (poolMatch) {\n      try {\n        setStage(DepositStage.PROVING);\n        const accountEvents = await getNewAccountEvents(\n          web3 as Web3,\n          poolMatch\n        );\n        const txo = await poofKit.deposit(\n          privateKey,\n          currency,\n          toBN(toWei(amount)),\n          toBN(0),\n          accountEvents\n        );\n        const params = {\n          from: address || undefined,\n          to: poolMatch.poolAddress,\n          data: txo.encodeABI(),\n          gasPrice,\n          value: poolMatch.tokenAddress\n            ? 0\n            : toBN(toWei(amount)).mul(toBN(100001)).div(toBN(100000)), // 0.001% buffer\n        };\n        // const gas = await txo.estimateGas(params);\n        const gas = 3e6;\n        setStage(DepositStage.SIGNING);\n        await web3.eth.sendTransaction({ ...params, gas }, (err, hash) => {\n          if (err) throw err;\n          setTxHash(hash);\n          setStage(DepositStage.TXN_SENDING);\n        });\n      } catch (e) {\n        throw e;\n      }\n    }\n  }, [\n    progress,\n    poofAccount,\n    privateKey,\n    poofKit,\n    currency,\n    getConnectedWeb3,\n    setStage,\n    amount,\n    address,\n    gasPrice,\n    setTxHash,\n  ]);\n\n  return deposit;\n}\n","import React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { Container, Flex, Grid, Text } from \"theme-ui\";\nimport { PickDeposit } from \"pages/DepositPage/MobileDepositPage/PickDeposit\";\nimport { DepositIllustration } from \"assets/DepositIllustration\";\nimport { Breakpoint, useBreakpoint } from \"hooks/useBreakpoint\";\n\ninterface IProps {\n  onDepositClick?: () => void;\n}\n\nexport const DoDeposit: React.FC<IProps> = ({ onDepositClick }) => {\n  const { t } = useTranslation();\n  const breakpoint = useBreakpoint();\n\n  return (\n    <>\n      <Grid sx={{ gridTemplateColumns: [\"auto\", \"1.3fr 1fr\"], gridGap: 6 }}>\n        <Container>\n          <Text sx={{ display: \"block\" }} variant=\"title\">\n            {t(\"deposit.desktop.title\")}\n          </Text>\n          <Text sx={{ display: \"block\", mb: 4 }} variant=\"regularGray\">\n            {t(\"deposit.desktop.subtitle\")}\n          </Text>\n          <PickDeposit onDepositClick={onDepositClick} />\n        </Container>\n        {breakpoint === Breakpoint.DESKTOP && (\n          <Flex sx={{ justifyContent: \"center\" }}>\n            <DepositIllustration />\n          </Flex>\n        )}\n      </Grid>\n    </>\n  );\n};\n","import React from \"react\";\nimport { ConfirmDeposit } from \"pages/DepositPage/MobileDepositPage/ConfirmDeposit\";\nimport { DepositReceipt } from \"pages/DepositPage/MobileDepositPage/DepositReceipt\";\nimport { DoDeposit } from \"../DesktopDepositPage/DoDeposit\";\n\nenum DepositStep {\n  PICKER = \"PICKER\",\n  CONFIRM = \"CONFIRM\",\n  RECEIPT = \"RECEIPT\",\n}\n\n// pass props and State interface to Component class\nconst MobileDepositPage = () => {\n  const [depositStep, setDepositStep] = React.useState(DepositStep.PICKER);\n\n  switch (depositStep) {\n    case DepositStep.PICKER:\n      return (\n        <DoDeposit\n          onDepositClick={() => {\n            setDepositStep(DepositStep.RECEIPT);\n          }}\n        />\n      );\n    // This path is never displayed\n    case DepositStep.CONFIRM:\n      return (\n        <ConfirmDeposit\n          onBackClick={() => setDepositStep(DepositStep.PICKER)}\n          onConfirmClick={() => {\n            setDepositStep(DepositStep.RECEIPT);\n          }}\n        />\n      );\n    case DepositStep.RECEIPT:\n      return (\n        <DepositReceipt\n          onDoneClick={() => {\n            setDepositStep(DepositStep.PICKER);\n          }}\n        />\n      );\n  }\n};\n\nexport default MobileDepositPage;\n","import React from \"react\";\nimport { Button, Container, Text } from \"theme-ui\";\nimport moment from \"moment\";\nimport { BlockscoutTxLink } from \"components/Links\";\nimport { SummaryTable } from \"components/SummaryTable\";\nimport { GrayBox } from \"components/GrayBox\";\nimport { humanFriendlyNumber } from \"utils/number\";\nimport { useRecoilState } from \"recoil\";\nimport { depositAmount, depositCurrency, depositTxHash } from \"../state\";\nimport { shortenAccount } from \"utils/account\";\nimport { PoofAccountGlobal } from \"hooks/poofAccount\";\nimport { NETWORK_COST } from \"config\";\nimport { WalletGlobal } from \"hooks/useWallet\";\n\ninterface IProps {\n  onDoneClick: () => void;\n}\n\nexport const DepositReceipt: React.FC<IProps> = ({ onDoneClick }) => {\n  const [amount] = useRecoilState(depositAmount);\n  const { gasCurrency } = WalletGlobal.useContainer();\n  const [currency] = useRecoilState(depositCurrency);\n  const [txHash] = useRecoilState(depositTxHash);\n  const { address } = PoofAccountGlobal.useContainer();\n\n  return (\n    <Container>\n      <Text sx={{ display: \"block\", mb: 1 }} variant=\"subtitle\">\n        Alakazam!\n      </Text>\n      <Text sx={{ display: \"block\", mb: 4 }} variant=\"regular\">\n        Your deposit is complete.{\" \"}\n        <BlockscoutTxLink tx={txHash}>View transaction</BlockscoutTxLink>.\n      </Text>\n\n      <GrayBox>\n        <Text sx={{ mb: 3 }} variant=\"subtitle\">\n          Receipt\n        </Text>\n        <br />\n        <SummaryTable\n          title=\"Transaction\"\n          lineItems={[\n            {\n              label: \"Time completed\",\n              value: moment().format(\"h:mm a\"),\n            },\n            {\n              label: \"Account\",\n              value: shortenAccount(address),\n            },\n            {\n              label: \"Est. total amount\",\n              value:\n                currency === gasCurrency\n                  ? `${humanFriendlyNumber(\n                      Number(amount) + Number(NETWORK_COST)\n                    )} ${gasCurrency}`\n                  : `${humanFriendlyNumber(\n                      amount\n                    )} ${currency} + ${humanFriendlyNumber(\n                      NETWORK_COST\n                    )} ${gasCurrency}`,\n            },\n          ]}\n          totalItem={{\n            label: \"Deposited\",\n            value: `${humanFriendlyNumber(amount)} ${currency}`,\n          }}\n        />\n      </GrayBox>\n\n      <Button sx={{ mt: 2, px: 6 }} variant=\"done\" onClick={onDoneClick}>\n        Done\n      </Button>\n    </Container>\n  );\n};\n","import React from \"react\";\nimport { DoDeposit } from \"pages/DepositPage/DesktopDepositPage/DoDeposit\";\nimport { DepositReceipt } from \"pages/DepositPage/DesktopDepositPage/DepositReceipt\";\n\nenum DepositStep {\n  DO = \"DO\",\n  RECEIPT = \"RECEIPT\",\n}\n\nconst DesktopDepositPage = () => {\n  const [depositStep, setDepositStep] = React.useState(DepositStep.DO);\n\n  switch (depositStep) {\n    case DepositStep.DO:\n      return (\n        <DoDeposit\n          onDepositClick={async () => {\n            setDepositStep(DepositStep.RECEIPT);\n          }}\n        />\n      );\n    case DepositStep.RECEIPT:\n      return (\n        <DepositReceipt\n          onDoneClick={() => {\n            setDepositStep(DepositStep.DO);\n          }}\n        />\n      );\n  }\n};\n\nexport default DesktopDepositPage;\n","import React from \"react\";\nimport MobileDepositPage from \"pages/DepositPage/MobileDepositPage\";\nimport DesktopDepositPage from \"pages/DepositPage/DesktopDepositPage\";\nimport { Breakpoint, useBreakpoint } from \"hooks/useBreakpoint\";\n\nconst DepositPage: React.FC = () => {\n  const breakpoint = useBreakpoint();\n\n  if (breakpoint === Breakpoint.MOBILE) {\n    return <MobileDepositPage />;\n  }\n\n  return <DesktopDepositPage />;\n};\n\nexport default DepositPage;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { Desktop } from \"components/WalletSummary/Desktop\";\n// import { Mobile } from \"components/WalletSummary/Mobile\";\n// import { Breakpoint, useBreakpoint } from \"hooks/useBreakpoint\";\nimport { humanFriendlyNumber } from \"utils/number\";\nimport { humanFriendlyWei } from \"utils/eth\";\nimport { CurrenciesContext } from \"contexts/currencies\";\nimport { toBN } from \"web3-utils\";\n\nexport const WalletSummary: React.FC<{\n  assets: any;\n}> = ({ assets }) => {\n  const [balance, setBalance] = useState(0.0);\n  const [debtTotal, setDebtTotal] = useState(0.0);\n  const [creditAvailable, setCreditAvailable] = useState(0.0);\n  const [totalTvl, setTotalTvl] = useState(0.0);\n  const [tvlShare, setTvlShare] = useState(0.0);\n  const { toUSD } = useContext(CurrenciesContext);\n  const tvl = toBN(0.0); //TODO: get it from context\n\n  useEffect(() => {\n    if (assets && tvl) {\n      const tvlF = parseFloat(tvl.toString());\n      let balance = 0.0;\n      let debtTotal = 0.0;\n      assets.forEach((a: any) => {\n        balance += parseFloat(\n          humanFriendlyNumber(toUSD(humanFriendlyWei(a.amount), a.symbol))\n        );\n        debtTotal += parseFloat(\n          humanFriendlyNumber(toUSD(humanFriendlyWei(a.debt), a.symbol))\n        );\n      });\n      setBalance(balance);\n      setDebtTotal(debtTotal);\n      setCreditAvailable(balance - debtTotal);\n\n      setTotalTvl(tvlF);\n      setTvlShare(tvlF > 0 ? (balance / tvlF) * 100 : 0);\n    }\n  }, [assets, tvl]); //eslint-disable-line\n\n  return (\n    <Desktop\n      walletBalance={humanFriendlyNumber(balance)}\n      debtTotal={humanFriendlyNumber(debtTotal)}\n      creditAvailable={humanFriendlyNumber(creditAvailable)}\n      tvl={humanFriendlyNumber(totalTvl)}\n      tvlShare={humanFriendlyNumber(tvlShare)}\n    />\n  );\n};\n","import { useEffect, useState } from \"react\";\nimport { Box, Spinner } from \"@theme-ui/components\";\nimport { APR } from \"contexts/apr\";\n\ninterface IProps {\n  symbol: string;\n}\n\nexport const APRLabel: React.FC<IProps> = ({ symbol }) => {\n  const [apr, setAPR] = useState<number | undefined>(undefined);\n  const { getAPR } = APR.useContainer();\n\n  useEffect(() => {\n    const call = async () => {\n      try {\n        const r = await getAPR(symbol);\n        setAPR(r);\n      } catch (e) {\n        console.log(\"APRLABEL: Error: \", symbol, e);\n      }\n    };\n    if (symbol) {\n      call();\n    }\n  }, [symbol, getAPR]);\n\n  if (apr !== undefined) {\n    return (\n      <Box\n        sx={{\n          padding: 1,\n          borderRadius: \"12px\",\n          color: \"#00A571\",\n        }}\n      >\n        {apr}%\n      </Box>\n    );\n  }\n\n  return <Spinner />;\n};\n","import React, { lazy } from \"react\";\nimport { Card, Flex, Grid, Text, Button, Box } from \"@theme-ui/components\";\nimport styled from \"@emotion/styled\";\nimport {\n  Deposit as DepositIcon,\n  Withdrawal as WithdrawalIcon,\n} from \"assets/icons\";\nimport { Link } from \"react-router-dom\";\nimport { Page } from \"state/global\";\nimport { APRLabel } from \"components/APRLabel\";\n\nconst Header = styled(Box)({\n  fontWeight: 400,\n  fontSize: [14],\n  lineHeight: \"20px\",\n});\n\nconst Row = styled(Grid)({\n  borderBottom: \"1px solid var(--theme-ui-colors-cardBorder)\",\n  margin: \"0 -24px\",\n  padding: \"22px 24px\",\n  \":first-child\": {\n    marginTop: \"-26px\",\n  },\n  \":last-child\": {\n    borderBottom: \"none\",\n  },\n});\n\nconst NoStyleLink = styled(Link)({\n  textDecoration: \"none\",\n  color: \"var(--theme-ui-colors-primaryButtonColor)\",\n});\n\nexport const Desktop: React.FC<{\n  assets?: any;\n}> = ({ assets }) => {\n  return (\n    <Card\n      variant=\"bordered\"\n      sx={{ boxSizing: \"border-box\", padding: \"26px 24px\" }}\n    >\n      <Row\n        columns={[\"1fr 1fr 2fr 2fr 1fr 2fr\"]}\n        sx={{ color: \"secondaryText\" }}\n      >\n        <Header>&nbsp;</Header>\n        <Header>Asset</Header>\n        <Header>Balance</Header>\n        <Header>Credit available</Header>\n        <Header>APR</Header>\n        <Header>&nbsp;</Header>\n      </Row>\n      {assets &&\n        assets.map((a: any) => (\n          <Row columns={[\"1fr 1fr 2fr 2fr 1fr 2fr\"]}>\n            {a.icon}\n            <Flex\n              sx={{\n                alignItems: \"flex-start\",\n                flexDirection: \"column\",\n                justifyContent: \"center\",\n              }}\n            >\n              <Text\n                sx={{\n                  color: \"regularText\",\n                  fontWeight: [700],\n\n                  fontSize: [16],\n                  lineHeight: \"20px\",\n                }}\n              >\n                {a.symbol}\n              </Text>\n              <Text\n                sx={{\n                  fontWeight: [400],\n                  fontSize: [14],\n                  lineHeight: \"18px\",\n                  color: \"secondaryText\",\n                }}\n              >\n                {a.asset_pcnt}%\n              </Text>\n            </Flex>\n\n            <Flex\n              sx={{\n                alignItems: \"flex-start\",\n                flexDirection: \"column\",\n                justifyContent: \"center\",\n              }}\n            >\n              <Text\n                sx={{\n                  color: \"regularText\",\n                  fontWeight: [400],\n                  fontSize: [16],\n                  lineHeight: \"20px\",\n                }}\n              >\n                {a.amount_formatted}\n              </Text>\n              <Text\n                sx={{\n                  fontWeight: [400],\n                  fontSize: [14],\n                  lineHeight: \"18px\",\n                  color: \"sec\",\n                }}\n              >\n                ${a.amount_usd}\n              </Text>\n            </Flex>\n\n            <Flex\n              sx={{\n                alignItems: \"flex-start\",\n                flexDirection: \"column\",\n                justifyContent: \"center\",\n              }}\n            >\n              <Text\n                sx={{\n                  color: \"regularText\",\n                  fontWeight: [400],\n                  fontSize: [16],\n                  lineHeight: \"20px\",\n                }}\n              >\n                {a.credit_available}\n              </Text>\n            </Flex>\n\n            <Flex\n              sx={{\n                alignItems: \"flex-start\",\n                flexDirection: \"column\",\n                justifyContent: \"center\",\n              }}\n            >\n              <Text\n                sx={{\n                  color: \"#292B30\",\n                  fontWeight: [400],\n                  fontSize: [16],\n                  lineHeight: \"20px\",\n                }}\n              >\n                <APRLabel {...a} />\n              </Text>\n            </Flex>\n\n            <Flex sx={{ justifyContent: \"flex-end\" }}>\n              <NoStyleLink to={Page.DEPOSIT}>\n                <Button\n                  variant=\"minimal\"\n                  sx={{ width: [36], padding: \"4px 0\", mr: 2 }}\n                >\n                  <DepositIcon size={28} />\n                </Button>\n              </NoStyleLink>\n              <NoStyleLink to={Page.REQUEST}>\n                <Button\n                  variant=\"minimal\"\n                  sx={{ width: [36], padding: \"4px 0\" }}\n                >\n                  <WithdrawalIcon size={28} />\n                </Button>\n              </NoStyleLink>\n            </Flex>\n          </Row>\n        ))}\n    </Card>\n  );\n};\n","import React from \"react\";\nimport { Card, Flex, Grid, Text } from \"@theme-ui/components\";\nimport styled from \"@emotion/styled\";\n\nconst Header = styled.div({\n  fontWeight: 400,\n  fontSize: [14],\n  lineHeight: \"20px\",\n  color: \"#757575\",\n});\n\nconst Row = styled(Grid)({\n  borderBottomColor: \"var(--theme-ui-colors-cardBorder)\",\n  borderBottomStyle: \"solid\",\n  borderBottomWidth: \"1px\",\n  margin: \"0 -24px\",\n  padding: \"22px 24px\",\n  \":first-child\": {\n    marginTop: \"-26px\",\n  },\n  \":last-child\": {\n    borderBottom: \"none\",\n  },\n});\n\nexport const Mobile: React.FC<{\n  assets?: any;\n}> = ({ assets }) => {\n  return (\n    <Card\n      variant=\"bordered\"\n      sx={{ boxSizing: \"border-box\", padding: \"26px 24px\" }}\n    >\n      <Row columns={[\"1fr\"]}>\n        <Header>Portfolio</Header>\n      </Row>\n      {assets &&\n        assets.map((a: any) => (\n          <Row columns={[\"1fr 2fr 2fr\"]} gap={[0]}>\n            {a.icon}\n            <Flex\n              sx={{\n                alignItems: \"flex-start\",\n                flexDirection: \"column\",\n                justifyContent: \"center\",\n              }}\n            >\n              <Text\n                sx={{\n                  color: \"#292B30\",\n                  fontWeight: [400],\n                  fontSize: [16],\n                  lineHeight: \"20px\",\n                }}\n              >\n                {a.amount_formatted}\n              </Text>\n              <Text\n                sx={{\n                  fontWeight: [400],\n                  fontSize: [14],\n                  lineHeight: \"18px\",\n                  color: \"#757575\",\n                }}\n              >\n                ${a.amount_usd}\n              </Text>\n            </Flex>\n          </Row>\n        ))}\n    </Card>\n  );\n};\n","import React, { useEffect, useState, useContext } from \"react\";\nimport { Desktop } from \"components/Assets/Desktop\";\nimport { Mobile } from \"components/Assets/Mobile\";\nimport { Breakpoint, useBreakpoint } from \"hooks/useBreakpoint\";\nimport { logo } from \"assets/icons\";\nimport { humanFriendlyNumber, toBN } from \"utils/number\";\nimport { humanFriendlyWei } from \"utils/eth\";\nimport { CurrenciesContext } from \"contexts/currencies\";\n\nexport const Assets: React.FC<{\n  assets: any;\n}> = ({ assets }) => {\n  interface IHash {\n    [key: string]: any;\n  }\n  const [data, setData] = useState<IHash>({});\n  const { toUSD } = useContext(CurrenciesContext);\n\n  useEffect(() => {\n    if (assets) {\n      let d: IHash = [];\n      let total_usd = 0.0;\n      assets.forEach((a: any) => {\n        if (d[a.symbol] === undefined) {\n          d[a.symbol] = {\n            asset_pcnt: 0,\n            credit: 0,\n            credit_usd: 0,\n          };\n        }\n        d[a.symbol] = {\n          ...d[a.symbol],\n          ...a, //DATA from wallets\n          icon: logo(a.symbol, 40),\n          amount_formatted: humanFriendlyWei(a.amount),\n          amount_usd: humanFriendlyNumber(\n            toUSD(humanFriendlyWei(a.amount), a.symbol)\n          ),\n          credit_available: humanFriendlyWei(toBN(a.amount).sub(toBN(a.debt))),\n        };\n        total_usd += parseFloat(d[a.symbol].amount_usd);\n      });\n      Object.entries(d).forEach((v: any) => {\n        let [key, value] = v;\n        d[key] = {\n          ...value,\n          asset_pcnt:\n            total_usd <= 0\n              ? 0\n              : ((parseFloat(value.amount_usd) / total_usd) * 100).toFixed(2),\n        };\n      });\n      setData(d);\n    }\n  }, [assets, toUSD]); //eslint-disable-line\n  const breakpoint = useBreakpoint();\n\n  if (breakpoint === Breakpoint.MOBILE) {\n    return <Mobile assets={Object.entries(data).map((a) => a[1])} />;\n  }\n\n  return <Desktop assets={Object.entries(data).map((a) => a[1])} />;\n};\n","import React from \"react\";\nimport { Box, Card, Flex, Text } from \"@theme-ui/components\";\nimport styled from \"@emotion/styled\";\nimport { Export as ExportIcon } from \"assets/icons/index\";\nimport { shortenAccount } from \"utils/account\";\nimport { humanFriendlyDate } from \"utils/date\";\nimport { humanFriendlyNumber } from \"utils/number\";\nimport { Transaction } from \"hooks/useTransactions\";\nimport { CSVLink } from \"react-csv\";\nimport moment from \"moment\";\n\nconst Header = styled(Box)({\n  fontWeight: 400,\n  fontSize: [18],\n  lineHeight: \"24px\",\n  width: \"100%\",\n  display: \"flex\",\n  justifyContent: \"space-between\",\n  alignItems: \"center\",\n});\n\nconst Row = styled(Flex)({\n  borderBottom: \"1px solid #ECE6FE\",\n  margin: \"0 -24px\",\n  padding: \"22px 24px\",\n  \":first-child\": {\n    marginTop: \"-26px\",\n  },\n  \":last-child\": {\n    borderBottom: \"none\",\n  },\n});\n\nconst ExportButton = styled(CSVLink)({\n  display: \"flex\",\n  color: \"#5352fc\",\n  textDecoration: \"none\",\n  fontSize: [16],\n  fontWeight: 400,\n  lineHeight: \"22px\",\n  fontFamily: \"Medium\",\n});\n\nexport const Desktop: React.FC<{\n  txns?: Transaction[] | null;\n}> = ({ txns = null }) => {\n  if (txns === null) {\n    return null;\n  }\n\n  return (\n    <Card\n      variant=\"bordered\"\n      sx={{ boxSizing: \"border-box\", padding: \"26px 24px\" }}\n    >\n      <Row>\n        <Header sx={{ color: \"regularText\" }}>\n          Transactions History{\" \"}\n          {txns && txns.length > 0 && (\n            <ExportButton\n              data={txns}\n              filename={`transactions-history-${moment().format()}.csv`}\n            >\n              Export <ExportIcon size={20} />\n            </ExportButton>\n          )}\n        </Header>\n      </Row>\n\n      {txns &&\n        txns.map((a: any) => (\n          <Row\n            sx={{\n              alignItems: \"center\",\n              flexDirection: \"row\",\n              justifyContent: \"space-between\",\n            }}\n          >\n            <Flex\n              sx={{\n                alignItems: \"flex-start\",\n                flexDirection: \"column\",\n                justifyContent: \"center\",\n              }}\n            >\n              <Text\n                sx={{\n                  color: \"#292B30\",\n                  fontWeight: [400],\n                  fontSize: [16],\n                  lineHeight: \"20px\",\n                }}\n              >\n                {shortenAccount(\"0x\" + a.transactionHash, 4)}\n              </Text>\n              <Text\n                sx={{\n                  fontWeight: [400],\n                  fontSize: [14],\n                  lineHeight: \"18px\",\n                  color: \"#757575\",\n                }}\n              >\n                {humanFriendlyDate(a.date)}\n              </Text>\n            </Flex>\n\n            <Flex\n              sx={{\n                alignItems: \"flex-end\",\n                flexDirection: \"column\",\n                justifyContent: \"center\",\n              }}\n            >\n              <Text\n                sx={{\n                  color: \"#292B30\",\n                  fontWeight: [400],\n                  fontSize: [16],\n                  lineHeight: \"20px\",\n                }}\n              >\n                {a.amount > 0 ? \"+\" : a.amount < 0 ? \"-\" : \"\"}\n                {humanFriendlyNumber(a.amount)} {a.currency}\n              </Text>\n              <Text\n                sx={{\n                  fontWeight: [400],\n                  fontSize: [14],\n                  lineHeight: \"18px\",\n                  color: \"#757575\",\n                }}\n              >\n                {a.type}\n              </Text>\n            </Flex>\n          </Row>\n        ))}\n    </Card>\n  );\n};\n","import moment from \"moment\";\n\nexport const humanFriendlyDate = (v: Date | string) => {\n  const d = moment(v);\n\n  return d.format(\"MMM D, YYYY\");\n};\n","import { useState, useMemo } from \"react\";\nimport { deployments, unpackEncryptedMessage } from \"@poofcash/poof-v2-kit\";\nimport { Account } from \"@poofcash/poof-v2-kit/dist/account\";\nimport { AbiItem } from \"web3-utils\";\nimport { PoofAccountGlobal } from \"./poofAccount\";\nimport { PoofKitGlobal } from \"./usePoofKit\";\nimport { useWeb3 } from \"./useWeb3\";\nimport PoofArtifact from \"abis/Poof.json\";\nimport { Poof } from \"generated/Poof\";\nimport { WalletGlobal } from \"./useWallet\";\nimport { humanFriendlyWei } from \"utils/eth\";\nimport moment from \"moment\";\n\nexport type Transaction = {\n  address: string;\n  date: string;\n  type: string;\n  amount: number;\n  currency: string;\n  blockHash: string;\n  blockNumber: number;\n  transactionHash: string;\n  timestamp: string | number;\n};\n\nexport const useTransactions = () => {\n  const [txns, setTxns] = useState<{ [key: number]: Transaction[] }>({});\n  const { network } = useWeb3();\n  const { privateKey } = PoofAccountGlobal.useContainer();\n  const { poofKit } = PoofKitGlobal.useContainer();\n  const { getConnectedWeb3 } = WalletGlobal.useContainer();\n\n  const value = useMemo(() => {\n    const call = async () => {\n      if (!privateKey) {\n        return null;\n      }\n\n      let result: Transaction[] = [];\n      try {\n        const pools = deployments[network.chainId];\n        const unitPerUnderlyings = await Promise.all(\n          pools.map((pool) =>\n            poofKit.unitPerUnderlying(pool.symbol.toLowerCase())\n          )\n        );\n\n        await Promise.all(\n          pools.map(async (pool, idx) => {\n            const web3 = await getConnectedWeb3();\n            const poof = (new web3.eth.Contract(\n              PoofArtifact as AbiItem[],\n              pool.poolAddress\n            ) as unknown) as Poof;\n            const evs = await poof.getPastEvents(\"NewAccount\", {\n              fromBlock: 0,\n              toBlock: \"latest\",\n            });\n            evs.forEach((e) => {\n              try {\n                const a = Account.decrypt(\n                  privateKey,\n                  unpackEncryptedMessage(e.returnValues.encryptedAccount)\n                );\n\n                result.push({\n                  currency: pool.symbol,\n                  transactionHash: e.transactionHash,\n                  address: e.address,\n                  type: e.event,\n                  amount: parseFloat(\n                    humanFriendlyWei(\n                      a.amount.div(unitPerUnderlyings[idx]).toString()\n                    )\n                  ),\n                  blockHash: e.blockHash,\n                  blockNumber: e.blockNumber,\n                  date: \"\",\n                  timestamp: 0,\n                });\n              } catch (e) {\n                //skip - could not decrypt account means - it's not ours\n              }\n            });\n            //XXX: await getBlock takes time and is async and because of that - affects sorting that happens later!\n            await Promise.all(\n              result.map(async (e, idx) => {\n                const block = await web3.eth.getBlock(e.blockNumber);\n                result[idx].timestamp = (\n                  parseInt(block.timestamp.toString()) * 1000\n                ).toString();\n                result[idx].date = moment(\n                  parseInt(block.timestamp.toString()) * 1000\n                ).format();\n              })\n            );\n          })\n        );\n      } catch (e) {\n        console.log(\"Error fetching transactions: \", e);\n      }\n\n      return result;\n    };\n\n    const c = txns[network.chainId];\n    if (c !== undefined) {\n      return { txns: c };\n    }\n\n    let resp: Transaction[] = [];\n    call().then((r) => {\n      if (r !== null) {\n        //Sort ascending by block number\n        const result: Transaction[] = r.sort((a, b) =>\n          a.blockNumber < b.blockNumber ? -1 : 1\n        );\n\n        //Calculate balance differences (a.k.a. transactions)\n        let lastBalance: { [key: string]: number } = {};\n        const result2 = result.map((t) => {\n          if (lastBalance[t.currency] === undefined) {\n            lastBalance[t.currency] = 0;\n          }\n\n          const newAmount = t.amount - lastBalance[t.currency];\n          lastBalance[t.currency] = t.amount;\n\n          return { ...t, amount: newAmount };\n        });\n\n        //sort again, descending this time\n        resp = result2.sort((a, b) => (a.blockNumber > b.blockNumber ? -1 : 1));\n        const txns2: { [key: number]: Transaction[] } = { ...txns };\n        txns2[network.chainId] = resp;\n        setTxns(txns2);\n      }\n    });\n\n    return { txns: resp };\n  }, [network.chainId, txns]); //eslint-disable-line\n\n  return value;\n};\n","import React from \"react\";\n// import { Spinner } from \"@theme-ui/components\";\nimport { Desktop } from \"components/TransactionsHistory/Desktop\";\n// import { Mobile } from \"components/TransactionsHistory/Mobile\";\n// import { Breakpoint, useBreakpoint } from \"hooks/useBreakpoint\";\nimport { useTransactions } from \"hooks/useTransactions\";\n\nexport const TransactionsHistory: React.FC = () => {\n  const { txns } = useTransactions();\n\n  // if (loading) {\n  //   return <Spinner />;\n  // }\n\n  return <Desktop txns={txns} />;\n};\n","import Web3 from \"web3\";\nimport React from \"react\";\nimport { useAsyncState } from \"hooks/useAsyncState\";\nimport WrappedAbi from \"abis/WrappedMToken.json\";\nimport AggregatorAbi from \"abis/Aggregator.json\";\nimport { AbiItem, toBN } from \"web3-utils\";\nimport { Aggregator } from \"generated/Aggregator\";\n\nexport const useAvalancheTVL = () => {\n  const web3 = React.useMemo(\n    () => new Web3(\"https://api.avax.network/ext/bc/C/rpc\"),\n    []\n  );\n\n  const call = React.useCallback(async () => {\n    let tvl = toBN(0);\n\n    const wavaWAVAX = new web3.eth.Contract(\n      WrappedAbi as AbiItem[],\n      \"0x71003CE2353C91E05293444A9C3225997CcD353C\"\n    );\n    const avaxBalance = toBN(\n      await wavaWAVAX.methods\n        .underlyingBalanceOf(\"0xbf03e0f7D8dFB17e4680C4D4748A614968aD5495\")\n        .call()\n    );\n    const avaxUsdOracle = (new web3.eth.Contract(\n      AggregatorAbi as AbiItem[],\n      \"0x0A77230d17318075983913bC2145DB16C7366156\"\n    ) as unknown) as Aggregator;\n    const avaxPriceUsd = toBN(\n      (await avaxUsdOracle.methods.latestRoundData().call()).answer\n    );\n    tvl = tvl.add(avaxBalance.mul(avaxPriceUsd).div(toBN(1e8)));\n\n    return tvl;\n  }, [web3.eth]);\n\n  return useAsyncState(null, call);\n};\n","import { useAvalancheTVL } from \"./useAvalancheTVL\";\nimport { useCeloTVL } from \"./useCeloTVL\";\nimport { useEthereumTVL } from \"./useEthereumTVL\";\nimport { useFantomTVL } from \"./useFantomTVL\";\nimport { usePolygonTVL } from \"./usePolygonTVL\";\n\nexport const useTVL = () => {\n  const [celoTVL] = useCeloTVL();\n  const [fantomTVL] = useFantomTVL();\n  const [avalancheTVL] = useAvalancheTVL();\n  const [polygonTVL] = usePolygonTVL();\n  const [ethereumTVL] = useEthereumTVL();\n\n  if (\n    celoTVL === null ||\n    fantomTVL === null ||\n    avalancheTVL === null ||\n    polygonTVL === null ||\n    ethereumTVL === null\n  ) {\n    return null;\n  }\n\n  return celoTVL\n    .add(fantomTVL)\n    .add(avalancheTVL)\n    .add(polygonTVL)\n    .add(ethereumTVL);\n};\n","import React from \"react\";\nimport { useAsyncState } from \"hooks/useAsyncState\";\nimport WrappedAbi from \"abis/WrappedMToken.json\";\nimport { AbiItem, toBN, toWei } from \"web3-utils\";\nimport { WrappedMToken } from \"generated/WrappedMToken\";\nimport { StableToken, newKitFromWeb3 } from \"@celo/contractkit\";\nimport Web3 from \"web3\";\n\nexport const useCeloTVL = () => {\n  const kit = React.useMemo(() => {\n    const web3 = new Web3(\"https://forno.celo.org\");\n    return newKitFromWeb3(web3 as any);\n  }, []);\n\n  const call = React.useCallback(async () => {\n    let tvl = toBN(0);\n\n    const wmcUSD = (new kit.web3.eth.Contract(\n      WrappedAbi as AbiItem[],\n      \"0x5b46A20284366F5e79D9B3e5e2FA0F5702b8C72F\"\n    ) as unknown) as WrappedMToken;\n    tvl = tvl.add(\n      toBN(\n        await wmcUSD.methods\n          .underlyingBalanceOf(\"0xB4aa2986622249B1F45eb93F28Cfca2b2606d809\")\n          .call()\n      )\n    );\n\n    const wmCELO = (new kit.web3.eth.Contract(\n      WrappedAbi as AbiItem[],\n      \"0xd3D7831D502Ab85319E1F0A18109aa9aBEBC2603\"\n    ) as unknown) as WrappedMToken;\n    const exchangeUsd = await kit.contracts.getExchange(StableToken.cUSD);\n    const celoPriceUsd = toBN(\n      (await exchangeUsd.quoteGoldSell(toWei(\"1\"))).toFixed()\n    );\n    tvl = tvl.add(\n      toBN(\n        await wmCELO.methods\n          .underlyingBalanceOf(\"0xE74AbF23E1Fdf7ACbec2F3a30a772eF77f1601E1\")\n          .call()\n      )\n        .mul(celoPriceUsd)\n        .div(toBN(toWei(\"1\")))\n    );\n\n    const wmcEUR = (new kit.web3.eth.Contract(\n      WrappedAbi as AbiItem[],\n      \"0xb7e4e9329DA677969376cc76e87938563B07Ac6A\"\n    ) as unknown) as WrappedMToken;\n    const exchangeEur = await kit.contracts.getExchange(StableToken.cEUR);\n    const eurPriceUsd = toWei(\n      celoPriceUsd.div(\n        toBN((await exchangeEur.quoteGoldSell(toWei(\"1\"))).toFixed())\n      )\n    );\n    tvl = tvl.add(\n      toBN(\n        await wmcEUR.methods\n          .underlyingBalanceOf(\"0x56072D4832642dB29225dA12d6Fd1290E4744682\")\n          .call()\n      )\n        .mul(eurPriceUsd)\n        .div(toBN(toWei(\"1\")))\n    );\n    return tvl;\n  }, [kit]);\n\n  return useAsyncState(null, call);\n};\n","import Web3 from \"web3\";\nimport React from \"react\";\nimport { useAsyncState } from \"hooks/useAsyncState\";\nimport WrappedAbi from \"abis/WrappedMToken.json\";\nimport AggregatorAbi from \"abis/Aggregator.json\";\nimport { AbiItem, toBN } from \"web3-utils\";\nimport { Aggregator } from \"generated/Aggregator\";\n\nexport const useFantomTVL = () => {\n  const ftmWeb3 = React.useMemo(() => new Web3(\"https://rpc.ftm.tools\"), []);\n\n  const call = React.useCallback(async () => {\n    let tvl = toBN(0);\n\n    const wgFTM = new ftmWeb3.eth.Contract(\n      WrappedAbi as AbiItem[],\n      \"0xe74abf23e1fdf7acbec2f3a30a772ef77f1601e1\"\n    );\n    const ftmBalance = toBN(\n      await wgFTM.methods\n        .underlyingBalanceOf(\"0xAdfC2a82becC26C48ed0d1A06C813d283cB39006\")\n        .call()\n    );\n    const ftmUsdOracle = (new ftmWeb3.eth.Contract(\n      AggregatorAbi as AbiItem[],\n      \"0xf4766552D15AE4d256Ad41B6cf2933482B0680dc\"\n    ) as unknown) as Aggregator;\n    const ftmPriceUsd = toBN(\n      (await ftmUsdOracle.methods.latestRoundData().call()).answer\n    );\n    tvl = tvl.add(ftmBalance.mul(ftmPriceUsd).div(toBN(1e8)));\n\n    return tvl;\n  }, [ftmWeb3.eth]);\n\n  return useAsyncState(null, call);\n};\n","import Web3 from \"web3\";\nimport React from \"react\";\nimport { useAsyncState } from \"hooks/useAsyncState\";\nimport WrappedAbi from \"abis/WrappedMToken.json\";\nimport AggregatorAbi from \"abis/Aggregator.json\";\nimport { AbiItem, toBN } from \"web3-utils\";\nimport { Aggregator } from \"generated/Aggregator\";\n\nexport const usePolygonTVL = () => {\n  const web3 = React.useMemo(\n    () => new Web3(process.env.REACT_APP_POLYGON_RPC || \"\"),\n    []\n  );\n\n  const call = React.useCallback(async () => {\n    let tvl = toBN(0);\n\n    const wamMATIC = new web3.eth.Contract(\n      WrappedAbi as AbiItem[],\n      \"0xbf03e0f7D8dFB17e4680C4D4748A614968aD5495\"\n    );\n    const maticBalance = toBN(\n      await wamMATIC.methods\n        .underlyingBalanceOf(\"0xEfc83b8EfCc03cC2ECc28C542A7bf4D9e4Ce9a6E\")\n        .call()\n    );\n    const maticUsdOracle = (new web3.eth.Contract(\n      AggregatorAbi as AbiItem[],\n      \"0xAB594600376Ec9fD91F8e885dADF0CE036862dE0\"\n    ) as unknown) as Aggregator;\n    const maticPriceUsd = toBN(\n      (await maticUsdOracle.methods.latestRoundData().call()).answer\n    );\n    tvl = tvl.add(maticBalance.mul(maticPriceUsd).div(toBN(1e8)));\n\n    return tvl;\n  }, [web3.eth]);\n\n  return useAsyncState(null, call);\n};\n","import Web3 from \"web3\";\nimport React from \"react\";\nimport { useAsyncState } from \"hooks/useAsyncState\";\nimport WrappedAbi from \"abis/WrappedMToken.json\";\nimport AggregatorAbi from \"abis/Aggregator.json\";\nimport { AbiItem, toBN } from \"web3-utils\";\nimport { Aggregator } from \"generated/Aggregator\";\n\nexport const useEthereumTVL = () => {\n  const web3 = React.useMemo(\n    () => new Web3(process.env.REACT_APP_ETHEREUM_RPC || \"\"),\n    []\n  );\n\n  const call = React.useCallback(async () => {\n    let tvl = toBN(0);\n\n    const waWETH = new web3.eth.Contract(\n      WrappedAbi as AbiItem[],\n      \"0x7580345EBC7DEFD34fC886CbD5Ffb1aDEbf2f6D6\"\n    );\n    const ethBalance = toBN(\n      await waWETH.methods\n        .underlyingBalanceOf(\"0xd3020655F6431C9aF80fdAab66Da8Ac86abE365E\")\n        .call()\n    );\n    const ethUsdOracle = (new web3.eth.Contract(\n      AggregatorAbi as AbiItem[],\n      \"0x5f4eC3Df9cbd43714FE2740f5E3616155c5b8419\"\n    ) as unknown) as Aggregator;\n    const ethPriceUsd = toBN(\n      (await ethUsdOracle.methods.latestRoundData().call()).answer\n    );\n    tvl = tvl.add(ethBalance.mul(ethPriceUsd).div(toBN(1e8)));\n\n    return tvl;\n  }, [web3.eth]);\n\n  return useAsyncState(null, call);\n};\n","import React from \"react\";\nimport { Grid, Heading } from \"@theme-ui/components\";\nimport { useHiddenBalances } from \"hooks/useHiddenBalances\";\nimport { Page } from \"state/global\";\nimport { WalletSummary } from \"components/WalletSummary\";\nimport { HomeButton } from \"components/HomeButton\";\nimport { Assets } from \"components/Assets\";\nimport { TransactionsHistory } from \"components/TransactionsHistory\";\nimport {\n  Withdrawal as SendIcon,\n  Loans as LoansIcon,\n  Request as RequestIcon,\n} from \"assets/icons/index\";\nimport { useTVL } from \"hooks/tvl/useTVL\";\n\nconst HomePage: React.FC = () => {\n  const [hiddenBalances] = useHiddenBalances();\n  const tvl = useTVL();\n\n  return (\n    <>\n      <Heading\n        as=\"h1\"\n        mb={3}\n        sx={{\n          color: \"regularText\",\n          textAlign: \"left\",\n          display: [\"none\", \"block\", \"block\"],\n        }}\n        variant=\"pageHeader1\"\n      >\n        Your wallet {tvl?.toString()}\n      </Heading>\n\n      <Grid columns={[]} sx={{ mb: 3 }}>\n        <WalletSummary assets={hiddenBalances} />\n      </Grid>\n\n      <Grid\n        columns={[\"1fr 1fr 1fr\"]}\n        sx={{ mb: 3, display: [\"none\", \"none\", \"grid\"] }}\n      >\n        <HomeButton\n          to={Page.SEND}\n          label={\"Send\"}\n          description={`Send crypto privately to any Celo user`}\n          icon={<SendIcon size={28} />}\n        />\n        <HomeButton\n          to={Page.REQUEST}\n          label={\"Request payment\"}\n          description={\"Generate a private crypto request link\"}\n          icon={<RequestIcon size={28} />}\n        />\n        <HomeButton\n          to={Page.BORROW}\n          label={\"Borrow\"}\n          description={\"Use your crypto holdings as collateral \"}\n          icon={<LoansIcon size={28} />}\n        />\n      </Grid>\n\n      <Grid\n        columns={[\"1fr\", \"1fr\", \"2fr 0.98fr\"] /*TODO: this 0.98fr is weird*/}\n        sx={{ mb: 3 }}\n      >\n        <Assets assets={hiddenBalances} />\n        <TransactionsHistory />\n      </Grid>\n    </>\n  );\n};\n\nexport default HomePage;\n","import React from \"react\";\nimport \"i18n/config\";\nimport SendAndRequestPage from \"pages/SendAndRequestPage\";\nimport CompleteRequestPage from \"pages/CompleteRequestPage\";\nimport { Box, Container, Link, Text } from \"theme-ui\";\nimport { Header } from \"components/Header\";\nimport { Page } from \"state/global\";\nimport { SetupAccount } from \"pages/SetupAccount\";\nimport Modal from \"react-modal\";\nimport { PoofAccountGlobal } from \"hooks/poofAccount\";\nimport { ToastContainer } from \"react-toastify\";\nimport { Redirect, Route, Switch, useLocation } from \"react-router-dom\";\nimport { NetworkDrawer } from \"components/Network/NetworkDrawer\";\nimport { PoofAccountDrawer } from \"components/PoofAccount/PoofAccountDrawer\";\nimport { PrivateRoute } from \"components/PrivateRoute\";\nimport { PrivateRouteWithDep } from \"components/PrivateRouteWithDep\";\nimport { CurrenciesProvider } from \"contexts/currencies\";\nimport { APR } from \"contexts/apr\";\nimport { Pools } from \"contexts/pools\";\nimport { useHiddenBalances } from \"hooks/useHiddenBalances\";\nimport { TimedSpinner } from \"./components/Loaders/TimedSpinner\";\nimport LoansPage from \"./pages/LoansPage\";\nimport DepositPage from \"./pages/DepositPage\";\nimport HomePage from \"./pages/HomePage\";\n\n// pass props and State interface to Component class\nconst App: React.FC = () => {\n  const { passwordModal } = PoofAccountGlobal.useContainer();\n  React.useEffect(() => {\n    Modal.setAppElement(\"body\");\n  });\n  const location = useLocation();\n  const [hiddenBalances] = useHiddenBalances();\n\n  return (\n    <Pools.Provider\n      initialState={{\n        pools: hiddenBalances?.map((hb) => ({ symbol: hb.symbol })),\n      }}\n    >\n      <CurrenciesProvider>\n        <APR.Provider>\n          <>\n            <Container sx={{ textAlign: \"center\", backgroundColor: \"box\" }}>\n              <Text variant=\"form\">\n                Looking for previous versions of Poof?{\" \"}\n                <Link\n                  href=\"http://v1.poof.cash\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  v1\n                </Link>\n                {\", \"}\n                <Link\n                  href=\"http://v2.poof.cash\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  v2\n                </Link>\n              </Text>\n            </Container>\n            <Container\n              sx={{\n                mx: [0, \"5%\"],\n                my: [0, 4],\n                maxWidth: \"100%\",\n                width: \"auto\",\n              }}\n            >\n              <Box\n                sx={{\n                  display: location.pathname.includes(Page.SETUP)\n                    ? \"none\"\n                    : \"inherit\",\n                }}\n              >\n                <Header />\n              </Box>\n              <Container\n                sx={{\n                  px: [3, 0],\n                  py: location.pathname.includes(Page.SETUP)\n                    ? [0, 0]\n                    : [4, \"5%\"],\n                  mb: \"64px\",\n                  maxHeight: \"calc(100vh + 64px)\",\n                }}\n              >\n                <Switch>\n                  <Route exact path=\"/\">\n                    <Redirect to={`/${Page.HOME}`} />\n                  </Route>\n                  <PrivateRoute exact path={`/${Page.HOME}`}>\n                    <HomePage />\n                  </PrivateRoute>\n                  <PrivateRouteWithDep exact path={`/${Page.REQUEST}`}>\n                    <SendAndRequestPage />\n                  </PrivateRouteWithDep>\n                  <Route path={`/${Page.COMPLETE_REQUEST}`}>\n                    <CompleteRequestPage />\n                  </Route>\n                  <PrivateRouteWithDep exact path={`/${Page.DEPOSIT}`}>\n                    <DepositPage />\n                  </PrivateRouteWithDep>\n                  <PrivateRouteWithDep exact path={`/${Page.SEND}`}>\n                    <SendAndRequestPage />\n                  </PrivateRouteWithDep>\n                  <PrivateRouteWithDep path={`/${Page.LOANS}`}>\n                    <LoansPage />\n                  </PrivateRouteWithDep>\n                  <Route path={`/${Page.SETUP}`}>\n                    <SetupAccount />\n                  </Route>\n                </Switch>\n              </Container>\n            </Container>\n            {passwordModal}\n            <ToastContainer\n              style={{ background: \"var(--theme-ui-colors-background)\" }}\n              toastClassName=\"toast-body\"\n              bodyClassName=\"toast-body\"\n            />\n            <NetworkDrawer />\n            <PoofAccountDrawer />\n          </>\n        </APR.Provider>\n      </CurrenciesProvider>\n    </Pools.Provider>\n  );\n};\n\nexport default App;\n","import { configureStore, getDefaultMiddleware } from \"@reduxjs/toolkit\";\nimport { save, load } from \"redux-localstorage-simple\";\n\nimport user from \"state/user\";\nimport global from \"state/global\";\n\nconst PERSISTED_KEYS: string[] = [\"user\"];\n\nconst store = configureStore({\n  reducer: {\n    user,\n    global,\n  },\n  middleware: [\n    ...getDefaultMiddleware({ thunk: false }),\n    save({ states: PERSISTED_KEYS }),\n  ],\n  preloadedState: load({ states: PERSISTED_KEYS }),\n});\n\nexport default store;\n\nexport type AppState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://cra.link/PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://cra.link/PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import { ReportHandler } from \"web-vitals\";\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport theme from \"theme\";\nimport App from \"App\";\nimport { Provider } from \"react-redux\";\nimport { ThemeProvider } from \"theme-ui\";\nimport { HashRouter as Router } from \"react-router-dom\";\nimport store from \"state\";\nimport { ContractKitProvider } from \"@celo-tools/use-contractkit\";\nimport { PoofAccountGlobal } from \"hooks/poofAccount\";\nimport { RecoilRoot } from \"recoil\";\nimport * as serviceWorkerRegistration from \"./serviceWorkerRegistration\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nimport \"@celo-tools/use-contractkit/lib/styles.css\";\nimport \"react-toastify/dist/ReactToastify.min.css\";\nimport \"index.css\";\nimport { PoofKitGlobal } from \"hooks/usePoofKit\";\nimport { WalletGlobal } from \"hooks/useWallet\";\n\ndeclare global {\n  var snarkjs: any;\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <ThemeProvider theme={theme}>\n        <RecoilRoot>\n          <Router>\n            <ContractKitProvider\n              dapp={{\n                name: \"Poof.cash\",\n                description: \"Decentralized, private transactions for Celo\",\n                url: \"https://app.poof.cash\",\n                icon: \"https://www.poof.cash/images/Logo.svg\",\n              }}\n            >\n              <WalletGlobal.Provider>\n                <PoofKitGlobal.Provider>\n                  <PoofAccountGlobal.Provider>\n                    <App />\n                  </PoofAccountGlobal.Provider>\n                </PoofKitGlobal.Provider>\n              </WalletGlobal.Provider>\n            </ContractKitProvider>\n          </Router>\n        </RecoilRoot>\n      </ThemeProvider>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.unregister();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import Wallet from \"ethereumjs-wallet\";\nimport { hexToBytes, fromWei } from \"web3-utils\";\nimport BN from \"bn.js\";\nimport { humanFriendlyNumber } from \"utils/number\";\n\nexport const isPrivateKey = (privateKey: string) => {\n  if (privateKey.length < 2) {\n    return false;\n  }\n  let with0x = privateKey;\n  if (privateKey.slice(0, 2) !== \"0x\") {\n    with0x = `0x${privateKey}`;\n  }\n\n  try {\n    Wallet.fromPrivateKey(Buffer.from(hexToBytes(with0x)));\n    return true;\n  } catch (e) {\n    console.warn(e);\n  }\n  return false;\n};\n\nexport const humanFriendlyWei = (wei: BN | string) => {\n  return humanFriendlyNumber(fromWei(wei.toString()));\n};\n"],"sourceRoot":""}